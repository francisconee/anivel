"use strict";(self.webpackChunkpintagonzalo=self.webpackChunkpintagonzalo||[]).push([[179],{743:()=>{function Fe(t){return"function"==typeof t}function Mc(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Kh=Mc(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function ga(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class xn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Fe(r))try{r()}catch(s){e=s instanceof Kh?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{WS(s)}catch(o){e=e??[],o instanceof Kh?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Kh(e)}}add(e){var n;if(e&&e!==this)if(this.closed)WS(e);else{if(e instanceof xn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ga(n,e)}remove(e){const{_finalizers:n}=this;n&&ga(n,e),e instanceof xn&&e._removeParent(this)}}xn.EMPTY=(()=>{const t=new xn;return t.closed=!0,t})();const qS=xn.EMPTY;function GS(t){return t instanceof xn||t&&"closed"in t&&Fe(t.remove)&&Fe(t.add)&&Fe(t.unsubscribe)}function WS(t){Fe(t)?t():t.unsubscribe()}const no={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Qh={setTimeout(t,e,...n){const{delegate:r}=Qh;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Qh;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function KS(t){Qh.setTimeout(()=>{const{onUnhandledError:e}=no;if(!e)throw t;e(t)})}function Y_(){}const Dz=X_("C",void 0,void 0);function X_(t,e,n){return{kind:t,value:e,error:n}}let ro=null;function Yh(t){if(no.useDeprecatedSynchronousErrorHandling){const e=!ro;if(e&&(ro={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=ro;if(ro=null,n)throw r}}else t()}class J_ extends xn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,GS(e)&&e.add(this)):this.destination=xz}static create(e,n,r){return new Nc(e,n,r)}next(e){this.isStopped?ey(function Sz(t){return X_("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?ey(function Az(t){return X_("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ey(Dz,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Pz=Function.prototype.bind;function Z_(t,e){return Pz.call(t,e)}class Mz{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Xh(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Xh(r)}else Xh(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Xh(n)}}}class Nc extends J_{constructor(e,n,r){let i;if(super(),Fe(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&no.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Z_(e.next,s),error:e.error&&Z_(e.error,s),complete:e.complete&&Z_(e.complete,s)}):i=e}this.destination=new Mz(i)}}function Xh(t){no.useDeprecatedSynchronousErrorHandling?function Rz(t){no.useDeprecatedSynchronousErrorHandling&&ro&&(ro.errorThrown=!0,ro.error=t)}(t):KS(t)}function ey(t,e){const{onStoppedNotification:n}=no;n&&Qh.setTimeout(()=>n(t,e))}const xz={closed:!0,next:Y_,error:function Nz(t){throw t},complete:Y_},ty="function"==typeof Symbol&&Symbol.observable||"@@observable";function cs(t){return t}function QS(t){return 0===t.length?cs:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Ke=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function Fz(t){return t&&t instanceof J_||function kz(t){return t&&Fe(t.next)&&Fe(t.error)&&Fe(t.complete)}(t)&&GS(t)}(n)?n:new Nc(n,r,i);return Yh(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=YS(r))((i,s)=>{const o=new Nc({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[ty](){return this}pipe(...n){return QS(n)(this)}toPromise(n){return new(n=YS(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function YS(t){var e;return null!==(e=t??no.Promise)&&void 0!==e?e:Promise}const Vz=Mc(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Lt=(()=>{class t extends Ke{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new XS(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Vz}next(n){Yh(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Yh(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Yh(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?qS:(this.currentObservers=null,s.push(n),new xn(()=>{this.currentObservers=null,ga(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Ke;return n.source=this,n}}return t.create=(e,n)=>new XS(e,n),t})();class XS extends Lt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:qS}}function JS(t){return Fe(t?.lift)}function Pt(t){return e=>{if(JS(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Tt(t,e,n,r,i){return new Lz(t,e,n,r,i)}class Lz extends J_{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ee(t,e){return Pt((n,r)=>{let i=0;n.subscribe(Tt(r,s=>{r.next(t.call(e,s,i++))}))})}function Jh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function ls(t){return this instanceof ls?(this.v=t,this):new ls(t)}function n0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function sy(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const r0=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function s0(t){return Fe(t?.then)}function o0(t){return Fe(t[ty])}function a0(t){return Symbol.asyncIterator&&Fe(t?.[Symbol.asyncIterator])}function u0(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const c0=function s4(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function l0(t){return Fe(t?.[c0])}function d0(t){return function t0(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof ls?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield ls(n.read());if(i)return yield ls(void 0);yield yield ls(r)}}finally{n.releaseLock()}})}function h0(t){return Fe(t?.getReader)}function Qn(t){if(t instanceof Ke)return t;if(null!=t){if(o0(t))return function o4(t){return new Ke(e=>{const n=t[ty]();if(Fe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(r0(t))return function a4(t){return new Ke(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(s0(t))return function u4(t){return new Ke(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,KS)})}(t);if(a0(t))return f0(t);if(l0(t))return function c4(t){return new Ke(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(h0(t))return function l4(t){return f0(d0(t))}(t)}throw u0(t)}function f0(t){return new Ke(e=>{(function d4(t,e){var n,r,i,s;return function ZS(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=n0(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function wi(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Kt(t,e,n=1/0){return Fe(e)?Kt((r,i)=>Ee((s,o)=>e(r,s,i,o))(Qn(t(r,i))),n):("number"==typeof e&&(n=e),Pt((r,i)=>function h4(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let m=!1;Qn(n(g,l++)).subscribe(Tt(e,v=>{i?.(v),s?f(v):e.next(v)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;u.length&&c<r;){const v=u.shift();o?wi(e,o,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return t.subscribe(Tt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function ma(t=1/0){return Kt(cs,t)}const zr=new Ke(t=>t.complete());function oy(t){return t[t.length-1]}function p0(t){return Fe(oy(t))?t.pop():void 0}function xc(t){return function p4(t){return t&&Fe(t.schedule)}(oy(t))?t.pop():void 0}function Zh(t,e=0){return Pt((n,r)=>{n.subscribe(Tt(r,i=>wi(r,t,()=>r.next(i),e),()=>wi(r,t,()=>r.complete(),e),i=>wi(r,t,()=>r.error(i),e)))})}function ef(t,e=0){return Pt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function g0(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ke(n=>{wi(n,e,()=>{const r=t[Symbol.asyncIterator]();wi(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Ct(t,e){return e?function I4(t,e){if(null!=t){if(o0(t))return function m4(t,e){return Qn(t).pipe(ef(e),Zh(e))}(t,e);if(r0(t))return function y4(t,e){return new Ke(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(s0(t))return function _4(t,e){return Qn(t).pipe(ef(e),Zh(e))}(t,e);if(a0(t))return g0(t,e);if(l0(t))return function v4(t,e){return new Ke(n=>{let r;return wi(n,e,()=>{r=t[c0](),wi(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Fe(r?.return)&&r.return()})}(t,e);if(h0(t))return function E4(t,e){return g0(d0(t),e)}(t,e)}throw u0(t)}(t,e):Qn(t)}class gr extends Lt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Z(...t){return Ct(t,xc(t))}function m0(t={}){const{connector:e=(()=>new Lt),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return Pt((g,m)=>{c++,!d&&!l&&h();const v=u=u??e();m.add(()=>{c--,0===c&&!d&&!l&&(a=ay(p,i))}),v.subscribe(m),!o&&c>0&&(o=new Nc({next:_=>v.next(_),error:_=>{d=!0,h(),a=ay(f,n,_),v.error(_)},complete:()=>{l=!0,h(),a=ay(f,r),v.complete()}}),Qn(g).subscribe(o))})(s)}}function ay(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Nc({next:()=>{r.unsubscribe(),t()}});return Qn(e(...n)).subscribe(r)}function Sr(t,e){return Pt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(Tt(r,u=>{i?.unsubscribe();let c=0;const l=s++;Qn(t(u,l)).subscribe(i=Tt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function C4(t,e){return t===e}function Pe(t){for(let e in t)if(t[e]===Pe)return e;throw Error("Could not find renamed property on target object.")}function tf(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Mt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Mt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function uy(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const b4=Pe({__forward_ref__:Pe});function Ue(t){return t.__forward_ref__=Ue,t.toString=function(){return Mt(this())},t}function ne(t){return cy(t)?t():t}function cy(t){return"function"==typeof t&&t.hasOwnProperty(b4)&&t.__forward_ref__===Ue}function ly(t){return t&&!!t.\u0275providers}const _0="https://g.co/ng/security#xss";class T extends Error{constructor(e,n){super(function nf(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function se(t){return"string"==typeof t?t:null==t?"":String(t)}function dy(t,e){throw new T(-201,!1)}function mr(t,e){null==t&&function ee(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function H(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function bt(t){return{providers:t.providers||[],imports:t.imports||[]}}function rf(t){return y0(t,af)||y0(t,v0)}function y0(t,e){return t.hasOwnProperty(e)?t[e]:null}function sf(t){return t&&(t.hasOwnProperty(hy)||t.hasOwnProperty(x4))?t[hy]:null}const af=Pe({\u0275prov:Pe}),hy=Pe({\u0275inj:Pe}),v0=Pe({ngInjectableDef:Pe}),x4=Pe({ngInjectorDef:Pe});var he=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(he||{});let fy;function On(t){const e=fy;return fy=t,e}function I0(t,e,n){const r=rf(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&he.Optional?null:void 0!==e?e:void dy(Mt(t))}const Be=globalThis;class L{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=H({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Oc={},yy="__NG_DI_FLAG__",uf="ngTempTokenPath",F4=/\n/gm,T0="__source";let _a;function ds(t){const e=_a;return _a=t,e}function U4(t,e=he.Default){if(void 0===_a)throw new T(-203,!1);return null===_a?I0(t,void 0,e):_a.get(t,e&he.Optional?null:void 0,e)}function O(t,e=he.Default){return(function E0(){return fy}()||U4)(ne(t),e)}function F(t,e=he.Default){return O(t,cf(e))}function cf(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function vy(t){const e=[];for(let n=0;n<t.length;n++){const r=ne(t[n]);if(Array.isArray(r)){if(0===r.length)throw new T(900,!1);let i,s=he.Default;for(let o=0;o<r.length;o++){const a=r[o],u=B4(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(O(i,s))}else e.push(O(r))}return e}function kc(t,e){return t[yy]=e,t.prototype[yy]=e,t}function B4(t){return t[yy]}function Ti(t){return{toString:t}.toString()}var lf=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(lf||{}),_r=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(_r||{});const qr={},De=[],df=Pe({\u0275cmp:Pe}),Ey=Pe({\u0275dir:Pe}),Iy=Pe({\u0275pipe:Pe}),b0=Pe({\u0275mod:Pe}),Ci=Pe({\u0275fac:Pe}),Fc=Pe({__NG_ELEMENT_ID__:Pe}),D0=Pe({__NG_ENV_ID__:Pe});function A0(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function wy(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];R0(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function S0(t){return 3===t||4===t||6===t}function R0(t){return 64===t.charCodeAt(0)}function Vc(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||P0(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function P0(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const M0="ng-template";function H4(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==A0(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function N0(t){return 4===t.type&&t.value!==M0}function z4(t,e,n){return e===(4!==t.type||n?t.value:M0)}function q4(t,e,n){let r=4;const i=t.attrs||[],s=function K4(t){for(let e=0;e<t.length;e++)if(S0(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!z4(t,u,n)||""===u&&1===e.length){if(Rr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!H4(t.attrs,c,n)){if(Rr(r))return!1;o=!0}continue}const d=G4(8&r?"class":u,i,N0(t),n);if(-1===d){if(Rr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==A0(f,c,0)||2&r&&c!==h){if(Rr(r))return!1;o=!0}}}}else{if(!o&&!Rr(r)&&!Rr(u))return!1;if(o&&Rr(u))continue;o=!1,r=u|1&r}}return Rr(r)||o}function Rr(t){return 0==(1&t)}function G4(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Q4(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function x0(t,e,n=!1){for(let r=0;r<e.length;r++)if(q4(t,e[r],n))return!0;return!1}function O0(t,e){return t?":not("+e.trim()+")":e}function X4(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Rr(o)&&(e+=O0(s,i),i=""),r=o,s=s||!Rr(r);n++}return""!==i&&(e+=O0(s,i)),e}function ut(t){return Ti(()=>{const e=F0(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===lf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||_r.Emulated,styles:t.styles||De,_:null,schemas:t.schemas||null,tView:null,id:""};V0(n);const r=t.dependencies;return n.directiveDefs=hf(r,!1),n.pipeDefs=hf(r,!0),n.id=function sq(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function tq(t){return Ie(t)||Qt(t)}function nq(t){return null!==t}function Nt(t){return Ti(()=>({type:t.type,bootstrap:t.bootstrap||De,declarations:t.declarations||De,imports:t.imports||De,exports:t.exports||De,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function k0(t,e){if(null==t)return qr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function re(t){return Ti(()=>{const e=F0(t);return V0(e),e})}function Ie(t){return t[df]||null}function Qt(t){return t[Ey]||null}function En(t){return t[Iy]||null}function Xn(t,e){const n=t[b0]||null;if(!n&&!0===e)throw new Error(`Type ${Mt(t)} does not have '\u0275mod' property.`);return n}function F0(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||qr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||De,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:k0(t.inputs,e),outputs:k0(t.outputs)}}function V0(t){t.features?.forEach(e=>e(t))}function hf(t,e){if(!t)return null;const n=e?En:tq;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(nq)}const ct=0,B=1,ce=2,Ze=3,Pr=4,Lc=5,un=6,va=7,gt=8,hs=9,Ea=10,oe=11,Uc=12,L0=13,Ia=14,mt=15,Bc=16,wa=17,Gr=18,jc=19,U0=20,fs=21,bi=22,$c=23,Hc=24,fe=25,Ty=1,B0=2,Wr=7,Ta=9,Yt=11;function Fn(t){return Array.isArray(t)&&"object"==typeof t[Ty]}function In(t){return Array.isArray(t)&&!0===t[Ty]}function Cy(t){return 0!=(4&t.flags)}function so(t){return t.componentOffset>-1}function pf(t){return 1==(1&t.flags)}function Mr(t){return!!t.template}function by(t){return 0!=(512&t[ce])}function oo(t,e){return t.hasOwnProperty(Ci)?t[Ci]:null}let Xt=null,gf=!1;function yr(t){const e=Xt;return Xt=t,e}const H0={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function q0(t){if(!qc(t)||t.dirty){if(!t.producerMustRecompute(t)&&!K0(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function W0(t){t.dirty=!0,function G0(t){if(void 0===t.liveConsumerNode)return;const e=gf;gf=!0;try{for(const n of t.liveConsumerNode)n.dirty||W0(n)}finally{gf=e}}(t),t.consumerMarkedDirty?.(t)}function Ay(t){return t&&(t.nextProducerIndex=0),yr(t)}function Sy(t,e){if(yr(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(qc(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)mf(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function K0(t){Ca(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(q0(n),r!==n.version))return!0}return!1}function Q0(t){if(Ca(t),qc(t))for(let e=0;e<t.producerNode.length;e++)mf(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function mf(t,e){if(function X0(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Ca(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)mf(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ca(i),i.producerIndexOfThis[r]=e}}function qc(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ca(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let J0=null;const nR=()=>{},yq=(()=>({...H0,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:nR}))();class vq{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function vr(){return rR}function rR(t){return t.type.prototype.ngOnChanges&&(t.setInput=Iq),Eq}function Eq(){const t=sR(this),e=t?.current;if(e){const n=t.previous;if(n===qr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Iq(t,e,n,r){const i=this.declaredInputs[n],s=sR(t)||function wq(t,e){return t[iR]=e}(t,{previous:qr,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new vq(u&&u.currentValue,e,a===qr),t[r]=e}vr.ngInherit=!0;const iR="__ngSimpleChanges__";function sR(t){return t[iR]||null}const Kr=function(t,e,n){};function je(t){for(;Array.isArray(t);)t=t[ct];return t}function _f(t,e){return je(e[t])}function Vn(t,e){return je(e[t.index])}function uR(t,e){return t.data[e]}function Jn(t,e){const n=e[t];return Fn(n)?n:n[ct]}function gs(t,e){return null==e?null:t[e]}function cR(t){t[wa]=0}function Sq(t){1024&t[ce]||(t[ce]|=1024,dR(t,1))}function lR(t){1024&t[ce]&&(t[ce]&=-1025,dR(t,-1))}function dR(t,e){let n=t[Ze];if(null===n)return;n[Lc]+=e;let r=n;for(n=n[Ze];null!==n&&(1===e&&1===r[Lc]||-1===e&&0===r[Lc]);)n[Lc]+=e,r=n,n=n[Ze]}const te={lFrame:wR(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function pR(){return te.bindingsEnabled}function S(){return te.lFrame.lView}function we(){return te.lFrame.tView}function Di(t){return te.lFrame.contextLView=t,t[gt]}function Ai(t){return te.lFrame.contextLView=null,t}function Jt(){let t=gR();for(;null!==t&&64===t.type;)t=t.parent;return t}function gR(){return te.lFrame.currentTNode}function Qr(t,e){const n=te.lFrame;n.currentTNode=t,n.isParent=e}function xy(){return te.lFrame.isParent}function Oy(){te.lFrame.isParent=!1}function wn(){const t=te.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Aa(){return te.lFrame.bindingIndex++}function Ri(t){const e=te.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Bq(t,e){const n=te.lFrame;n.bindingIndex=n.bindingRootIndex=t,ky(e)}function ky(t){te.lFrame.currentDirectiveIndex=t}function Fy(t){const e=te.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function vR(){return te.lFrame.currentQueryIndex}function Vy(t){te.lFrame.currentQueryIndex=t}function $q(t){const e=t[B];return 2===e.type?e.declTNode:1===e.type?t[un]:null}function ER(t,e,n){if(n&he.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&he.Host||(i=$q(s),null===i||(s=s[Ia],10&i.type))););if(null===i)return!1;e=i,t=s}const r=te.lFrame=IR();return r.currentTNode=e,r.lView=t,!0}function Ly(t){const e=IR(),n=t[B];te.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function IR(){const t=te.lFrame,e=null===t?null:t.child;return null===e?wR(t):e}function wR(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function TR(){const t=te.lFrame;return te.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const CR=TR;function Uy(){const t=TR();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Tn(){return te.lFrame.selectedIndex}function ao(t){te.lFrame.selectedIndex=t}function rt(){const t=te.lFrame;return uR(t.tView,t.selectedIndex)}let DR=!0;function yf(){return DR}function ms(t){DR=t}function vf(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function Ef(t,e,n){AR(t,e,3,n)}function If(t,e,n,r){(3&t[ce])===n&&AR(t,e,n,r)}function By(t,e){let n=t[ce];(3&n)===e&&(n&=8191,n+=1,t[ce]=n)}function AR(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[wa]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[wa]+=65536),(a<s||-1==s)&&(Yq(t,n,e,u),t[wa]=(4294901760&t[wa])+u+2),u++}function SR(t,e){Kr(4,t,e);const n=yr(null);try{e.call(t)}finally{yr(n),Kr(5,t,e)}}function Yq(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[ce]>>13<t[wa]>>16&&(3&t[ce])===e&&(t[ce]+=8192,SR(a,s)):SR(a,s)}const Sa=-1;class Wc{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function $y(t){return t!==Sa}function Kc(t){return 32767&t}function Qc(t,e){let n=function e3(t){return t>>16}(t),r=e;for(;n>0;)r=r[Ia],n--;return r}let Hy=!0;function wf(t){const e=Hy;return Hy=t,e}const RR=255,PR=5;let t3=0;const Yr={};function Tf(t,e){const n=MR(t,e);if(-1!==n)return n;const r=e[B];r.firstCreatePass&&(t.injectorIndex=e.length,zy(r.data,t),zy(e,null),zy(r.blueprint,null));const i=Cf(t,e),s=t.injectorIndex;if($y(i)){const o=Kc(i),a=Qc(i,e),u=a[B].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function zy(t,e){t.push(0,0,0,0,0,0,0,0,e)}function MR(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Cf(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=LR(i),null===r)return Sa;if(n++,i=i[Ia],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Sa}function qy(t,e,n){!function n3(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Fc)&&(r=n[Fc]),null==r&&(r=n[Fc]=t3++);const i=r&RR;e.data[t+(i>>PR)]|=1<<i}(t,e,n)}function NR(t,e,n){if(n&he.Optional||void 0!==t)return t;dy()}function xR(t,e,n,r){if(n&he.Optional&&void 0===r&&(r=null),!(n&(he.Self|he.Host))){const i=t[hs],s=On(void 0);try{return i?i.get(e,r,n&he.Optional):I0(e,r,n&he.Optional)}finally{On(s)}}return NR(r,0,n)}function OR(t,e,n,r=he.Default,i){if(null!==t){if(2048&e[ce]&&!(r&he.Self)){const o=function u3(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[ce]&&!(512&o[ce]);){const a=kR(s,o,n,r|he.Self,Yr);if(a!==Yr)return a;let u=s.parent;if(!u){const c=o[U0];if(c){const l=c.get(n,Yr,r);if(l!==Yr)return l}u=LR(o),o=o[Ia]}s=u}return i}(t,e,n,r,Yr);if(o!==Yr)return o}const s=kR(t,e,n,r,Yr);if(s!==Yr)return s}return xR(e,n,r,i)}function kR(t,e,n,r,i){const s=function s3(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Fc)?t[Fc]:void 0;return"number"==typeof e?e>=0?e&RR:a3:e}(n);if("function"==typeof s){if(!ER(e,t,r))return r&he.Host?NR(i,0,r):xR(e,n,r,i);try{let o;if(o=s(r),null!=o||r&he.Optional)return o;dy()}finally{CR()}}else if("number"==typeof s){let o=null,a=MR(t,e),u=Sa,c=r&he.Host?e[mt][un]:null;for((-1===a||r&he.SkipSelf)&&(u=-1===a?Cf(t,e):e[a+8],u!==Sa&&VR(r,!1)?(o=e[B],a=Kc(u),e=Qc(u,e)):a=-1);-1!==a;){const l=e[B];if(FR(s,a,l.data)){const d=i3(a,e,n,o,r,c);if(d!==Yr)return d}u=e[a+8],u!==Sa&&VR(r,e[B].data[a+8]===c)&&FR(s,a,e)?(o=l,a=Kc(u),e=Qc(u,e)):a=-1}}return i}function i3(t,e,n,r,i,s){const o=e[B],a=o.data[t+8],l=bf(a,o,n,null==r?so(a)&&Hy:r!=o&&0!=(3&a.type),i&he.Host&&s===a);return null!==l?uo(e,o,l,a):Yr}function bf(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Mr(f)&&f.type===n)return u}return null}function uo(t,e,n,r){let i=t[n];const s=e.data;if(function Xq(t){return t instanceof Wc}(i)){const o=i;o.resolving&&function D4(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new T(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Re(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():se(t)}(s[n]));const a=wf(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?On(o.injectImpl):null;ER(t,r,he.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function Qq(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=rR(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==c&&On(c),wf(a),o.resolving=!1,CR()}}return i}function FR(t,e,n){return!!(n[e+(t>>PR)]&1<<t)}function VR(t,e){return!(t&he.Self||t&he.Host&&e)}class Cn{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return OR(this._tNode,this._lView,e,cf(r),n)}}function a3(){return new Cn(Jt(),S())}function Zt(t){return Ti(()=>{const e=t.prototype.constructor,n=e[Ci]||Gy(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Ci]||Gy(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Gy(t){return cy(t)?()=>{const e=Gy(ne(t));return e&&e()}:oo(t)}function LR(t){const e=t[B],n=e.type;return 2===n?e.declTNode:1===n?t[un]:null}const Pa="__parameters__";function Na(t,e,n){return Ti(()=>{const r=function Wy(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(Pa)?u[Pa]:Object.defineProperty(u,Pa,{value:[]})[Pa];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Oa(t,e){t.forEach(n=>Array.isArray(n)?Oa(n,e):e(n))}function BR(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Af(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Zn(t,e,n){let r=ka(t,e);return r>=0?t[1|r]=n:(r=~r,function g3(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Ky(t,e){const n=ka(t,e);if(n>=0)return t[1|n]}function ka(t,e){return function jR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const en=kc(Na("Optional"),8),Rf=kc(Na("SkipSelf"),4);function Of(t){return 128==(128&t.flags)}var _s=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(_s||{});const F3=/^>|^->|<!--|-->|--!>|<!-$/g,V3=/(<|>)/g,L3="\u200b$1\u200b";const Zy=new Map;let U3=0;const tv="__ngContext__";function cn(t,e){Fn(e)?(t[tv]=e[jc],function j3(t){Zy.set(t[jc],t)}(e)):t[tv]=e}let nv;function rv(t,e){return nv(t,e)}function tl(t){const e=t[Ze];return In(e)?e[Ze]:e}function aP(t){return cP(t[Uc])}function uP(t){return cP(t[Pr])}function cP(t){for(;null!==t&&!In(t);)t=t[Pr];return t}function La(t,e,n,r,i){if(null!=r){let s,o=!1;In(r)?s=r:Fn(r)&&(o=!0,r=r[ct]);const a=je(r);0===t&&null!==n?null==i?fP(e,n,a):co(e,n,a,i||null,!0):1===t&&null!==n?co(e,n,a,i||null,!0):2===t?function jf(t,e,n){const r=Uf(t,e);r&&function oG(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function cG(t,e,n,r,i){const s=n[Wr];s!==je(n)&&La(e,t,r,s,i);for(let a=Yt;a<n.length;a++){const u=n[a];rl(u[B],u,t,e,r,s)}}(e,t,s,n,i)}}function iv(t,e){return t.createComment(function ZR(t){return t.replace(F3,e=>e.replace(V3,L3))}(e))}function Vf(t,e,n){return t.createElement(e,n)}function dP(t,e){const n=t[Ta],r=n.indexOf(e);lR(e),n.splice(r,1)}function Lf(t,e){if(t.length<=Yt)return;const n=Yt+e,r=t[n];if(r){const i=r[Bc];null!==i&&i!==t&&dP(i,r),e>0&&(t[n-1][Pr]=r[Pr]);const s=Af(t,Yt+e);!function J3(t,e){rl(t,e,e[oe],2,null,null),e[ct]=null,e[un]=null}(r[B],r);const o=s[Gr];null!==o&&o.detachView(s[B]),r[Ze]=null,r[Pr]=null,r[ce]&=-129}return r}function sv(t,e){if(!(256&e[ce])){const n=e[oe];e[$c]&&Q0(e[$c]),e[Hc]&&Q0(e[Hc]),n.destroyNode&&rl(t,e,n,3,null,null),function tG(t){let e=t[Uc];if(!e)return ov(t[B],t);for(;e;){let n=null;if(Fn(e))n=e[Uc];else{const r=e[Yt];r&&(n=r)}if(!n){for(;e&&!e[Pr]&&e!==t;)Fn(e)&&ov(e[B],e),e=e[Ze];null===e&&(e=t),Fn(e)&&ov(e[B],e),n=e&&e[Pr]}e=n}}(e)}}function ov(t,e){if(!(256&e[ce])){e[ce]&=-129,e[ce]|=256,function sG(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Wc)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Kr(4,a,u);try{u.call(a)}finally{Kr(5,a,u)}}else{Kr(4,i,s);try{s.call(i)}finally{Kr(5,i,s)}}}}}(t,e),function iG(t,e){const n=t.cleanup,r=e[va];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[va]=null);const i=e[fs];if(null!==i){e[fs]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[B].type&&e[oe].destroy();const n=e[Bc];if(null!==n&&In(e[Ze])){n!==e[Ze]&&dP(n,e);const r=e[Gr];null!==r&&r.detachView(t)}!function $3(t){Zy.delete(t[jc])}(e)}}function av(t,e,n){return function hP(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[ct];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===_r.None||s===_r.Emulated)return null}return Vn(r,n)}}(t,e.parent,n)}function co(t,e,n,r,i){t.insertBefore(e,n,r,i)}function fP(t,e,n){t.appendChild(e,n)}function pP(t,e,n,r,i){null!==r?co(t,e,n,r,i):fP(t,e,n)}function Uf(t,e){return t.parentNode(e)}let uv,$f,hv,Hf,_P=function mP(t,e,n){return 40&t.type?Vn(t,n):null};function Bf(t,e,n,r){const i=av(t,r,e),s=e[oe],a=function gP(t,e,n){return _P(t,e,n)}(r.parent||e[un],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)pP(s,i,n[u],a,!1);else pP(s,i,n,a,!1);void 0!==uv&&uv(s,r,e,n,i)}function nl(t,e){if(null!==e){const n=e.type;if(3&n)return Vn(e,t);if(4&n)return cv(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return nl(t,r);{const i=t[e.index];return In(i)?cv(-1,i):je(i)}}if(32&n)return rv(e,t)()||je(t[e.index]);{const r=vP(t,e);return null!==r?Array.isArray(r)?r[0]:nl(tl(t[mt]),r):nl(t,e.next)}}return null}function vP(t,e){return null!==e?t[mt][un].projection[e.projection]:null}function cv(t,e){const n=Yt+t+1;if(n<e.length){const r=e[n],i=r[B].firstChild;if(null!==i)return nl(r,i)}return e[Wr]}function lv(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&cn(je(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)lv(t,e,n.child,r,i,s,!1),La(e,t,i,a,s);else if(32&u){const c=rv(n,r);let l;for(;l=c();)La(e,t,i,l,s);La(e,t,i,a,s)}else 16&u?IP(t,e,r,n,i,s):La(e,t,i,a,s);n=o?n.projectionNext:n.next}}function rl(t,e,n,r,i,s){lv(n,r,t.firstChild,e,i,s,!1)}function IP(t,e,n,r,i,s){const o=n[mt],u=o[un].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)La(e,t,i,u[c],s);else{let c=u;const l=o[Ze];Of(r)&&(c.flags|=128),lv(t,e,c,l,i,s,!0)}}function wP(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function TP(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&wy(t,e,r),null!==i&&wP(t,e,i),null!==s&&function dG(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function Ua(t){return function dv(){if(void 0===$f&&($f=null,Be.trustedTypes))try{$f=Be.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return $f}()?.createHTML(t)||t}function Ba(){if(void 0!==hv)return hv;if(typeof document<"u")return document;throw new T(210,!1)}function fv(){if(void 0===Hf&&(Hf=null,Be.trustedTypes))try{Hf=Be.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Hf}function CP(t){return fv()?.createHTML(t)||t}function DP(t){return fv()?.createScriptURL(t)||t}class lo{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_0})`}}class mG extends lo{getTypeName(){return"HTML"}}class _G extends lo{getTypeName(){return"Style"}}class yG extends lo{getTypeName(){return"Script"}}class vG extends lo{getTypeName(){return"URL"}}class EG extends lo{getTypeName(){return"ResourceURL"}}function er(t){return t instanceof lo?t.changingThisBreaksApplicationSecurity:t}function Xr(t,e){const n=function IG(t){return t instanceof lo&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${_0})`)}return n===e}class AG{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(Ua(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class SG{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=Ua(e),n}}const PG=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function zf(t){return(t=String(t)).match(PG)?t:"unsafe:"+t}function Pi(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function il(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const SP=Pi("area,br,col,hr,img,wbr"),RP=Pi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),PP=Pi("rp,rt"),pv=il(SP,il(RP,Pi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),il(PP,Pi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),il(PP,RP)),gv=Pi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),MP=il(gv,Pi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Pi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),MG=Pi("script,style,template");class NG{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!pv.hasOwnProperty(n))return this.sanitizedSomething=!0,!MG.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!MP.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=s.value;gv[a]&&(u=zf(u)),this.buf.push(" ",o,'="',NP(u),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();pv.hasOwnProperty(n)&&!SP.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(NP(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const xG=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,OG=/([^\#-~ |!])/g;function NP(t){return t.replace(/&/g,"&amp;").replace(xG,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(OG,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let qf;function xP(t,e){let n=null;try{qf=qf||function AP(t){const e=new SG(t);return function RG(){try{return!!(new window.DOMParser).parseFromString(Ua(""),"text/html")}catch{return!1}}()?new AG(e):e}(t);let r=e?String(e):"";n=qf.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=qf.getInertBodyElement(r)}while(r!==s);return Ua((new NG).sanitizeChildren(mv(n)||n))}finally{if(n){const r=mv(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function mv(t){return"content"in t&&function kG(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var tr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(tr||{});function _v(t){const e=sl();return e?CP(e.sanitize(tr.HTML,t)||""):Xr(t,"HTML")?CP(er(t)):xP(Ba(),se(t))}function ho(t){const e=sl();return e?e.sanitize(tr.URL,t)||"":Xr(t,"URL")?er(t):zf(se(t))}function OP(t){const e=sl();if(e)return DP(e.sanitize(tr.RESOURCE_URL,t)||"");if(Xr(t,"ResourceURL"))return DP(er(t));throw new T(904,!1)}function sl(){const t=S();return t&&t[Ea].sanitizer}const ol=new L("ENVIRONMENT_INITIALIZER"),FP=new L("INJECTOR",-1),VP=new L("INJECTOR_DEF_TYPES");class yv{get(e,n=Oc){if(n===Oc){const r=new Error(`NullInjectorError: No provider for ${Mt(e)}!`);throw r.name="NullInjectorError",r}return n}}function Gf(t){return{\u0275providers:t}}function jG(...t){return{\u0275providers:LP(0,t),\u0275fromNgModule:!0}}function LP(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return Oa(e,o=>{const a=o;Wf(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&UP(i,s),n}function UP(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];vv(i,s=>{e(s,r)})}}function Wf(t,e,n,r){if(!(t=ne(t)))return!1;let i=null,s=sf(t);const o=!s&&Ie(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=sf(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)Wf(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Oa(s.imports,l=>{Wf(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&UP(c,e)}if(!a){const c=oo(i)||(()=>new i);e({provide:i,useFactory:c,deps:De},i),e({provide:VP,useValue:i,multi:!0},i),e({provide:ol,useValue:()=>O(i),multi:!0},i)}const u=s.providers;if(null!=u&&!a){const c=t;vv(u,l=>{e(l,c)})}}}return i!==t&&void 0!==t.providers}function vv(t,e){for(let n of t)ly(n)&&(n=n.\u0275providers),Array.isArray(n)?vv(n,e):e(n)}const $G=Pe({provide:String,useValue:Pe});function Ev(t){return null!==t&&"object"==typeof t&&$G in t}function fo(t){return"function"==typeof t}const Iv=new L("Set Injector scope."),Kf={},zG={};let wv;function Qf(){return void 0===wv&&(wv=new yv),wv}class nr{}class ja extends nr{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Cv(e,o=>this.processProvider(o)),this.records.set(FP,$a(void 0,this)),i.has("environment")&&this.records.set(nr,$a(void 0,this));const s=this.records.get(Iv);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(VP.multi,De,he.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=ds(this),r=On(void 0);try{return e()}finally{ds(n),On(r)}}get(e,n=Oc,r=he.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(D0))return e[D0](this);r=cf(r);const s=ds(this),o=On(void 0);try{if(!(r&he.SkipSelf)){let u=this.records.get(e);if(void 0===u){const c=function QG(t){return"function"==typeof t||"object"==typeof t&&t instanceof L}(e)&&rf(e);u=c&&this.injectableDefInScope(c)?$a(Tv(e),Kf):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&he.Self?Qf():this.parent).get(e,n=r&he.Optional&&n===Oc?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[uf]=a[uf]||[]).unshift(Mt(e)),s)throw a;return function j4(t,e,n,r){const i=t[uf];throw e[T0]&&i.unshift(e[T0]),t.message=function $4(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Mt(e);if(Array.isArray(e))i=e.map(Mt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Mt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(F4,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[uf]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{On(o),ds(s)}}resolveInjectorInitializers(){const e=ds(this),n=On(void 0);try{const i=this.get(ol.multi,De,he.Self);for(const s of i)s()}finally{ds(e),On(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Mt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(e){let n=fo(e=ne(e))?e:ne(e&&e.provide);const r=function GG(t){return Ev(t)?$a(void 0,t.useValue):$a($P(t),Kf)}(e);if(fo(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=$a(void 0,Kf,!0),i.factory=()=>vy(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Kf&&(n.value=zG,n.value=n.factory()),"object"==typeof n.value&&n.value&&function KG(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=ne(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Tv(t){const e=rf(t),n=null!==e?e.factory:oo(t);if(null!==n)return n;if(t instanceof L)throw new T(204,!1);if(t instanceof Function)return function qG(t){const e=t.length;if(e>0)throw function Jc(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new T(204,!1);const n=function N4(t){return t&&(t[af]||t[v0])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new T(204,!1)}function $P(t,e,n){let r;if(fo(t)){const i=ne(t);return oo(i)||Tv(i)}if(Ev(t))r=()=>ne(t.useValue);else if(function jP(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...vy(t.deps||[]));else if(function BP(t){return!(!t||!t.useExisting)}(t))r=()=>O(ne(t.useExisting));else{const i=ne(t&&(t.useClass||t.provide));if(!function WG(t){return!!t.deps}(t))return oo(i)||Tv(i);r=()=>new i(...vy(t.deps))}return r}function $a(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Cv(t,e){for(const n of t)Array.isArray(n)?Cv(n,e):n&&ly(n)?Cv(n.\u0275providers,e):e(n)}const Yf=new L("AppId",{providedIn:"root",factory:()=>YG}),YG="ng",HP=new L("Platform Initializer"),ys=new L("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),zP=new L("AnimationModuleType"),qP=new L("CSP nonce",{providedIn:"root",factory:()=>Ba().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let GP=(t,e,n)=>null;function Nv(t,e,n=!1){return GP(t,e,n)}class oW{}class QP{}class uW{resolveComponentFactory(e){throw function aW(t){const e=Error(`No component factory found for ${Mt(t)}.`);return e.ngComponent=t,e}(e)}}let cl=(()=>{class t{static#e=this.NULL=new uW}return t})();function cW(){return qa(Jt(),S())}function qa(t,e){return new rr(Vn(t,e))}let rr=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=cW}return t})();function lW(t){return t instanceof rr?t.nativeElement:t}class ll{}let Mi=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function dW(){const t=S(),n=Jn(Jt().index,t);return(Fn(n)?n:t)[oe]}()}return t})(),hW=(()=>{class t{static#e=this.\u0275prov=H({token:t,providedIn:"root",factory:()=>null})}return t})();class Ga{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const XP=new Ga("16.2.12"),kv={};function tM(t,e=null,n=null,r){const i=nM(t,e,n,r);return i.resolveInjectorInitializers(),i}function nM(t,e=null,n=null,r,i=new Set){const s=[n||De,jG(t)];return r=r||("object"==typeof t?void 0:Mt(t)),new ja(s,e||Qf(),r||null,i)}let Dt=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Oc;static#t=this.NULL=new yv;static create(n,r){if(Array.isArray(n))return tM({name:""},r,n,"");{const i=n.name??"";return tM({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=H({token:t,providedIn:"any",factory:()=>O(FP)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function Vv(t){return t.ngOriginalError}class Ni{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Vv(e);for(;n&&Vv(n);)n=Vv(n);return n||null}}function Uv(t){return e=>{setTimeout(t,void 0,e)}}const lt=class vW extends Lt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=Uv(s),i&&(i=Uv(i)),o&&(o=Uv(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof xn&&e.add(a),a}};function iM(...t){}class pe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new lt(!1),this.onMicrotaskEmpty=new lt(!1),this.onStable=new lt(!1),this.onError=new lt(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function EW(){const t="function"==typeof Be.requestAnimationFrame;let e=Be[t?"requestAnimationFrame":"setTimeout"],n=Be[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function TW(t){const e=()=>{!function wW(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Be,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,jv(t),t.isCheckStableRunning=!0,Bv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),jv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function bW(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return sM(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),oM(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return sM(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),oM(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,jv(t),Bv(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pe.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(pe.isInAngularZone())throw new T(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,IW,iM,iM);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const IW={};function Bv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function jv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function sM(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function oM(t){t._nesting--,Bv(t)}class CW{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new lt,this.onMicrotaskEmpty=new lt,this.onStable=new lt,this.onError=new lt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const aM=new L("",{providedIn:"root",factory:uM});function uM(){const t=F(pe);let e=!0;return function w4(...t){const e=xc(t),n=function g4(t,e){return"number"==typeof oy(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Qn(r[0]):ma(n)(Ct(r,e)):zr}(new Ke(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Ke(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{pe.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{pe.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(m0()))}function xi(t){return t instanceof Function?t():t}let $v=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}return t})();function dl(t){for(;t;){t[ce]|=64;const e=tl(t);if(by(t)&&!e)return t;t=e}return null}const fM=new L("",{providedIn:"root",factory:()=>!1});let rp=null;function _M(t,e){return t[e]??EM()}function yM(t,e){const n=EM();n.producerNode?.length&&(t[e]=rp,n.lView=t,rp=vM())}const kW={...H0,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{dl(t.lView)},lView:null};function vM(){return Object.create(kW)}function EM(){return rp??=vM(),rp}const ue={};function j(t){IM(we(),S(),Tn()+t,!1)}function IM(t,e,n,r){if(!r)if(3==(3&e[ce])){const s=t.preOrderCheckHooks;null!==s&&Ef(e,s,n)}else{const s=t.preOrderHooks;null!==s&&If(e,s,0,n)}ao(n)}function A(t,e=he.Default){const n=S();return null===n?O(t,e):OR(Jt(),n,ne(t),e)}function ip(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[ct]=i,d[ce]=140|r,(null!==c||t&&2048&t[ce])&&(d[ce]|=2048),cR(d),d[Ze]=d[Ia]=t,d[gt]=n,d[Ea]=o||t&&t[Ea],d[oe]=a||t&&t[oe],d[hs]=u||t&&t[hs]||null,d[un]=s,d[jc]=function B3(){return U3++}(),d[bi]=l,d[U0]=c,d[mt]=2==e.type?t[mt]:d,d}function Qa(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Hv(t,e,n,r,i){const s=gR(),o=xy(),u=t.data[e]=function HW(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function Da(){return null!==te.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function Uq(){return te.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Gc(){const t=te.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Qr(s,!0),s}function hl(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function TM(t,e,n,r,i){const s=_M(e,$c),o=Tn(),a=2&r;try{ao(-1),a&&e.length>fe&&IM(t,e,fe,!1),Kr(a?2:0,i);const c=a?s:null,l=Ay(c);try{null!==c&&(c.dirty=!1),n(r,i)}finally{Sy(c,l)}}finally{a&&null===e[$c]&&yM(e,$c),ao(o),Kr(a?3:1,i)}}function zv(t,e,n){if(Cy(e)){const r=yr(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{yr(r)}}}function qv(t,e,n){pR()&&(function YW(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;so(n)&&function r6(t,e,n){const r=Vn(e,t),i=CM(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=sp(t,ip(t,i,null,o,r,e,null,t[Ea].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Tf(n,e),cn(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=uo(e,t,a,n);cn(c,e),null!==o&&i6(0,a-i,c,u,0,o),Mr(u)&&(Jn(n.index,e)[gt]=uo(e,t,a,n))}}(t,e,n,Vn(n,e)),64==(64&n.flags)&&RM(t,e,n))}function Gv(t,e,n=Vn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function CM(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Wv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Wv(t,e,n,r,i,s,o,a,u,c,l){const d=fe+r,h=d+i,f=function VW(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ue);return n}(d,h),p="function"==typeof c?c():c;return f[B]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let bM=t=>null;function DM(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?AM(n,e,i,s):r.hasOwnProperty(i)&&AM(n,e,r[i],s)}return n}function AM(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function ir(t,e,n,r,i,s,o,a){const u=Vn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(Jv(t,n,l,r,i),so(e)&&function GW(t,e){const n=Jn(e,t);16&n[ce]||(n[ce]|=64)}(n,e.index)):3&e.type&&(r=function qW(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function Kv(t,e,n,r){if(pR()){const i=null===r?null:{"":-1},s=function JW(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(x0(e,o.selectors,!1))if(r||(r=[]),Mr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Qv(t,e,a.length)}else r.unshift(o),Qv(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&SM(t,e,n,o,i,a),i&&function ZW(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new T(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Vc(n.mergedAttrs,n.attrs)}function SM(t,e,n,r,i,s){for(let c=0;c<r.length;c++)qy(Tf(n,e),t,r[c].type);!function t6(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=hl(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=Vc(n.mergedAttrs,l.hostAttrs),n6(t,n,e,u,l),e6(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function zW(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=DM(d.inputs,l,u,h?h.inputs:null),c=DM(d.outputs,l,c,p);const g=null===u||null===o||N0(e)?null:s6(u,l,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function RM(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function jq(){return te.lFrame.currentDirectiveIndex}();try{ao(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];ky(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&XW(u,c)}}finally{ao(-1),ky(o)}}function XW(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Qv(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function e6(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Mr(e)&&(n[""]=t)}}function n6(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=oo(i.type)),o=new Wc(s,Mr(i),A);t.blueprint[r]=o,n[r]=o,function KW(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function QW(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,hl(t,n,i.hostVars,ue),i)}function Jr(t,e,n,r,i,s){const o=Vn(t,e);!function Yv(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?se(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[oe],o,s,t.value,n,r,i)}function i6(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)PM(r,n,o[a++],o[a++],o[a++])}function PM(t,e,n,r,i){const s=yr(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{yr(s)}}function s6(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function MM(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function NM(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];Vy(n[r]),o.contentQueries(2,e[s],s)}}}function sp(t,e){return t[Uc]?t[L0][Pr]=e:t[Uc]=e,t[L0]=e,e}function Xv(t,e,n){Vy(0);const r=yr(null);try{e(t,n)}finally{yr(r)}}function xM(t){return t[va]||(t[va]=[])}function OM(t){return t.cleanup||(t.cleanup=[])}function kM(t,e,n){return(null===t||Mr(t))&&(n=function Ny(t){for(;Array.isArray(t);){if("object"==typeof t[Ty])return t;t=t[ct]}return null}(n[e.index])),n[oe]}function FM(t,e){const n=t[hs],r=n?n.get(Ni,null):null;r&&r.handleError(e)}function Jv(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];PM(t.data[o],e[o],r,a,i)}}function o6(t,e){const n=Jn(e,t),r=n[B];!function a6(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[ct];null!==i&&null===n[bi]&&(n[bi]=Nv(i,n[hs])),Zv(r,n,n[gt])}function Zv(t,e,n){Ly(e);try{const r=t.viewQuery;null!==r&&Xv(1,r,n);const i=t.template;null!==i&&TM(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&NM(t,e),t.staticViewQueries&&Xv(2,t.viewQuery,n);const s=t.components;null!==s&&function u6(t,e){for(let n=0;n<e.length;n++)o6(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ce]&=-5,Uy()}}let VM=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function _q(t,e,n){const r=Object.create(yq);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>W0(r),run:()=>{if(r.dirty=!1,r.hasRun&&!K0(r))return;r.hasRun=!0;const o=Ay(r);try{r.cleanupFn(),r.cleanupFn=nR,r.fn(i)}finally{Sy(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(n,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const u=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}return t})();function op(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=uy(i,a):2==s&&(r=uy(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function fl(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(je(s)),In(s)&&LM(s,r);const o=n.type;if(8&o)fl(t,e,n.child,r);else if(32&o){const a=rv(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=vP(e,n);if(Array.isArray(a))r.push(...a);else{const u=tl(e[mt]);fl(u[B],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function LM(t,e){for(let n=Yt;n<t.length;n++){const r=t[n],i=r[B].firstChild;null!==i&&fl(r[B],r,i,e)}t[Wr]!==t[ct]&&e.push(t[Wr])}function ap(t,e,n,r=!0){const i=e[Ea],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{UM(t,e,t.template,n)}catch(u){throw r&&FM(e,u),u}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function UM(t,e,n,r){const i=e[ce];if(256!=(256&i)){e[Ea].effectManager?.flush(),Ly(e);try{cR(e),function _R(t){return te.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&TM(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&Ef(e,c,null)}else{const c=t.preOrderHooks;null!==c&&If(e,c,0,null),By(e,0)}if(function d6(t){for(let e=aP(t);null!==e;e=uP(e)){if(!e[B0])continue;const n=e[Ta];for(let r=0;r<n.length;r++){Sq(n[r])}}}(e),BM(e,2),null!==t.contentQueries&&NM(t,e),o){const c=t.contentCheckHooks;null!==c&&Ef(e,c)}else{const c=t.contentHooks;null!==c&&If(e,c,1),By(e,1)}!function FW(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=_M(e,Hc);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)ao(~s);else{const o=s,a=n[++i],u=n[++i];Bq(a,o),r.dirty=!1;const c=Ay(r);try{u(2,e[o])}finally{Sy(r,c)}}}}finally{null===e[Hc]&&yM(e,Hc),ao(-1)}}(t,e);const a=t.components;null!==a&&$M(e,a,0);const u=t.viewQuery;if(null!==u&&Xv(2,u,r),o){const c=t.viewCheckHooks;null!==c&&Ef(e,c)}else{const c=t.viewHooks;null!==c&&If(e,c,2),By(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[ce]&=-73,lR(e)}finally{Uy()}}}function BM(t,e){for(let n=aP(t);null!==n;n=uP(n))for(let r=Yt;r<n.length;r++)jM(n[r],e)}function h6(t,e,n){jM(Jn(e,t),n)}function jM(t,e){if(!function Dq(t){return 128==(128&t[ce])}(t))return;const n=t[B],r=t[ce];if(80&r&&0===e||1024&r||2===e)UM(n,t,n.template,t[gt]);else if(t[Lc]>0){BM(t,1);const i=n.components;null!==i&&$M(t,i,1)}}function $M(t,e,n){for(let r=0;r<e.length;r++)h6(t,e[r],n)}class pl{get rootNodes(){const e=this._lView,n=e[B];return fl(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[gt]}set context(e){this._lView[gt]=e}get destroyed(){return 256==(256&this._lView[ce])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ze];if(In(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Lf(e,r),Af(n,r))}this._attachedToViewContainer=!1}sv(this._lView[B],this._lView)}onDestroy(e){!function hR(t,e){if(256==(256&t[ce]))throw new T(911,!1);null===t[fs]&&(t[fs]=[]),t[fs].push(e)}(this._lView,e)}markForCheck(){dl(this._cdRefInjectingView||this._lView)}detach(){this._lView[ce]&=-129}reattach(){this._lView[ce]|=128}detectChanges(){ap(this._lView[B],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function eG(t,e){rl(t,e,e[oe],2,null,null)}(this._lView[B],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=e}}class f6 extends pl{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;ap(e[B],e,e[gt],!1)}checkNoChanges(){}get context(){return null}}class HM extends cl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Ie(e);return new gl(n,this.ngModule)}}function zM(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class g6{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=cf(r);const i=this.injector.get(e,kv,r);return i!==kv||n===kv?i:this.parentInjector.get(e,n,r)}}class gl extends QP{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=zM(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return zM(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function J4(t){return t.map(X4).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof nr?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new g6(e,s):e,a=o.get(ll,null);if(null===a)throw new T(407,!1);const d={rendererFactory:a,sanitizer:o.get(hW,null),effectManager:o.get(VM,null),afterRenderEventManager:o.get($v,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function LW(t,e,n,r){const s=r.get(fM,!1)||n===_r.ShadowDom,o=t.selectRootElement(e,s);return function UW(t){bM(t)}(o),o}(h,r,this.componentDef.encapsulation,o):Vf(h,f,function p6(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),v=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _=null;null!==p&&(_=Nv(p,o,!0));const I=Wv(0,null,null,1,0,null,null,null,null,null,null),C=ip(null,I,null,v,null,null,d,h,o,null,_);let M,$;Ly(C);try{const X=this.componentDef;let ye,ot=null;X.findHostDirectiveDefs?(ye=[],ot=new Map,X.findHostDirectiveDefs(X,ye,ot),ye.push(X)):ye=[X];const yn=function _6(t,e){const n=t[B],r=fe;return t[r]=e,Qa(n,r,2,"#host",null)}(C,p),K_=function y6(t,e,n,r,i,s,o){const a=i[B];!function v6(t,e,n,r){for(const i of t)e.mergedAttrs=Vc(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(op(e,e.mergedAttrs,!0),null!==n&&TP(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=Nv(e,i[hs]));const c=s.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=ip(i,CM(n),null,l,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&Qv(a,t,r.length-1),sp(i,d),i[t.index]=d}(yn,p,X,ye,C,d,h);$=uR(I,fe),p&&function I6(t,e,n,r){if(r)wy(t,n,["ng-version",XP.full]);else{const{attrs:i,classes:s}=function Z4(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Rr(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&wy(t,n,i),s&&s.length>0&&wP(t,n,s.join(" "))}}(h,X,p,r),void 0!==n&&function w6(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}($,this.ngContentSelectors,n),M=function E6(t,e,n,r,i,s){const o=Jt(),a=i[B],u=Vn(o,i);SM(a,i,o,n,null,r);for(let l=0;l<n.length;l++)cn(uo(i,a,o.directiveStart+l,o),i);RM(a,i,o),u&&cn(u,i);const c=uo(i,a,o.directiveStart+o.componentOffset,o);if(t[gt]=i[gt]=c,null!==s)for(const l of s)l(c,e);return zv(a,o,t),c}(K_,X,ye,ot,C,[T6]),Zv(I,C,null)}finally{Uy()}return new m6(this.componentType,M,qa($,C),C,$)}}class m6 extends oW{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new f6(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;Jv(s[B],s,i,e,n),this.previousInputValues.set(e,n),dl(Jn(this._tNode.index,s))}}get injector(){return new Cn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function T6(){const t=Jt();vf(S()[B],t)}function Me(t){let e=function qM(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Mr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new T(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=up(t.inputs),o.inputTransforms=up(t.inputTransforms),o.declaredInputs=up(t.declaredInputs),o.outputs=up(t.outputs);const a=i.hostBindings;a&&A6(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&b6(t,u),c&&D6(t,c),tf(t.inputs,i.inputs),tf(t.declaredInputs,i.declaredInputs),tf(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),tf(o.inputTransforms,i.inputTransforms)),Mr(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Me&&(n=!1)}}e=Object.getPrototypeOf(e)}!function C6(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Vc(i.hostAttrs,n=Vc(n,i.hostAttrs))}}(r)}function up(t){return t===qr?{}:t===De?[]:t}function b6(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function D6(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function A6(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function QM(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function cp(t){return!!eE(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function eE(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Zr(t,e,n){return t[e]=n}function ln(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Un(t,e,n,r){const i=S();return ln(i,Aa(),e)&&(we(),Jr(rt(),i,t,e,n,r)),Un}function Xa(t,e,n,r){return ln(t,Aa(),n)?e+se(n)+r:ue}function ge(t,e,n,r,i,s,o,a){const u=S(),c=we(),l=t+fe,d=c.firstCreatePass?function J6(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Qa(e,t,4,o||null,gs(c,a));Kv(e,n,l,gs(c,u)),vf(e,l);const d=l.tView=Wv(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Qr(d,!1);const h=uN(c,u,d,t);yf()&&Bf(c,u,h,d),cn(h,u),sp(u,u[l]=MM(h,u,h,d)),pf(d)&&qv(c,u,d),null!=o&&Gv(u,d,a)}let uN=function cN(t,e,n,r){return ms(!0),e[oe].createComment("")};function Y(t,e,n){const r=S();return ln(r,Aa(),e)&&ir(we(),rt(),r,t,e,r[oe],n,!1),Y}function oE(t,e,n,r,i){const o=i?"class":"style";Jv(t,n,e.inputs[o],o,r)}function D(t,e,n,r){const i=S(),s=we(),o=fe+t,a=i[oe],u=s.firstCreatePass?function r5(t,e,n,r,i,s){const o=e.consts,u=Qa(e,t,2,r,gs(o,i));return Kv(e,n,u,gs(o,s)),null!==u.attrs&&op(u,u.attrs,!1),null!==u.mergedAttrs&&op(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=lN(s,i,u,a,e,t);i[o]=c;const l=pf(u);return Qr(u,!0),TP(a,c,u),32!=(32&u.flags)&&yf()&&Bf(s,i,c,u),0===function Pq(){return te.lFrame.elementDepthCount}()&&cn(c,i),function Mq(){te.lFrame.elementDepthCount++}(),l&&(qv(s,i,u),zv(s,u,i)),null!==r&&Gv(i,u),D}function b(){let t=Jt();xy()?Oy():(t=t.parent,Qr(t,!1));const e=t;(function xq(t){return te.skipHydrationRootTNode===t})(e)&&function Vq(){te.skipHydrationRootTNode=null}(),function Nq(){te.lFrame.elementDepthCount--}();const n=we();return n.firstCreatePass&&(vf(n,t),Cy(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function Jq(t){return 0!=(8&t.flags)}(e)&&oE(n,e,S(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Zq(t){return 0!=(16&t.flags)}(e)&&oE(n,e,S(),e.stylesWithoutHost,!1),b}function K(t,e,n,r){return D(t,e,n,r),b(),K}let lN=(t,e,n,r,i,s)=>(ms(!0),Vf(r,i,function bR(){return te.lFrame.currentNamespace}()));function Bn(t,e,n){const r=S(),i=we(),s=t+fe,o=i.firstCreatePass?function o5(t,e,n,r,i){const s=e.consts,o=gs(s,r),a=Qa(e,t,8,"ng-container",o);return null!==o&&op(a,o,!0),Kv(e,n,a,gs(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];Qr(o,!0);const a=hN(i,r,o,t);return r[s]=a,yf()&&Bf(i,r,a,o),cn(a,r),pf(o)&&(qv(i,r,o),zv(i,o,r)),null!=n&&Gv(r,o),Bn}function jn(){let t=Jt();const e=we();return xy()?Oy():(t=t.parent,Qr(t,!1)),e.firstCreatePass&&(vf(e,t),Cy(t)&&e.queries.elementEnd(t)),jn}let hN=(t,e,n,r)=>(ms(!0),iv(e[oe],""));function vs(){return S()}function El(t){return!!t&&"function"==typeof t.then}function fN(t){return!!t&&"function"==typeof t.subscribe}function Ne(t,e,n,r){const i=S(),s=we(),o=Jt();return function gN(t,e,n,r,i,s,o){const a=pf(r),c=t.firstCreatePass&&OM(t),l=e[gt],d=xM(e);let h=!0;if(3&r.type||o){const g=Vn(r,e),m=o?o(g):g,v=d.length,_=o?C=>o(je(C[r.index])):r.index;let I=null;if(!o&&a&&(I=function c5(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[va],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==I)(I.__ngLastListenerFn__||I).__ngNextListenerFn__=s,I.__ngLastListenerFn__=s,h=!1;else{s=_N(r,e,l,s,!1);const C=n.listen(m,i,s);d.push(s,C),c&&c.push(i,_,v,v+1)}}else s=_N(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const M=e[p[m]][p[m+1]].subscribe(s),$=d.length;d.push(s,M),c&&c.push(i,r.index,$,-($+1))}}}(s,i,i[oe],o,t,e,r),Ne}function mN(t,e,n,r){try{return Kr(6,e,n),!1!==n(r)}catch(i){return FM(t,i),!1}finally{Kr(7,e,n)}}function _N(t,e,n,r,i){return function s(o){if(o===Function)return r;dl(t.componentOffset>-1?Jn(t.index,e):e);let u=mN(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=mN(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function $e(t=1){return function Hq(t){return(te.lFrame.contextLView=function zq(t,e){for(;t>0;)e=e[Ia],t--;return e}(t,te.lFrame.contextLView))[gt]}(t)}function pp(t,e,n){return aE(t,"",e,"",n),pp}function aE(t,e,n,r,i){const s=S(),o=Xa(s,e,n,r);return o!==ue&&ir(we(),rt(),s,t,o,s[oe],i,!1),aE}function gp(t,e){return t<<17|e<<2}function Es(t){return t>>17&32767}function uE(t){return 2|t}function go(t){return(131068&t)>>2}function cE(t,e){return-131069&t|e<<2}function lE(t){return 1|t}function DN(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Es(s):go(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];y5(t[a],e)&&(u=!0,t[a+1]=r?lE(l):uE(l)),a=r?Es(l):go(l)}u&&(t[n+1]=r?uE(s):lE(s))}function y5(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ka(t,e)>=0}const Ot={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function AN(t){return t.substring(Ot.key,Ot.keyEnd)}function SN(t,e){const n=Ot.textEnd;return n===e?-1:(e=Ot.keyEnd=function w5(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Ot.key=e,n),su(t,e,n))}function su(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function mo(t,e,n){return Nr(t,e,n,!1),mo}function mp(t,e){return Nr(t,e,null,!0),mp}function ki(t){!function xr(t,e,n,r){const i=we(),s=Ri(2);i.firstUpdatePass&&ON(i,null,s,r);const o=S();if(n!==ue&&ln(o,s,n)){const a=i.data[Tn()];if(LN(a,r)&&!xN(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(n=uy(u,n||"")),oE(i,a,o,n,r)}else!function N5(t,e,n,r,i,s,o,a){i===ue&&(i=De);let u=0,c=0,l=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==l||null!==d;){const h=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let g,p=null;l===d?(u+=2,c+=2,h!==f&&(p=d,g=f)):null===d||null!==l&&l<d?(u+=2,p=l):(c+=2,p=d,g=f),null!==p&&FN(t,e,n,r,p,g,o,a),l=u<i.length?i[u]:null,d=c<s.length?s[c]:null}}(i,a,o,o[oe],o[s+1],o[s+1]=function P5(t,e,n){if(null==n||""===n)return De;const r=[],i=er(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}(M5,ti,t,!0)}function ti(t,e){for(let n=function E5(t){return function PN(t){Ot.key=0,Ot.keyEnd=0,Ot.value=0,Ot.valueEnd=0,Ot.textEnd=t.length}(t),SN(t,su(t,0,Ot.textEnd))}(e);n>=0;n=SN(e,n))Zn(t,AN(e),!0)}function Nr(t,e,n,r){const i=S(),s=we(),o=Ri(2);s.firstUpdatePass&&ON(s,t,o,r),e!==ue&&ln(i,o,e)&&FN(s,s.data[Tn()],i,i[oe],t,i[o+1]=function x5(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Mt(er(t)))),t}(e,n),r,o)}function xN(t,e){return e>=t.expandoStartIndex}function ON(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Tn()],o=xN(t,n);LN(s,r)&&null===e&&!o&&(e=!1),e=function D5(t,e,n,r){const i=Fy(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Il(n=dE(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=dE(i,t,e,n,r),null===s){let u=function A5(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==go(r))return t[Es(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=dE(null,t,e,u[1],r),u=Il(u,e.attrs,r),function S5(t,e,n,r){t[Es(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function R5(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Il(r,t[s].hostAttrs,n);return Il(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function m5(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Es(o),u=go(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||ka(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=Es(t[a+1]);t[r+1]=gp(h,a),0!==h&&(t[h+1]=cE(t[h+1],r)),t[a+1]=function p5(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=gp(a,0),0!==a&&(t[a+1]=cE(t[a+1],r)),a=r;else t[r+1]=gp(u,0),0===a?a=r:t[u+1]=cE(t[u+1],r),u=r;c&&(t[r+1]=uE(t[r+1])),DN(t,l,r,!0),DN(t,l,r,!1),function _5(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&ka(s,e)>=0&&(n[r+1]=lE(n[r+1]))}(e,l,t,r,s),o=gp(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function dE(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Il(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Il(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Zn(t,o,!!n||e[++s]))}return void 0===t?null:t}function M5(t,e,n){const r=String(e);""!==r&&!r.includes(" ")&&Zn(t,r,n)}function FN(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function g5(t){return 1==(1&t)}(c)?VN(u,e,n,i,go(c),o):void 0;_p(l)||(_p(s)||function f5(t){return 2==(2&t)}(c)&&(s=VN(u,null,n,i,a,o)),function lG(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:_s.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=_s.Important),t.setStyle(n,r,i,s))}}(r,o,_f(Tn(),n),i,s))}function VN(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===ue&&(h=d?De:void 0);let f=d?Ky(h,r):l===r?h:void 0;if(c&&!_p(f)&&(f=Ky(u,r)),_p(f)&&(a=f,o))return a;const p=t[i+1];i=o?Es(p):go(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Ky(u,r))}return a}function _p(t){return void 0!==t}function LN(t,e){return 0!=(t.flags&(e?8:16))}function N(t,e=""){const n=S(),r=we(),i=t+fe,s=r.firstCreatePass?Qa(r,i,1,e,null):r.data[i],o=UN(r,n,s,e,t);n[i]=o,yf()&&Bf(r,n,o,s),Qr(s,!1)}let UN=(t,e,n,r,i)=>(ms(!0),function Ff(t,e){return t.createText(e)}(e[oe],r));function sr(t){return $n("",t,""),sr}function $n(t,e,n){const r=S(),i=Xa(r,t,e,n);return i!==ue&&function Oi(t,e,n){const r=_f(e,t);!function lP(t,e,n){t.setValue(e,n)}(t[oe],r,n)}(r,Tn(),i),$n}function hE(t,e,n){const r=S();if(ln(r,Aa(),e)){const s=we(),o=rt();ir(s,o,r,t,e,kM(Fy(s.data),o,r),n,!0)}return hE}const au="en-US";let ox=au;function gE(t,e,n,r,i){if(t=ne(t),Array.isArray(t))for(let s=0;s<t.length;s++)gE(t[s],e,n,r,i);else{const s=we(),o=S(),a=Jt();let u=fo(t)?t:ne(t.provide);const c=$P(t),l=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(fo(t)||!t.multi){const f=new Wc(c,i,A),p=_E(u,e,i?l:l+h,d);-1===p?(qy(Tf(a,o),s,u),mE(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=_E(u,e,l+h,d),p=_E(u,e,l,l+h),m=p>=0&&n[p];if(i&&!m||!i&&!(f>=0&&n[f])){qy(Tf(a,o),s,u);const v=function e8(t,e,n,r,i){const s=new Wc(t,n,A);return s.multi=[],s.index=e,s.componentProviders=0,Mx(s,i,r&&!n),s}(i?Z9:J9,n.length,i,r,c);!i&&m&&(n[p].providerFactory=v),mE(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),o.push(v)}else mE(s,t,f>-1?f:p,Mx(n[i?p:f],c,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function mE(t,e,n,r){const i=fo(e),s=function HG(t){return!!t.useClass}(e);if(i||s){const u=(s?ne(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function Mx(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function _E(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function J9(t,e,n,r){return yE(this.multi,[])}function Z9(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=uo(n,n[B],this.providerFactory.index,r);s=a.slice(0,o),yE(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],yE(i,s);return s}function yE(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ze(t,e=[]){return n=>{n.providersResolver=(r,i)=>function X9(t,e,n){const r=we();if(r.firstCreatePass){const i=Mr(t);gE(n,r.data,r.blueprint,i,!0),gE(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class yo{}class Nx{}class vE extends yo{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new HM(this);const i=Xn(e);this._bootstrapComponents=xi(i.bootstrap),this._r3Injector=nM(e,n,[{provide:yo,useValue:this},{provide:cl,useValue:this.componentFactoryResolver},...r],Mt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class EE extends Nx{constructor(e){super(),this.moduleType=e}create(e){return new vE(this.moduleType,e,[])}}class xx extends yo{constructor(e){super(),this.componentFactoryResolver=new HM(this),this.instance=null;const n=new ja([...e.providers,{provide:yo,useValue:this},{provide:cl,useValue:this.componentFactoryResolver}],e.parent||Qf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function IE(t,e,n=null){return new xx({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let r8=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=LP(0,n.type),i=r.length>0?IE([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=H({token:t,providedIn:"environment",factory:()=>new t(O(nr))})}return t})();function wp(t){t.getStandaloneInjector=e=>e.get(r8).getOrCreateStandaloneInjector(t)}function TE(t,e,n){const r=wn()+t,i=S();return i[r]===ue?Zr(i,r,n?e.call(n):e()):function ml(t,e){return t[e]}(i,r)}function Bx(t,e,n,r){return function jx(t,e,n,r,i,s){const o=e+n;return ln(t,o,i)?Zr(t,o+1,s?r.call(s,i):r(i)):Al(t,o+1)}(S(),wn(),t,e,n,r)}function CE(t,e,n,r,i){return function $x(t,e,n,r,i,s,o){const a=e+n;return function po(t,e,n,r){const i=ln(t,e,n);return ln(t,e+1,r)||i}(t,a,i,s)?Zr(t,a+2,o?r.call(o,i,s):r(i,s)):Al(t,a+2)}(S(),wn(),t,e,n,r,i)}function Al(t,e){const n=t[e];return n===ue?void 0:n}function D8(){return this._results[Symbol.iterator]()}class bE{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new lt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=bE.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=D8)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function Er(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function f3(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function S8(t,e,n,r=!0){const i=e[B];if(function nG(t,e,n,r){const i=Yt+r,s=n.length;r>0&&(n[i-1][Pr]=e),r<s-Yt?(e[Pr]=n[i],BR(n,Yt+r,e)):(n.push(e),e[Pr]=null),e[Ze]=n;const o=e[Bc];null!==o&&n!==o&&function rG(t,e){const n=t[Ta];e[mt]!==e[Ze][Ze][mt]&&(t[B0]=!0),null===n?t[Ta]=[e]:n.push(e)}(o,e);const a=e[Gr];null!==a&&a.insertView(t),e[ce]|=128}(i,e,t,n),r){const s=cv(n,t),o=e[oe],a=Uf(o,t[Wr]);null!==a&&function Z3(t,e,n,r,i,s){r[ct]=i,r[un]=e,rl(t,r,n,1,i,s)}(i,t[un],o,e,a,s)}}let Fi=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=M8}return t})();const R8=Fi,P8=class extends R8{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function A8(t,e,n,r){const i=e.tView,a=ip(t,i,n,4096&t[ce]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Bc]=t[e.index];const c=t[Gr];return null!==c&&(a[Gr]=c.createEmbeddedView(i)),Zv(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new pl(i)}};function M8(){return Tp(Jt(),S())}function Tp(t,e){return 4&t.type?new P8(e,t,qa(t,e)):null}let Or=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=V8}return t})();function V8(){return Jx(Jt(),S())}const L8=Or,Yx=class extends L8{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return qa(this._hostTNode,this._hostLView)}get injector(){return new Cn(this._hostTNode,this._hostLView)}get parentInjector(){const e=Cf(this._hostTNode,this._hostLView);if($y(e)){const n=Qc(e,this._hostLView),r=Kc(e);return new Cn(n[B].data[r+8],n)}return new Cn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=Xx(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Yt}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function Xc(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const u=o?e:new gl(Ie(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const m=(o?c:this.parentInjector).get(nr,null);m&&(s=m)}Ie(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function Aq(t){return In(t[Ze])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[Ze],l=new Yx(c,c[un],c[Ze]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return S8(a,i,o,!r),e.attachToViewContainerRef(),BR(DE(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=Xx(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Lf(this._lContainer,n);r&&(Af(DE(this._lContainer),n),sv(r[B],r))}detach(e){const n=this._adjustIndex(e,-1),r=Lf(this._lContainer,n);return r&&null!=Af(DE(this._lContainer),n)?new pl(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Xx(t){return t[8]}function DE(t){return t[8]||(t[8]=[])}function Jx(t,e){let n;const r=e[t.index];return In(r)?n=r:(n=MM(r,e,null,t),e[t.index]=n,sp(e,n)),Zx(n,e,t,r),new Yx(n,t,e)}let Zx=function e1(t,e,n,r){if(t[Wr])return;let i;i=8&n.type?je(r):function U8(t,e){const n=t[oe],r=n.createComment(""),i=Vn(e,t);return co(n,Uf(n,i),r,function aG(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Wr]=i};class AE{constructor(e){this.queryList=e,this.matches=null}clone(){return new AE(this.queryList)}setDirty(){this.queryList.setDirty()}}class SE{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new SE(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==a1(e,n).matches&&this.queries[n].setDirty()}}class t1{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class RE{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new RE(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class PE{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new PE(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,$8(n,s)),this.matchTNodeWithReadOption(e,n,bf(n,e,s,!1,!1))}else r===Fi?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,bf(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===rr||i===Or||i===Fi&&4&n.type)this.addMatch(n.index,-2);else{const s=bf(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function $8(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function z8(t,e,n,r){return-1===n?function H8(t,e){return 11&t.type?qa(t,e):4&t.type?Tp(t,e):null}(e,t):-2===n?function q8(t,e,n){return n===rr?qa(e,t):n===Fi?Tp(e,t):n===Or?Jx(e,t):void 0}(t,e,r):uo(t,t[B],n,e)}function n1(t,e,n,r){const i=e[Gr].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let u=0;u<o.length;u+=2){const c=o[u];a.push(c<0?null:z8(e,s[c],o[u+1],n.metadata.read))}i.matches=a}return i.matches}function ME(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=n1(t,e,i,n);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)r.push(o[a/2]);else{const c=s[a+1],l=e[-u];for(let d=Yt;d<l.length;d++){const h=l[d];h[Bc]===h[Ze]&&ME(h[B],h,c,r)}if(null!==l[Ta]){const d=l[Ta];for(let h=0;h<d.length;h++){const f=d[h];ME(f[B],f,c,r)}}}}}return r}function NE(t){const e=S(),n=we(),r=vR();Vy(r+1);const i=a1(n,r);if(t.dirty&&function bq(t){return 4==(4&t[ce])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?ME(n,e,r,[]):n1(n,e,i,r);t.reset(s,lW),t.notifyOnChanges()}return!0}return!1}function r1(t,e,n){const r=we();r.firstCreatePass&&(function o1(t,e,n){null===t.queries&&(t.queries=new RE),t.queries.track(new PE(e,n))}(r,new t1(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function s1(t,e,n){const r=new bE(4==(4&n));(function $W(t,e,n,r){const i=xM(e);i.push(n),t.firstCreatePass&&OM(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[Gr]&&(e[Gr]=new SE),e[Gr].queries.push(new AE(r))}(r,S(),e)}function a1(t,e){return t.queries.getByIndex(e)}const UE=new L("Application Initializer");let BE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=F(UE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(El(s))n.push(s);else if(fN(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),C1=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Vi=new L("LocaleId",{providedIn:"root",factory:()=>F(Vi,he.Optional|he.SkipSelf)||function g7(){return typeof $localize<"u"&&$localize.locale||au}()});let Dp=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new gr(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class y7{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let b1=(()=>{class t{compileModuleSync(n){return new EE(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=xi(Xn(n).declarations).reduce((o,a)=>{const u=Ie(a);return u&&o.push(new gl(u)),o},[]);return new y7(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const R1=new L(""),Sp=new L("");let qE,HE=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,qE||(function B7(t){qE=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(O(pe),O(zE),O(Sp))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),zE=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return qE?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Is=null;const P1=new L("AllowMultipleToken"),GE=new L("PlatformDestroyListeners"),WE=new L("appBootstrapListener");class N1{constructor(e,n){this.name=e,this.token=n}}function O1(t,e,n=[]){const r=`Platform: ${e}`,i=new L(r);return(s=[])=>{let o=KE();if(!o||o.injector.get(P1,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function H7(t){if(Is&&!Is.get(P1,!1))throw new T(400,!1);(function M1(){!function hq(t){J0=t}(()=>{throw new T(600,!1)})})(),Is=t;const e=t.get(F1);(function x1(t){t.get(HP,null)?.forEach(n=>n())})(t)}(function k1(t=[],e){return Dt.create({name:e,providers:[{provide:Iv,useValue:"platform"},{provide:GE,useValue:new Set([()=>Is=null])},...t]})}(a,r))}return function q7(t){const e=KE();if(!e)throw new T(401,!1);return e}()}}function KE(){return Is?.get(F1)??null}let F1=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function G7(t="zone.js",e){return"noop"===t?new CW:"zone.js"===t?new pe(e):t}(r?.ngZone,function V1(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function n8(t,e,n){return new vE(t,e,n)}(n.moduleType,this.injector,function $1(t){return[{provide:pe,useFactory:t},{provide:ol,multi:!0,useFactory:()=>{const e=F(K7,{optional:!0});return()=>e.initialize()}},{provide:j1,useFactory:W7},{provide:aM,useFactory:uM}]}(()=>i)),o=s.injector.get(Ni,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{Rp(this._modules,s),a.unsubscribe()})}),function L1(t,e,n){try{const r=n();return El(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(BE);return a.runInitializers(),a.donePromise.then(()=>(function ax(t){mr(t,"Expected localeId to be defined"),"string"==typeof t&&(ox=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Vi,au)||au),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=U1({},r);return function j7(t,e,n){const r=new EE(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Li);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new T(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(GE,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(O(Dt))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function U1(t,e){return Array.isArray(e)?e.reduce(U1,t):{...t,...e}}let Li=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=F(j1),this.zoneIsStable=F(aM),this.componentTypes=[],this.components=[],this.isStable=F(Dp).hasPendingTasks.pipe(Sr(n=>n?Z(!1):this.zoneIsStable),function T4(t,e=cs){return t=t??C4,Pt((n,r)=>{let i,s=!0;n.subscribe(Tt(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),m0()),this._injector=F(nr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof QP;if(!this._injector.get(BE).done)throw!i&&function ya(t){const e=Ie(t)||Qt(t)||En(t);return null!==e&&e.standalone}(n),new T(405,!1);let o;o=i?n:this._injector.get(cl).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function $7(t){return t.isBoundToModule}(o)?void 0:this._injector.get(yo),c=o.create(Dt.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(R1,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),Rp(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Rp(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(WE,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Rp(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new T(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Rp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const j1=new L("",{providedIn:"root",factory:()=>F(Ni).handleError.bind(void 0)});function W7(){const t=F(pe),e=F(Ni);return n=>t.runOutsideAngular(()=>e.handleError(n))}let K7=(()=>{class t{constructor(){this.zone=F(pe),this.applicationRef=F(Li)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let lu=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Y7}return t})();function Y7(t){return function X7(t,e,n){if(so(t)&&!n){const r=Jn(t.index,e);return new pl(r,r)}return 47&t.type?new pl(e[mt],e):null}(Jt(),S(),16==(16&t))}class G1{constructor(){}supports(e){return cp(e)}create(e){return new rK(e)}}const nK=(t,e)=>e;class rK{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||nK}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<K1(r,i,s)?n:r,a=K1(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!cp(e))throw new T(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function O6(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new iK(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new W1),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new W1),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class iK{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class sK{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class W1{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new sK,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function K1(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Q1{constructor(){}supports(e){return e instanceof Map||eE(e)}create(){return new oK}}class oK{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||eE(e)))throw new T(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new aK(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class aK{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Y1(){return new Np([new G1])}let Np=(()=>{class t{static#e=this.\u0275prov=H({token:t,providedIn:"root",factory:Y1});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Y1()),deps:[[t,new Rf,new en]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new T(901,!1)}}return t})();function X1(){return new Ml([new Q1])}let Ml=(()=>{class t{static#e=this.\u0275prov=H({token:t,providedIn:"root",factory:X1});constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||X1()),deps:[[t,new Rf,new en]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new T(901,!1)}}return t})();const lK=O1(null,"core",[]);let dK=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(O(Li))};static#t=this.\u0275mod=Nt({type:t});static#n=this.\u0275inj=bt({})}return t})();function du(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let eI=null;function ws(){return eI}class bK{}const kt=new L("DocumentToken");let tI=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:function(){return F(AK)},providedIn:"platform"})}return t})();const DK=new L("Location Initialized");let AK=(()=>{class t extends tI{constructor(){super(),this._doc=F(kt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ws().getBaseHref(this._doc)}onPopState(n){const r=ws().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=ws().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function nI(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function oO(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Ui(t){return t&&"?"!==t[0]?"?"+t:t}let Eo=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:function(){return F(uO)},providedIn:"root"})}return t})();const aO=new L("appBaseHref");let uO=(()=>{class t extends Eo{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??F(kt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return nI(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Ui(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Ui(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Ui(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(O(tI),O(aO,8))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),SK=(()=>{class t extends Eo{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=nI(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Ui(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Ui(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(O(tI),O(aO,8))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),rI=(()=>{class t{constructor(n){this._subject=new lt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function MK(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(oO(cO(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ui(r))}normalize(n){return t.stripTrailingSlash(function PK(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,cO(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ui(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ui(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=Ui;static#t=this.joinWithSlash=nI;static#n=this.stripTrailingSlash=oO;static#r=this.\u0275fac=function(r){return new(r||t)(O(Eo))};static#i=this.\u0275prov=H({token:t,factory:function(){return function RK(){return new rI(O(Eo))}()},providedIn:"root"})}return t})();function cO(t){return t.replace(/\/index.html$/,"")}function yO(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}const fI=/\s+/,vO=[];let pI=(()=>{class t{constructor(n,r,i,s){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=vO,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(fI):vO}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(fI):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(fI).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||t)(A(Np),A(Ml),A(rr),A(Mi))};static#t=this.\u0275dir=re({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return t})();class mQ{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ol=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new mQ(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),IO(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{IO(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(A(Or),A(Fi),A(Np))};static#t=this.\u0275dir=re({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function IO(t,e){t.context.$implicit=e.item}let ni=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new _Q,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){wO("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){wO("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(A(Or),A(Fi))};static#t=this.\u0275dir=re({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class _Q{constructor(){this.$implicit=null,this.ngIf=null}}function wO(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Mt(e)}'.`)}let bO=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Nt({type:t});static#n=this.\u0275inj=bt({})}return t})();function AO(t){return"server"===t}let qQ=(()=>{class t{static#e=this.\u0275prov=H({token:t,providedIn:"root",factory:()=>new GQ(O(kt),window)})}return t})();class GQ{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function WQ(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class SO{}class mY extends bK{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class II extends mY{static makeCurrent(){!function CK(t){eI||(eI=t)}(new II)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function _Y(){return Fl=Fl||document.querySelector("base"),Fl?Fl.getAttribute("href"):null}();return null==n?null:function yY(t){Gp=Gp||document.createElement("a"),Gp.setAttribute("href",t);const e=Gp.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Fl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return yO(document.cookie,e)}}let Gp,Fl=null,EY=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac})}return t})();const wI=new L("EventManagerPlugins");let xO=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new T(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(O(wI),O(pe))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac})}return t})();class OO{constructor(e){this._doc=e}}const TI="ng-app-id";let kO=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=AO(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${TI}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(TI),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(TI,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(O(kt),O(Yf),O(qP,8),O(ys))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac})}return t})();const CI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},bI=/%COMP%/g,CY=new L("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function VO(t,e){return e.map(n=>n.replace(bI,t))}let DI=(()=>{class t{constructor(n,r,i,s,o,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=AO(a),this.defaultRenderer=new AI(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===_r.ShadowDom&&(r={...r,encapsulation:_r.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof UO?i.applyToHost(n):i instanceof SI&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case _r.Emulated:s=new UO(u,c,r,this.appId,l,o,a,d);break;case _r.ShadowDom:return new SY(u,c,n,r,o,a,this.nonce,d);default:s=new SI(u,c,r,l,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(O(xO),O(kO),O(Yf),O(CY),O(kt),O(ys),O(pe),O(qP))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac})}return t})();class AI{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(CI[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(LO(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(LO(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new T(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=CI[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=CI[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(_s.DashCase|_s.Important)?e.style.setProperty(n,r,i&_s.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&_s.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=ws().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function LO(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class SY extends AI{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=VO(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class SI extends AI{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?VO(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class UO extends SI{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function bY(t){return"_ngcontent-%COMP%".replace(bI,t)}(c),this.hostAttr=function DY(t){return"_nghost-%COMP%".replace(bI,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let RY=(()=>{class t extends OO{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(O(kt))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac})}return t})();const BO=["alt","control","meta","shift"],PY={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},MY={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let NY=(()=>{class t extends OO{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ws().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),BO.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=PY[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),BO.forEach(o=>{o!==i&&(0,MY[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(O(kt))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac})}return t})();const $O=[{provide:ys,useValue:"browser"},{provide:HP,useValue:function xY(){II.makeCurrent()},multi:!0},{provide:kt,useFactory:function kY(){return function gG(t){hv=t}(document),document},deps:[]}],FY=O1(lK,"browser",$O),VY=new L(""),HO=[{provide:Sp,useClass:class vY{addToWindow(e){Be.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new T(5103,!1);return s},Be.getAllAngularTestabilities=()=>e.getAllTestabilities(),Be.getAllAngularRootElements=()=>e.getAllRootElements(),Be.frameworkStabilizers||(Be.frameworkStabilizers=[]),Be.frameworkStabilizers.push(r=>{const i=Be.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?ws().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:R1,useClass:HE,deps:[pe,zE,Sp]},{provide:HE,useClass:HE,deps:[pe,zE,Sp]}],zO=[{provide:Iv,useValue:"root"},{provide:Ni,useFactory:function OY(){return new Ni},deps:[]},{provide:wI,useClass:RY,multi:!0,deps:[kt,pe,ys]},{provide:wI,useClass:NY,multi:!0,deps:[kt]},DI,kO,xO,{provide:ll,useExisting:DI},{provide:SO,useClass:EY,deps:[]},[]];let qO=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Yf,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(O(VY,12))};static#t=this.\u0275mod=Nt({type:t});static#n=this.\u0275inj=bt({providers:[...zO,...HO],imports:[bO,dK]})}return t})(),GO=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(O(kt))};static#t=this.\u0275prov=H({token:t,factory:function(r){let i=null;return i=r?new r:function UY(){return new GO(O(kt))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;let QO=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:function(r){let i=null;return i=r?new(r||t):O(YO),i},providedIn:"root"})}return t})(),YO=(()=>{class t extends QO{constructor(n){super(),this._doc=n}sanitize(n,r){if(null==r)return null;switch(n){case tr.NONE:return r;case tr.HTML:return Xr(r,"HTML")?er(r):xP(this._doc,String(r)).toString();case tr.STYLE:return Xr(r,"Style")?er(r):r;case tr.SCRIPT:if(Xr(r,"Script"))return er(r);throw new T(5200,!1);case tr.URL:return Xr(r,"URL")?er(r):zf(String(r));case tr.RESOURCE_URL:if(Xr(r,"ResourceURL"))return er(r);throw new T(5201,!1);default:throw new T(5202,!1)}}bypassSecurityTrustHtml(n){return function wG(t){return new mG(t)}(n)}bypassSecurityTrustStyle(n){return function TG(t){return new _G(t)}(n)}bypassSecurityTrustScript(n){return function CG(t){return new yG(t)}(n)}bypassSecurityTrustUrl(n){return function bG(t){return new vG(t)}(n)}bypassSecurityTrustResourceUrl(n){return function DG(t){return new EG(t)}(n)}static#e=this.\u0275fac=function(r){return new(r||t)(O(kt))};static#t=this.\u0275prov=H({token:t,factory:function(r){let i=null;return i=r?new r:function HY(t){return new YO(t.get(kt))}(O(Dt)),i},providedIn:"root"})}return t})();const{isArray:qY}=Array,{getPrototypeOf:GY,prototype:WY,keys:KY}=Object;function JO(t){if(1===t.length){const e=t[0];if(qY(e))return{args:e,keys:null};if(function QY(t){return t&&"object"==typeof t&&GY(t)===WY}(e)){const n=KY(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:YY}=Array;function ZO(t){return Ee(e=>function XY(t,e){return YY(e)?t(...e):t(e)}(t,e))}function ek(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function PI(...t){const e=xc(t),n=p0(t),{args:r,keys:i}=JO(t);if(0===r.length)return Ct([],e);const s=new Ke(function JY(t,e,n=cs){return r=>{tk(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)tk(e,()=>{const c=Ct(t[u],e);let l=!1;c.subscribe(Tt(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>ek(i,o):cs));return n?s.pipe(ZO(n)):s}function tk(t,e,n){t?wi(n,t,e):e()}const Wp=Mc(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function MI(...t){return function ZY(){return ma(1)}()(Ct(t,xc(t)))}function nk(t){return new Ke(e=>{Qn(t()).subscribe(e)})}function Vl(t,e){const n=Fe(t)?t:()=>t,r=i=>i.error(n());return new Ke(e?i=>e.schedule(r,0,i):r)}function NI(){return Pt((t,e)=>{let n=null;t._refCount++;const r=Tt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class rk extends Ke{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,JS(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new xn;const n=this.getSubject();e.add(this.source.subscribe(Tt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=xn.EMPTY)}return e}refCount(){return NI()(this)}}function fu(t){return t<=0?()=>zr:Pt((e,n)=>{let r=0;e.subscribe(Tt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function $i(t,e){return Pt((n,r)=>{let i=0;n.subscribe(Tt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Kp(t){return Pt((e,n)=>{let r=!1;e.subscribe(Tt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function ik(t=tX){return Pt((e,n)=>{let r=!1;e.subscribe(Tt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function tX(){return new Wp}function Io(t,e){const n=arguments.length>=2;return r=>r.pipe(t?$i((i,s)=>t(i,s,r)):cs,fu(1),n?Kp(e):ik(()=>new Wp))}function pu(t,e){return Fe(e)?Kt(t,e,1):Kt(t,1)}function tn(t,e,n){const r=Fe(t)||e||n?{next:t,error:e,complete:n}:t;return r?Pt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Tt(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):cs}function wo(t){return Pt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(Tt(n,void 0,void 0,o=>{s=Qn(t(o,wo(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function xI(t){return t<=0?()=>zr:Pt((e,n)=>{let r=[];e.subscribe(Tt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Ll(t){return Pt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const le="primary",Ul=Symbol("RouteTitle");class aX{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function gu(t){return new aX(t)}function uX(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ri(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!sk(t[i],e[i]))return!1;return!0}function sk(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function ok(t){return t.length>0?t[t.length-1]:null}function Cs(t){return function zY(t){return!!t&&(t instanceof Ke||Fe(t.lift)&&Fe(t.subscribe))}(t)?t:El(t)?Ct(Promise.resolve(t)):Z(t)}const lX={exact:function ck(t,e,n){if(!To(t.segments,e.segments)||!Qp(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!ck(t.children[r],e.children[r],n))return!1;return!0},subset:lk},ak={exact:function dX(t,e){return ri(t,e)},subset:function hX(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>sk(t[n],e[n]))},ignored:()=>!0};function uk(t,e,n){return lX[n.paths](t.root,e.root,n.matrixParams)&&ak[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function lk(t,e,n){return dk(t,e,e.segments,n)}function dk(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!To(i,n)||e.hasChildren()||!Qp(i,n,r))}if(t.segments.length===n.length){if(!To(t.segments,n)||!Qp(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!lk(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(To(t.segments,i)&&Qp(t.segments,i,r)&&t.children[le])&&dk(t.children[le],e,s,r)}}function Qp(t,e,n){return e.every((r,i)=>ak[n](t[i].parameters,r.parameters))}class mu{constructor(e=new xe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gu(this.queryParams)),this._queryParamMap}toString(){return gX.serialize(this)}}class xe{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yp(this)}}class Bl{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=gu(this.parameters)),this._parameterMap}toString(){return pk(this)}}function To(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let jl=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:function(){return new OI},providedIn:"root"})}return t})();class OI{parse(e){const n=new DX(e);return new mu(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${$l(e.root,!0)}`,r=function yX(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Xp(n)}=${Xp(i)}`).join("&"):`${Xp(n)}=${Xp(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function mX(t){return encodeURI(t)}(e.fragment)}`:""}`}}const gX=new OI;function Yp(t){return t.segments.map(e=>pk(e)).join("/")}function $l(t,e){if(!t.hasChildren())return Yp(t);if(e){const n=t.children[le]?$l(t.children[le],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==le&&r.push(`${i}:${$l(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function pX(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===le&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==le&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===le?[$l(t.children[le],!1)]:[`${i}:${$l(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[le]?`${Yp(t)}/${n[0]}`:`${Yp(t)}/(${n.join("//")})`}}function hk(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xp(t){return hk(t).replace(/%3B/gi,";")}function kI(t){return hk(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jp(t){return decodeURIComponent(t)}function fk(t){return Jp(t.replace(/\+/g,"%20"))}function pk(t){return`${kI(t.path)}${function _X(t){return Object.keys(t).map(e=>`;${kI(e)}=${kI(t[e])}`).join("")}(t.parameters)}`}const vX=/^[^\/()?;#]+/;function FI(t){const e=t.match(vX);return e?e[0]:""}const EX=/^[^\/()?;=#]+/,wX=/^[^=?&#]+/,CX=/^[^&#]+/;class DX{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xe([],{}):new xe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[le]=new xe(e,n)),r}parseSegment(){const e=FI(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new T(4009,!1);return this.capture(e),new Bl(Jp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function IX(t){const e=t.match(EX);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=FI(this.remaining);i&&(r=i,this.capture(r))}e[Jp(n)]=Jp(r)}parseQueryParam(e){const n=function TX(t){const e=t.match(wX);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function bX(t){const e=t.match(CX);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=fk(n),s=fk(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=FI(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new T(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=le);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[le]:new xe([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new T(4011,!1)}}function gk(t){return t.segments.length>0?new xe([],{[le]:t}):t}function mk(t){const e={};for(const r of Object.keys(t.children)){const s=mk(t.children[r]);if(r===le&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function AX(t){if(1===t.numberOfChildren&&t.children[le]){const e=t.children[le];return new xe(t.segments.concat(e.segments),e.children)}return t}(new xe(t.segments,e))}function Co(t){return t instanceof mu}function _k(t){let e;const i=gk(function n(s){const o={};for(const u of s.children){const c=n(u);o[u.outlet]=c}const a=new xe(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function yk(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return VI(i,i,i,n,r);const s=function RX(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Ek(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new Ek(n,e,r)}(e);if(s.toRoot())return VI(i,i,new xe([],{}),n,r);const o=function PX(t,e,n){if(t.isAbsolute)return new eg(e,!0,0);if(!n)return new eg(e,!1,NaN);if(null===n.parent)return new eg(n,!0,0);const r=Zp(t.commands[0])?0:1;return function MX(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new T(4005,!1);i=r.segments.length}return new eg(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?zl(o.segmentGroup,o.index,s.commands):Ik(o.segmentGroup,o.index,s.commands);return VI(i,o.segmentGroup,a,n,r)}function Zp(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Hl(t){return"object"==typeof t&&null!=t&&t.outlets}function VI(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),o=t===e?n:vk(t,e,n);const a=gk(mk(o));return new mu(a,s,i)}function vk(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:vk(s,e,n)}),new xe(t.segments,r)}class Ek{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Zp(r[0]))throw new T(4003,!1);const i=r.find(Hl);if(i&&i!==ok(r))throw new T(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class eg{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function Ik(t,e,n){if(t||(t=new xe([],{})),0===t.segments.length&&t.hasChildren())return zl(t,e,n);const r=function xX(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Hl(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!Tk(u,c,o))return s;r+=2}else{if(!Tk(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new xe(t.segments.slice(0,r.pathIndex),{});return s.children[le]=new xe(t.segments.slice(r.pathIndex),t.children),zl(s,0,i)}return r.match&&0===i.length?new xe(t.segments,{}):r.match&&!t.hasChildren()?LI(t,e,n):r.match?zl(t,0,i):LI(t,e,n)}function zl(t,e,n){if(0===n.length)return new xe(t.segments,{});{const r=function NX(t){return Hl(t[0])?t[0].outlets:{[le]:t}}(n),i={};if(Object.keys(r).some(s=>s!==le)&&t.children[le]&&1===t.numberOfChildren&&0===t.children[le].segments.length){const s=zl(t.children[le],e,n);return new xe(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=Ik(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new xe(t.segments,i)}}function LI(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Hl(s)){const u=OX(s.outlets);return new xe(r,u)}if(0===i&&Zp(n[0])){r.push(new Bl(t.segments[e].path,wk(n[0]))),i++;continue}const o=Hl(s)?s.outlets[le]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Zp(a)?(r.push(new Bl(o,wk(a))),i+=2):(r.push(new Bl(o,{})),i++)}return new xe(r,{})}function OX(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=LI(new xe([],{}),0,r))}),e}function wk(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Tk(t,e,n){return t==n.path&&ri(e,n.parameters)}const ql="imperative";class ii{constructor(e,n){this.id=e,this.url=n}}class tg extends ii{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bs extends ii{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Gl extends ii{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class _u extends ii{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class ng extends ii{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ck extends ii{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kX extends ii{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class FX extends ii{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class VX extends ii{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class LX extends ii{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class UX{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class BX{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class jX{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $X{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class HX{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zX{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bk{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class UI{}class BI{constructor(e){this.url=e}}class qX{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Wl,this.attachRef=null}}let Wl=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new qX,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Dk{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=jI(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=jI(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=$I(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return $I(e,this._root).map(n=>n.value)}}function jI(t,e){if(t===e.value)return e;for(const n of e.children){const r=jI(t,n);if(r)return r}return null}function $I(t,e){if(t===e.value)return[e];for(const n of e.children){const r=$I(t,n);if(r.length)return r.unshift(e),r}return[]}class Hi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function yu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class Ak extends Dk{constructor(e,n){super(e),this.snapshot=n,HI(this,e)}toString(){return this.snapshot.toString()}}function Sk(t,e){const n=function GX(t,e){const o=new rg([],{},{},"",{},le,e,null,{});return new Pk("",new Hi(o,[]))}(0,e),r=new gr([new Bl("",{})]),i=new gr({}),s=new gr({}),o=new gr({}),a=new gr(""),u=new bo(r,i,o,a,s,le,e,n.root);return u.snapshot=n.root,new Ak(new Hi(u,[]),n)}class bo{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Ee(c=>c[Ul]))??Z(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ee(e=>gu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ee(e=>gu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Rk(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function WX(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class rg{get title(){return this.data?.[Ul]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=gu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Pk extends Dk{constructor(e,n){super(n),this.url=e,HI(this,n)}toString(){return Mk(this._root)}}function HI(t,e){e.value._routerState=t,e.children.forEach(n=>HI(t,n))}function Mk(t){const e=t.children.length>0?` { ${t.children.map(Mk).join(", ")} } `:"";return`${t.value}${e}`}function zI(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ri(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ri(e.params,n.params)||t.paramsSubject.next(n.params),function cX(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ri(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),ri(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function qI(t,e){const n=ri(t.params,e.params)&&function fX(t,e){return To(t,e)&&t.every((n,r)=>ri(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||qI(t.parent,e.parent))}let Do=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=le,this.activateEvents=new lt,this.deactivateEvents=new lt,this.attachEvents=new lt,this.detachEvents=new lt,this.parentContexts=F(Wl),this.location=F(Or),this.changeDetector=F(lu),this.environmentInjector=F(nr),this.inputBinder=F(ig,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new T(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new KX(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=re({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[vr]})}return t})();class KX{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===bo?this.route:e===Wl?this.childContexts:this.parent.get(e,n)}}const ig=new L("");let Nk=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=PI([r.queryParams,r.params,r.data]).pipe(Sr(([s,o,a],u)=>(a={...s,...o,...a},0===u?Z(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function TK(t){const e=Ie(t);if(!e)return null;const n=new gl(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac})}return t})();function Kl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function YX(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Kl(t,r,i);return Kl(t,r)})}(t,e,n);return new Hi(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Kl(t,a)),o}}const r=function XX(t){return new bo(new gr(t.url),new gr(t.params),new gr(t.queryParams),new gr(t.fragment),new gr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Kl(t,s));return new Hi(r,i)}}const GI="ngNavigationCancelingError";function xk(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Co(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Ok(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function Ok(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[GI]=!0,r.cancellationCode=e,n&&(r.url=n),r}function kk(t){return t&&t[GI]}let Fk=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=ut({type:t,selectors:[["ng-component"]],standalone:!0,features:[wp],decls:1,vars:0,template:function(r,i){1&r&&K(0,"router-outlet")},dependencies:[Do],encapsulation:2})}return t})();function WI(t){const e=t.children&&t.children.map(WI),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==le&&(n.component=Fk),n}function Vr(t){return t.outlet||le}function Ql(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class sJ{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),zI(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=yu(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=yu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=yu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=yu(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new zX(s.value.snapshot))}),e.children.length&&this.forwardEvent(new $X(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(zI(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),zI(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Ql(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class Vk{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class sg{constructor(e,n){this.component=e,this.route=n}}function oJ(t,e,n){const r=t._root;return Yl(r,e?e._root:null,n,[r.value])}function vu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function M4(t){return null!==rf(t)}(t)?e.get(t):t:r}function Yl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=yu(e);return t.children.forEach(o=>{(function uJ(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function cJ(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!To(t.url,e.url);case"pathParamsOrQueryParamsChange":return!To(t.url,e.url)||!ri(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qI(t,e)||!ri(t.queryParams,e.queryParams);default:return!qI(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Vk(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Yl(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new sg(a.outlet.component,o))}else o&&Xl(e,a,i),i.canActivateChecks.push(new Vk(r)),Yl(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Xl(a,n.getContext(o),i)),i}function Xl(t,e,n){const r=yu(t),i=t.value;Object.entries(r).forEach(([s,o])=>{Xl(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new sg(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Jl(t){return"function"==typeof t}function Lk(t){return t instanceof Wp||"EmptyError"===t?.name}const og=Symbol("INITIAL_VALUE");function Eu(){return Sr(t=>PI(t.map(e=>e.pipe(fu(1),function eX(...t){const e=xc(t);return Pt((n,r)=>{(e?MI(t,n,e):MI(t,n)).subscribe(r)})}(og)))).pipe(Ee(e=>{for(const n of e)if(!0!==n){if(n===og)return og;if(!1===n||n instanceof mu)return n}return!0}),$i(e=>e!==og),fu(1)))}function Uk(t){return function Oz(...t){return QS(t)}(tn(e=>{if(Co(e))throw xk(0,e)}),Ee(e=>!0===e))}class ag{constructor(e){this.segmentGroup=e||null}}class Bk{constructor(e){this.urlTree=e}}function Iu(t){return Vl(new ag(t))}function jk(t){return Vl(new Bk(t))}class RJ{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new T(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Z(r);if(i.numberOfChildren>1||!i.children[le])return Vl(new T(4e3,!1));i=i.children[le]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new mu(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new xe(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new T(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const KI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function PJ(t,e,n,r,i){const s=QI(t,e,n);return s.matched?(r=function ZX(t,e){return t.providers&&!t._injector&&(t._injector=IE(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function DJ(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?Z(i.map(o=>{const a=vu(o,t);return Cs(function gJ(t){return t&&Jl(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Eu(),Uk()):Z(!0)}(r,e,n).pipe(Ee(o=>!0===o?s:{...KI}))):Z(s)}function QI(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...KI}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||uX)(n,t,e);if(!i)return{...KI};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function $k(t,e,n,r){return n.length>0&&function xJ(t,e,n){return n.some(r=>ug(t,e,r)&&Vr(r)!==le)}(t,n,r)?{segmentGroup:new xe(e,NJ(r,new xe(n,t.children))),slicedSegments:[]}:0===n.length&&function OJ(t,e,n){return n.some(r=>ug(t,e,r))}(t,n,r)?{segmentGroup:new xe(t.segments,MJ(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new xe(t.segments,t.children),slicedSegments:n}}function MJ(t,e,n,r,i){const s={};for(const o of r)if(ug(t,n,o)&&!i[Vr(o)]){const a=new xe([],{});s[Vr(o)]=a}return{...i,...s}}function NJ(t,e){const n={};n[le]=e;for(const r of t)if(""===r.path&&Vr(r)!==le){const i=new xe([],{});n[Vr(r)]=i}return n}function ug(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class LJ{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new RJ(this.urlSerializer,this.urlTree)}noMatchError(e){return new T(4002,!1)}recognize(){const e=$k(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,le).pipe(wo(n=>{if(n instanceof Bk)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof ag?this.noMatchError(n):n}),Ee(n=>{const r=new rg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},le,this.rootComponentType,null,{}),i=new Hi(r,n),s=new Pk("",i),o=function SX(t,e,n=null,r=null){return yk(_k(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,le).pipe(wo(r=>{throw r instanceof ag?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=Rk(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Ct(i).pipe(pu(s=>{const o=r.children[s],a=function rJ(t,e){const n=t.filter(r=>Vr(r)===e);return n.push(...t.filter(r=>Vr(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function rX(t,e){return Pt(function nX(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(Tt(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Kp(null),function iX(t,e){const n=arguments.length>=2;return r=>r.pipe(t?$i((i,s)=>t(i,s,r)):cs,xI(1),n?Kp(e):ik(()=>new Wp))}(),Kt(s=>{if(null===s)return Iu(r);const o=Hk(s);return function UJ(t){t.sort((e,n)=>e.value.outlet===le?-1:n.value.outlet===le?1:e.value.outlet.localeCompare(n.value.outlet))}(o),Z(o)}))}processSegment(e,n,r,i,s,o){return Ct(n).pipe(pu(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(wo(u=>{if(u instanceof ag)return Z(null);throw u}))),Io(a=>!!a),wo(a=>{if(Lk(a))return function FJ(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?Z([]):Iu(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function kJ(t,e,n,r){return!!(Vr(t)===r||r!==le&&ug(e,n,t))&&("**"===t.path||QI(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Iu(i):Iu(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?jk(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Kt(o=>{const a=new xe(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=QI(n,i,s);if(!a)return Iu(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?jk(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Kt(h=>this.processSegment(e,r,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?ok(i).parameters:{};a=Z({snapshot:new rg(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,zk(r),Vr(r),r.component??r._loadedComponent??null,r,qk(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=PJ(n,r,i,e).pipe(Ee(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new rg(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,zk(r),Vr(r),r.component??r._loadedComponent??null,r,qk(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(Sr(u=>null===u?Iu(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Sr(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:g}=$k(n,h,f,c);if(0===g.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(Ee(v=>null===v?null:[new Hi(d,v)]));if(0===c.length&&0===g.length)return Z([new Hi(d,[])]);const m=Vr(r)===s;return this.processSegment(l,c,p,g,m?le:s,!0).pipe(Ee(v=>[new Hi(d,v)]))}))))}getChildConfig(e,n,r){return n.children?Z({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?Z({routes:n._loadedRoutes,injector:n._loadedInjector}):function bJ(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?Z(!0):Z(i.map(o=>{const a=vu(o,t);return Cs(function dJ(t){return t&&Jl(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Eu(),Uk())}(e,n,r).pipe(Kt(i=>i?this.configLoader.loadChildren(e,n).pipe(tn(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function SJ(t){return Vl(Ok(!1,3))}())):Z({routes:[],injector:e})}}function BJ(t){const e=t.value.routeConfig;return e&&""===e.path}function Hk(t){const e=[],n=new Set;for(const r of t){if(!BJ(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=Hk(r.children);e.push(new Hi(r.value,i))}return e.filter(r=>!n.has(r))}function zk(t){return t.data||{}}function qk(t){return t.resolve||{}}function Gk(t){return"string"==typeof t.title||null===t.title}function YI(t){return Sr(e=>{const n=t(e);return n?Ct(n).pipe(Ee(()=>e)):Z(e)})}const wu=new L("ROUTES");let XI=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=F(b1)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Z(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Cs(n.loadComponent()).pipe(Ee(Wk),tn(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Ll(()=>{this.componentLoaders.delete(n)})),i=new rk(r,()=>new Lt).pipe(NI());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function WJ(t,e,n,r){return Cs(t.loadChildren()).pipe(Ee(Wk),Kt(i=>i instanceof Nx||Array.isArray(i)?Z(i):Ct(e.compileModuleAsync(i))),Ee(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(wu,[],{optional:!0,self:!0}).flat()),{routes:o.map(WI),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(Ll(()=>{this.childrenLoaders.delete(r)})),o=new rk(s,()=>new Lt).pipe(NI());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Wk(t){return function KJ(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let cg=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Lt,this.transitionAbortSubject=new Lt,this.configLoader=F(XI),this.environmentInjector=F(nr),this.urlSerializer=F(jl),this.rootContexts=F(Wl),this.inputBindingEnabled=null!==F(ig,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Z(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new BX(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new UX(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new gr({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ql,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe($i(s=>0!==s.id),Ee(s=>({...s,extractedUrl:n.urlHandlingStrategy.extract(s.rawUrl)})),Sr(s=>{this.currentTransition=s;let o=!1,a=!1;return Z(s).pipe(tn(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Sr(u=>{const c=u.currentBrowserUrl.toString(),l=!n.navigated||u.extractedUrl.toString()!==c||c!==u.currentUrlTree.toString();if(!l&&"reload"!==(u.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new _u(u.id,this.urlSerializer.serialize(u.rawUrl),h,0)),u.resolve(null),zr}if(n.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Z(u).pipe(Sr(h=>{const f=this.transitions?.getValue();return this.events.next(new tg(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?zr:Promise.resolve(h)}),function jJ(t,e,n,r,i,s){return Kt(o=>function VJ(t,e,n,r,i,s,o="emptyOnly"){return new LJ(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(Ee(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),tn(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new Ck(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:m}=u,v=new tg(h,this.urlSerializer.serialize(f),p,g);this.events.next(v);const _=Sk(0,this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:_,urlAfterRedirects:f,extras:{...m,skipLocationChange:!1,replaceUrl:!1}},Z(s)}{const h="";return this.events.next(new _u(u.id,this.urlSerializer.serialize(u.extractedUrl),h,1)),u.resolve(null),zr}}),tn(u=>{const c=new kX(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),Ee(u=>(this.currentTransition=s={...u,guards:oJ(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function _J(t,e){return Kt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Z({...n,guardsResult:!0}):function yJ(t,e,n,r){return Ct(t).pipe(Kt(i=>function CJ(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Z(s.map(a=>{const u=Ql(e)??i,c=vu(a,u);return Cs(function pJ(t){return t&&Jl(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(Io())})).pipe(Eu()):Z(!0)}(i.component,i.route,n,e,r)),Io(i=>!0!==i,!0))}(o,r,i,t).pipe(Kt(a=>a&&function lJ(t){return"boolean"==typeof t}(a)?function vJ(t,e,n,r){return Ct(e).pipe(pu(i=>MI(function IJ(t,e){return null!==t&&e&&e(new jX(t)),Z(!0)}(i.route.parent,r),function EJ(t,e){return null!==t&&e&&e(new HX(t)),Z(!0)}(i.route,r),function TJ(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function aJ(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>nk(()=>Z(o.guards.map(u=>{const c=Ql(o.node)??n,l=vu(u,c);return Cs(function fJ(t){return t&&Jl(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(Io())})).pipe(Eu())));return Z(s).pipe(Eu())}(t,i.path,n),function wJ(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Z(!0);const i=r.map(s=>nk(()=>{const o=Ql(e)??n,a=vu(s,o);return Cs(function hJ(t){return t&&Jl(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Io())}));return Z(i).pipe(Eu())}(t,i.route,n))),Io(i=>!0!==i,!0))}(r,s,t,e):Z(a)),Ee(a=>({...n,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),tn(u=>{if(s.guardsResult=u.guardsResult,Co(u.guardsResult))throw xk(0,u.guardsResult);const c=new FX(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(c)}),$i(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),YI(u=>{if(u.guards.canActivateChecks.length)return Z(u).pipe(tn(c=>{const l=new VX(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),Sr(c=>{let l=!1;return Z(c).pipe(function $J(t,e){return Kt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Z(n);let s=0;return Ct(i).pipe(pu(o=>function HJ(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!Gk(i)&&(s[Ul]=i.title),function zJ(t,e,n,r){const i=function qJ(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return Z({});const s={};return Ct(i).pipe(Kt(o=>function GJ(t,e,n,r){const i=Ql(e)??r,s=vu(t,i);return Cs(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Io(),tn(a=>{s[o]=a}))),xI(1),function sX(t){return Ee(()=>t)}(s),wo(o=>Lk(o)?zr:Vl(o)))}(s,t,e,r).pipe(Ee(o=>(t._resolvedData=o,t.data=Rk(t,n).resolve,i&&Gk(i)&&(t.data[Ul]=i.title),null)))}(o.route,r,t,e)),tn(()=>s++),xI(1),Kt(o=>s===i.length?Z(n):zr))})}(n.paramsInheritanceStrategy,this.environmentInjector),tn({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(c,"",2)}}))}),tn(c=>{const l=new LX(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}))}),YI(u=>{const c=l=>{const d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(tn(h=>{l.component=h}),Ee(()=>{})));for(const h of l.children)d.push(...c(h));return d};return PI(c(u.targetSnapshot.root)).pipe(Kp(),fu(1))}),YI(()=>this.afterPreactivation()),Ee(u=>{const c=function QX(t,e,n){const r=Kl(t,e._root,n?n._root:void 0);return new Ak(r,e)}(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:c},s}),tn(()=>{this.events.next(new UI)}),((t,e,n,r)=>Ee(i=>(new sJ(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),fu(1),tn({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new bs(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),n.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),function oX(t){return Pt((e,n)=>{Qn(t).subscribe(Tt(n,()=>n.complete(),Y_)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(tn(u=>{throw u}))),Ll(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),wo(u=>{if(a=!0,kk(u))this.events.next(new Gl(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function JX(t){return kk(t)&&Co(t.url)}(u)?this.events.next(new BI(u.url)):s.resolve(!1);else{this.events.next(new ng(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(u))}catch(c){s.reject(c)}}return zr}))}))}cancelNavigationTransition(n,r,i){const s=new Gl(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Kk(t){return t!==ql}let Qk=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===le);return r}getResolvedTitleForRoute(n){return n.data[Ul]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:function(){return F(QJ)},providedIn:"root"})}return t})(),QJ=(()=>{class t extends Qk{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(O(GO))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),YJ=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:function(){return F(JJ)},providedIn:"root"})}return t})();class XJ{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let JJ=(()=>{class t extends XJ{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Zt(t)))(i||t)}}();static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const lg=new L("",{providedIn:"root",factory:()=>({})});let ZJ=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:function(){return F(eZ)},providedIn:"root"})}return t})(),eZ=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Zl=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Zl||{});function Yk(t,e){t.events.pipe($i(n=>n instanceof bs||n instanceof Gl||n instanceof ng||n instanceof _u),Ee(n=>n instanceof bs||n instanceof _u?Zl.COMPLETE:n instanceof Gl&&(0===n.code||1===n.code)?Zl.REDIRECTING:Zl.FAILED),$i(n=>n!==Zl.REDIRECTING),fu(1)).subscribe(()=>{e()})}function tZ(t){throw t}function nZ(t,e,n){return e.parse("/")}const rZ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},iZ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ut=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=F(C1),this.isNgZoneEnabled=!1,this._events=new Lt,this.options=F(lg,{optional:!0})||{},this.pendingTasks=F(Dp),this.errorHandler=this.options.errorHandler||tZ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||nZ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=F(ZJ),this.routeReuseStrategy=F(YJ),this.titleStrategy=F(Qk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=F(wu,{optional:!0})?.flat()??[],this.navigationTransitions=F(cg),this.urlSerializer=F(jl),this.location=F(rI),this.componentInputBindingEnabled=!!F(ig,{optional:!0}),this.eventsSubscription=new xn,this.isNgZoneEnabled=F(pe)instanceof pe&&pe.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new mu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Sk(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(Xk(r)&&this._events.next(r));if(r instanceof tg)Kk(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof _u)this.rawUrlTree=i.rawUrl;else if(r instanceof Ck){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof UI)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Gl)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof BI){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Kk(i.source)};this.scheduleNavigation(s,ql,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof ng&&this.restoreHistory(i,!0),r instanceof bs&&(this.navigated=!0),Xk(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ql,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(WI),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}null!==l&&(l=this.removeEmptyProps(l));try{d=_k(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return yk(d,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Co(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,ql,null,r)}navigate(n,r={skipLocationChange:!1}){return function sZ(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new T(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...rZ}:!1===r?{...iZ}:r,Co(n))return uk(this.currentUrlTree,n,i);const s=this.parseUrl(n);return uk(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h});const l=this.pendingTasks.add();return Yk(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Xk(t){return!(t instanceof UI||t instanceof BI)}let ed=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Lt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof bs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function kP(t,e,n){return function BG(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?OP:ho}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||t)(A(Ut),A(bo),function Df(t){return function r3(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(S0(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(Jt(),t)}("tabindex"),A(Mi),A(rr),A(Eo))};static#t=this.\u0275dir=re({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&Ne("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&Un("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",du],skipLocationChange:["skipLocationChange","skipLocationChange",du],replaceUrl:["replaceUrl","replaceUrl",du],routerLink:"routerLink"},standalone:!0,features:[QM,vr]})}return t})();class Jk{}let uZ=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe($i(n=>n instanceof bs),pu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=IE(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Ct(i).pipe(ma())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):Z(null);const s=i.pipe(Kt(o=>null===o?Z(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?Ct([s,this.loader.loadComponent(r)]).pipe(ma()):s})}static#e=this.\u0275fac=function(r){return new(r||t)(O(Ut),O(b1),O(nr),O(Jk),O(XI))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const JI=new L("");let Zk=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof tg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof bs?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof _u&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof bk&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new bk(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function wM(){throw new Error("invalid")}()};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac})}return t})();function zi(t,e){return{\u0275kind:t,\u0275providers:e}}function tF(){const t=F(Dt);return e=>{const n=t.get(Li);if(e!==n.components[0])return;const r=t.get(Ut),i=t.get(nF);1===t.get(ZI)&&r.initialNavigation(),t.get(rF,null,he.Optional)?.setUpPreloading(),t.get(JI,null,he.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const nF=new L("",{factory:()=>new Lt}),ZI=new L("",{providedIn:"root",factory:()=>1}),rF=new L("");function hZ(t){return zi(0,[{provide:rF,useExisting:uZ},{provide:Jk,useExisting:t}])}const iF=new L("ROUTER_FORROOT_GUARD"),pZ=[rI,{provide:jl,useClass:OI},Ut,Wl,{provide:bo,useFactory:function eF(t){return t.routerState.root},deps:[Ut]},XI,[]];function gZ(){return new N1("Router",Ut)}let sF=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[pZ,[],{provide:wu,multi:!0,useValue:n},{provide:iF,useFactory:vZ,deps:[[Ut,new en,new Rf]]},{provide:lg,useValue:r||{}},r?.useHash?{provide:Eo,useClass:SK}:{provide:Eo,useClass:uO},{provide:JI,useFactory:()=>{const t=F(qQ),e=F(pe),n=F(lg),r=F(cg),i=F(jl);return n.scrollOffset&&t.setOffset(n.scrollOffset),new Zk(i,r,t,e,n)}},r?.preloadingStrategy?hZ(r.preloadingStrategy).\u0275providers:[],{provide:N1,multi:!0,useFactory:gZ},r?.initialNavigation?EZ(r):[],r?.bindToComponentInputs?zi(8,[Nk,{provide:ig,useExisting:Nk}]).\u0275providers:[],[{provide:oF,useFactory:tF},{provide:WE,multi:!0,useExisting:oF}]]}}static forChild(n){return{ngModule:t,providers:[{provide:wu,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(O(iF,8))};static#t=this.\u0275mod=Nt({type:t});static#n=this.\u0275inj=bt({})}return t})();function vZ(t){return"guarded"}function EZ(t){return["disabled"===t.initialNavigation?zi(3,[{provide:UE,multi:!0,useFactory:()=>{const e=F(Ut);return()=>{e.setUpLocationChangeListener()}}},{provide:ZI,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?zi(2,[{provide:ZI,useValue:0},{provide:UE,multi:!0,deps:[Dt],useFactory:e=>{const n=e.get(DK,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Ut),s=e.get(nF);Yk(i,()=>{r(!0)}),e.get(cg).afterPreactivation=()=>(r(!0),s.closed?Z(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const oF=new L(""),wZ=function(t){return[t]},TZ=function(t,e){return{"me-0":t,"me-4":e}};function CZ(t,e){if(1&t&&(D(0,"li")(1,"a",2),N(2),b()()),2&t){const n=e.$implicit,r=e.last;j(1),Y("routerLink",Bx(3,wZ,n.link))("ngClass",CE(5,TZ,r,!r)),j(1),sr(n.name)}}let bZ=(()=>{class t{constructor(){this.menu=[{name:"Trabajos",link:"#trabajos"},{name:"Quienes somos",link:"quienes-somos"},{name:"Contacto",link:"contacto"}]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=ut({type:t,selectors:[["app-menu"]],decls:3,vars:1,consts:[[1,"list-unstyled","mb-0","d-flex","menu"],[4,"ngFor","ngForOf"],[1,"text-decoration-none",3,"routerLink","ngClass"]],template:function(r,i){1&r&&(D(0,"ul",0),ge(1,CZ,3,8,"li",1),b(),K(2,"router-outlet")),2&r&&(j(1),Y("ngForOf",i.menu))},dependencies:[pI,Ol,Do,ed],styles:["[_nghost-%COMP%]   .menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px;font-weight:600}"]})}return t})();function DZ(t,e){if(1&t&&(Bn(0),N(1),jn()),2&t){const n=$e().$implicit;j(1),sr(n.name)}}function AZ(t,e){if(1&t&&(Bn(0),K(1,"img",4),jn()),2&t){const n=$e().$implicit;j(1),pp("src",n.iconUrl,ho)}}const SZ=function(t,e){return{"me-0":t,"me-4":e}};function RZ(t,e){if(1&t&&(D(0,"li")(1,"a",2),ge(2,DZ,2,1,"ng-container",3),ge(3,AZ,2,1,"ng-container",3),b()()),2&t){const n=e.$implicit,r=e.last;j(1),Y("href",n.link,ho)("ngClass",CE(4,SZ,r,!r)),j(1),Y("ngIf",!n.icon),j(1),Y("ngIf",n.icon)}}let PZ=(()=>{class t{constructor(){this.contact=[{iconUrl:"../../../assets/img/ico-inst.svg",link:"",icon:!0},{iconUrl:"../../../assets/img/ico-wsp.svg",link:"https://wa.me/56945888215",icon:!0},{name:"+56 94588 8215",link:"tel:+56945888215",icon:!1}]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=ut({type:t,selectors:[["app-contact"]],decls:3,vars:1,consts:[[1,"list-unstyled","mb-0","d-flex","contact","align-items-center"],[4,"ngFor","ngForOf"],[1,"text-decoration-none",3,"href","ngClass"],[4,"ngIf"],["alt","",3,"src"]],template:function(r,i){1&r&&(D(0,"ul",0),ge(1,RZ,4,7,"li",1),b(),K(2,"router-outlet")),2&r&&(j(1),Y("ngForOf",i.contact))},dependencies:[pI,Ol,ni,Do],styles:["[_nghost-%COMP%]   .contact[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px;font-weight:600;display:flex;flex:1}"]})}return t})(),aF=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=ut({type:t,selectors:[["app-header"]],decls:9,vars:0,consts:[[1,"container","py-5","header"],[1,"row"],[1,"col-md-4","d-flex","align-items-center"],[1,"col-md-4","d-flex","justify-content-center","align-items-center"],["href",""],["src","../../../assets/img/logo.png","alt",""],[1,"col-md-4","d-flex","justify-content-end","align-items-center"]],template:function(r,i){1&r&&(D(0,"div",0)(1,"div",1)(2,"div",2),K(3,"app-menu"),b(),D(4,"div",3)(5,"a",4),K(6,"img",5),b()(),D(7,"div",6),K(8,"app-contact"),b()()())},dependencies:[bZ,PZ],styles:[".header[_ngcontent-%COMP%]{margin-bottom:45px}"]})}return t})(),uF=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(A(Mi),A(rr))};static#t=this.\u0275dir=re({type:t})}return t})(),Ao=(()=>{class t extends uF{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Zt(t)))(i||t)}}();static#t=this.\u0275dir=re({type:t,features:[Me]})}return t})();const si=new L("NgValueAccessor"),xZ={provide:si,useExisting:Ue(()=>Tu),multi:!0},kZ=new L("CompositionEventMode");let Tu=(()=>{class t extends uF{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function OZ(){const t=ws()?ws().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(A(Mi),A(rr),A(kZ,8))};static#t=this.\u0275dir=re({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Ne("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[ze([xZ]),Me]})}return t})();function Ds(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function lF(t){return null!=t&&"number"==typeof t.length}const dn=new L("NgValidators"),As=new L("NgAsyncValidators"),FZ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class oi{static min(e){return function dF(t){return e=>{if(Ds(e.value)||Ds(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function hF(t){return e=>{if(Ds(e.value)||Ds(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return fF(e)}static requiredTrue(e){return function pF(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function gF(t){return Ds(t.value)||FZ.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function mF(t){return e=>Ds(e.value)||!lF(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function _F(t){return e=>lF(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return yF(e)}static nullValidator(e){return null}static compose(e){return CF(e)}static composeAsync(e){return bF(e)}}function fF(t){return Ds(t.value)?{required:!0}:null}function yF(t){if(!t)return dg;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Ds(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function dg(t){return null}function vF(t){return null!=t}function EF(t){return El(t)?Ct(t):t}function IF(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function wF(t,e){return e.map(n=>n(t))}function TF(t){return t.map(e=>function VZ(t){return!t.validate}(e)?e:n=>e.validate(n))}function CF(t){if(!t)return null;const e=t.filter(vF);return 0==e.length?null:function(n){return IF(wF(n,e))}}function ew(t){return null!=t?CF(TF(t)):null}function bF(t){if(!t)return null;const e=t.filter(vF);return 0==e.length?null:function(n){return function MZ(...t){const e=p0(t),{args:n,keys:r}=JO(t),i=new Ke(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;Qn(n[l]).subscribe(Tt(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?ek(r,a):a),s.complete())}))}});return e?i.pipe(ZO(e)):i}(wF(n,e).map(EF)).pipe(Ee(IF))}}function tw(t){return null!=t?bF(TF(t)):null}function DF(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function AF(t){return t._rawValidators}function SF(t){return t._rawAsyncValidators}function nw(t){return t?Array.isArray(t)?t:[t]:[]}function hg(t,e){return Array.isArray(t)?t.includes(e):t===e}function RF(t,e){const n=nw(e);return nw(t).forEach(i=>{hg(n,i)||n.push(i)}),n}function PF(t,e){return nw(e).filter(n=>!hg(t,n))}class MF{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ew(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=tw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Sn extends MF{get formDirective(){return null}get path(){return null}}class Ss extends MF{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class NF{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let fg=(()=>{class t extends NF{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(A(Ss,2))};static#t=this.\u0275dir=re({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&mp("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Me]})}return t})(),pg=(()=>{class t extends NF{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(A(Sn,10))};static#t=this.\u0275dir=re({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&mp("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Me]})}return t})();const td="VALID",mg="INVALID",Cu="PENDING",nd="DISABLED";function sw(t){return(_g(t)?t.validators:t)||null}function ow(t,e){return(_g(e)?e.asyncValidators:t)||null}function _g(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function OF(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new T(1e3,"");if(!r[n])throw new T(1001,"")}function kF(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new T(1002,"")})}class yg{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===td}get invalid(){return this.status===mg}get pending(){return this.status==Cu}get disabled(){return this.status===nd}get enabled(){return this.status!==nd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(RF(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(RF(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(PF(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(PF(e,this._rawAsyncValidators))}hasValidator(e){return hg(this._rawValidators,e)}hasAsyncValidator(e){return hg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Cu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=nd,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=td,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===td||this.status===Cu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?nd:td}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Cu,this._hasOwnPendingAsyncValidator=!0;const n=EF(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new lt,this.statusChanges=new lt}_calculateStatus(){return this._allControlsDisabled()?nd:this.errors?mg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Cu)?Cu:this._anyControlsHaveStatus(mg)?mg:td}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){_g(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function jZ(t){return Array.isArray(t)?ew(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function $Z(t){return Array.isArray(t)?tw(t):t||null}(this._rawAsyncValidators)}}class bu extends yg{constructor(e,n,r){super(sw(n),ow(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){kF(this,0,e),Object.keys(e).forEach(r=>{OF(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class FF extends bu{}const So=new L("CallSetDisabledState",{providedIn:"root",factory:()=>rd}),rd="always";function id(t,e,n=rd){aw(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function zZ(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&VF(t,e)})}(t,e),function GZ(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function qZ(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&VF(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function HZ(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Eg(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),wg(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Ig(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function aw(t,e){const n=AF(t);null!==e.validator?t.setValidators(DF(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=SF(t);null!==e.asyncValidator?t.setAsyncValidators(DF(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Ig(e._rawValidators,i),Ig(e._rawAsyncValidators,i)}function wg(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=AF(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=SF(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return Ig(e._rawValidators,r),Ig(e._rawAsyncValidators,r),n}function VF(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function BF(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function jF(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Ro=class extends yg{constructor(e=null,n,r){super(sw(n),ow(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),_g(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=jF(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){BF(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){BF(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){jF(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Tg=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=re({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})(),WF=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Nt({type:t});static#n=this.\u0275inj=bt({})}return t})();const hw=new L("NgModelWithFormControlWarning"),oee={provide:Sn,useExisting:Ue(()=>Du)};let Du=(()=>{class t extends Sn{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new lt,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(wg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return id(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Eg(n.control||null,n,!1),function YZ(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function UF(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(Eg(r||null,n),(t=>t instanceof Ro)(i)&&(id(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function LF(t,e){aw(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function WZ(t,e){return wg(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){aw(this.form,this),this._oldForm&&wg(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||t)(A(dn,10),A(As,10),A(So,8))};static#t=this.\u0275dir=re({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&Ne("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ze([oee]),Me,vr]})}return t})();const cee={provide:Ss,useExisting:Ue(()=>od)};let od=(()=>{class t extends Ss{set isDisabled(n){}static#e=this._ngModelWarningSentOnce=!1;constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new lt,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function lw(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Tu?n=s:function QZ(t){return Object.getPrototypeOf(t.constructor)===Ao}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){this._added||this._setUpControl(),function cw(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function vg(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||t)(A(Sn,13),A(dn,10),A(As,10),A(si,10),A(hw,8))};static#n=this.\u0275dir=re({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[ze([cee]),Me,vr]})}return t})(),Po=(()=>{class t{constructor(){this._validator=dg}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):dg,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=re({type:t,features:[vr]})}return t})();const yee={provide:dn,useExisting:Ue(()=>Cg),multi:!0};let Cg=(()=>{class t extends Po{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=du,this.createValidator=n=>fF}enabled(n){return n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Zt(t)))(i||t)}}();static#t=this.\u0275dir=re({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&Un("required",i._enabled?"":null)},inputs:{required:"required"},features:[ze([yee]),Me]})}return t})();const Tee={provide:dn,useExisting:Ue(()=>_w),multi:!0};let _w=(()=>{class t extends Po{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=n=>n,this.createValidator=n=>yF(n)}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Zt(t)))(i||t)}}();static#t=this.\u0275dir=re({type:t,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&Un("pattern",i._enabled?i.pattern:null)},inputs:{pattern:"pattern"},features:[ze([Tee]),Me]})}return t})(),uV=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Nt({type:t});static#n=this.\u0275inj=bt({imports:[WF]})}return t})();class cV extends yg{constructor(e,n,r){super(sw(n),ow(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){kF(this,0,e),e.forEach((r,i)=>{OF(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function lV(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let yw=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new t;return n.useNonNullable=!0,n}group(n,r=null){const i=this._reduceControls(n);let s={};return lV(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new bu(i,s)}record(n,r=null){const i=this._reduceControls(n);return new FF(i,r)}control(n,r,i){let s={};return this.useNonNullable?(lV(r)?s=r:(s.validators=r,s.asyncValidators=i),new Ro(n,{...s,nonNullable:!0})):new Ro(n,r,i)}array(n,r,i){const s=n.map(o=>this._createControl(o));return new cV(s,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof Ro||n instanceof yg?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),dV=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:So,useValue:n.callSetDisabledState??rd}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Nt({type:t});static#n=this.\u0275inj=bt({imports:[uV]})}return t})(),hV=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:hw,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:So,useValue:n.callSetDisabledState??rd}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Nt({type:t});static#n=this.\u0275inj=bt({imports:[uV]})}return t})();class bg{}class Dg{}class ai{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof ai?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new ai;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof ai?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class Cee{encodeKey(e){return fV(e)}encodeValue(e){return fV(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Dee=/%(\d[a-f0-9])/gi,Aee={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function fV(t){return encodeURIComponent(t).replace(Dee,(e,n)=>Aee[n]??e)}function Ag(t){return`${t}`}class Rs{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Cee,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function bee(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(Ag):[Ag(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new Rs({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(Ag(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Ag(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class See{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function pV(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function gV(t){return typeof Blob<"u"&&t instanceof Blob}function mV(t){return typeof FormData<"u"&&t instanceof FormData}class ad{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Ree(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new ai),this.context||(this.context=new See),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new Rs,this.urlWithParams=n}serializeBody(){return null===this.body?null:pV(this.body)||gV(this.body)||mV(this.body)||function Pee(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Rs?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||mV(this.body)?null:gV(this.body)?this.body.type||null:pV(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Rs?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,c=e.params||this.params;const l=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new ad(n,r,s,{params:c,headers:u,context:l,reportProgress:a,responseType:i,withCredentials:o})}}var Au=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Au||{});class vw{constructor(e,n=200,r="OK"){this.headers=e.headers||new ai,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Ew extends vw{constructor(e={}){super(e),this.type=Au.ResponseHeader}clone(e={}){return new Ew({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Su extends vw{constructor(e={}){super(e),this.type=Au.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Su({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class _V extends vw{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Iw(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let yV=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof ad)s=n;else{let u,c;u=i.headers instanceof ai?i.headers:new ai(i.headers),i.params&&(c=i.params instanceof Rs?i.params:new Rs({fromObject:i.params})),s=new ad(n,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=Z(s).pipe(pu(u=>this.handler.handle(u)));if(n instanceof ad||"events"===i.observe)return o;const a=o.pipe($i(u=>u instanceof Su));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Ee(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(Ee(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(Ee(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(Ee(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new Rs).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Iw(i,r))}post(n,r,i={}){return this.request("POST",n,Iw(i,r))}put(n,r,i={}){return this.request("PUT",n,Iw(i,r))}static#e=this.\u0275fac=function(r){return new(r||t)(O(bg))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac})}return t})();function IV(t,e){return e(t)}function Nee(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const Oee=new L(""),ud=new L(""),wV=new L("");function kee(){let t=null;return(e,n)=>{null===t&&(t=(F(Oee,{optional:!0})??[]).reduceRight(Nee,IV));const r=F(Dp),i=r.add();return t(e,n).pipe(Ll(()=>r.remove(i)))}}let TV=(()=>{class t extends bg{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=F(Dp)}handle(n){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(ud),...this.injector.get(wV,[])]));this.chain=i.reduceRight((s,o)=>function xee(t,e,n){return(r,i)=>n.runInContext(()=>e(r,s=>t(s,i)))}(s,o,this.injector),IV)}const r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Ll(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||t)(O(Dg),O(nr))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac})}return t})();const Uee=/^\)\]\}',?\n/;let bV=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new T(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Ct(r.\u0275loadImpl()):Z(null)).pipe(Sr(()=>new Ke(s=>{const o=r.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((g,m)=>o.setRequestHeader(g,m.join(","))),n.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const g=n.detectContentTypeHeader();null!==g&&o.setRequestHeader("Content-Type",g)}if(n.responseType){const g=n.responseType.toLowerCase();o.responseType="json"!==g?g:"text"}const a=n.serializeBody();let u=null;const c=()=>{if(null!==u)return u;const g=o.statusText||"OK",m=new ai(o.getAllResponseHeaders()),v=function Bee(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(o)||n.url;return u=new Ew({headers:m,status:o.status,statusText:g,url:v}),u},l=()=>{let{headers:g,status:m,statusText:v,url:_}=c(),I=null;204!==m&&(I=typeof o.response>"u"?o.responseText:o.response),0===m&&(m=I?200:0);let C=m>=200&&m<300;if("json"===n.responseType&&"string"==typeof I){const M=I;I=I.replace(Uee,"");try{I=""!==I?JSON.parse(I):null}catch($){I=M,C&&(C=!1,I={error:$,text:I})}}C?(s.next(new Su({body:I,headers:g,status:m,statusText:v,url:_||void 0})),s.complete()):s.error(new _V({error:I,headers:g,status:m,statusText:v,url:_||void 0}))},d=g=>{const{url:m}=c(),v=new _V({error:g,status:o.status||0,statusText:o.statusText||"Unknown Error",url:m||void 0});s.error(v)};let h=!1;const f=g=>{h||(s.next(c()),h=!0);let m={type:Au.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(m.total=g.total),"text"===n.responseType&&o.responseText&&(m.partialText=o.responseText),s.next(m)},p=g=>{let m={type:Au.UploadProgress,loaded:g.loaded};g.lengthComputable&&(m.total=g.total),s.next(m)};return o.addEventListener("load",l),o.addEventListener("error",d),o.addEventListener("timeout",d),o.addEventListener("abort",d),n.reportProgress&&(o.addEventListener("progress",f),null!==a&&o.upload&&o.upload.addEventListener("progress",p)),o.send(a),s.next({type:Au.Sent}),()=>{o.removeEventListener("error",d),o.removeEventListener("abort",d),o.removeEventListener("load",l),o.removeEventListener("timeout",d),n.reportProgress&&(o.removeEventListener("progress",f),null!==a&&o.upload&&o.upload.removeEventListener("progress",p)),o.readyState!==o.DONE&&o.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||t)(O(SO))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac})}return t})();const ww=new L("XSRF_ENABLED"),DV=new L("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),AV=new L("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class SV{}let Hee=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=yO(n,this.cookieName),this.lastCookieString=n),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||t)(O(kt),O(ys),O(DV))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac})}return t})();function zee(t,e){const n=t.url.toLowerCase();if(!F(ww)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=F(SV).getToken(),i=F(AV);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var Ps=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Ps||{});function qee(...t){const e=[yV,bV,TV,{provide:bg,useExisting:TV},{provide:Dg,useExisting:bV},{provide:ud,useValue:zee,multi:!0},{provide:ww,useValue:!0},{provide:SV,useClass:Hee}];for(const n of t)e.push(...n.\u0275providers);return Gf(e)}const RV=new L("LEGACY_INTERCEPTOR_FN");function Gee(){return function Mo(t,e){return{\u0275kind:t,\u0275providers:e}}(Ps.LegacyInterceptors,[{provide:RV,useFactory:kee},{provide:ud,useExisting:RV,multi:!0}])}let Wee=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Nt({type:t});static#n=this.\u0275inj=bt({providers:[qee(Gee())]})}return t})();function Zee(t,e){1&t&&(D(0,"div",14),N(1," Nombre es obligatorio. "),b())}function ete(t,e){1&t&&(D(0,"div",14),N(1," Email es obligatorio. "),b())}function tte(t,e){1&t&&(D(0,"div",14),N(1," Email no es v\xe1lido. "),b())}function nte(t,e){1&t&&(D(0,"div",14),N(1," Tel\xe9fono es obligatorio. "),b())}function rte(t,e){1&t&&(D(0,"div",14),N(1," Tel\xe9fono solo puede contener n\xfameros. "),b())}function ite(t,e){1&t&&(D(0,"div",14),N(1," Descripci\xf3n es obligatoria. "),b())}let ste=(()=>{class t{constructor(n,r){this.fb=n,this.http=r,this.form=this.fb.group({nombre:["",oi.required],email:["",[oi.required,oi.email]],telefono:["",oi.required],descripcion:["",oi.required]})}onSubmit(){}static#e=this.\u0275fac=function(r){return new(r||t)(A(yw),A(yV))};static#t=this.\u0275cmp=ut({type:t,selectors:[["app-form-cotizar"]],decls:29,vars:8,consts:[[1,"prosupuesto"],[1,"card"],[3,"formGroup","ngSubmit"],[1,"form-group","mb-4"],["for","nombre",1,"d-none"],["type","text","id","nombre","formControlName","nombre","placeholder","Nombre y Apellido",1,"form-control"],["class","form-error",4,"ngIf"],["for","email",1,"d-none"],["type","email","id","email","formControlName","email","placeholder","Email",1,"form-control"],["for","telefono",1,"d-none"],["type","text","id","telefono","formControlName","telefono","placeholder","Tel\xe9fono","pattern","[0-9+]*",1,"form-control"],["for","descripcion",1,"d-none"],["id","descripcion","formControlName","descripcion","placeholder","Descripci\xf3n","rows","4",1,"form-control"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],[1,"form-error"]],template:function(r,i){1&r&&(D(0,"div",0)(1,"h4"),N(2,"SOLICITE SU PRESUPUESTO"),b(),D(3,"div",1)(4,"form",2),Ne("ngSubmit",function(){return i.onSubmit()}),D(5,"div",3)(6,"label",4),N(7,"Nombre:"),b(),K(8,"input",5),ge(9,Zee,2,0,"div",6),b(),D(10,"div",3)(11,"label",7),N(12,"Email:"),b(),K(13,"input",8),ge(14,ete,2,0,"div",6),ge(15,tte,2,0,"div",6),b(),D(16,"div",3)(17,"label",9),N(18,"Tel\xe9fono:"),b(),K(19,"input",10),ge(20,nte,2,0,"div",6),ge(21,rte,2,0,"div",6),b(),D(22,"div",3)(23,"label",11),N(24,"Descripci\xf3n:"),b(),K(25,"textarea",12),ge(26,ite,2,0,"div",6),b(),D(27,"button",13),N(28," Enviar "),b()()()()),2&r&&(j(4),Y("formGroup",i.form),j(5),Y("ngIf",i.form.get("nombre").hasError("required")&&i.form.get("nombre").touched),j(5),Y("ngIf",i.form.get("email").hasError("required")&&i.form.get("email").touched),j(1),Y("ngIf",i.form.get("email").hasError("email")&&i.form.get("email").touched),j(5),Y("ngIf",i.form.get("telefono").hasError("required")&&i.form.get("telefono").touched),j(1),Y("ngIf",i.form.get("telefono").hasError("pattern")&&i.form.get("telefono").touched),j(5),Y("ngIf",i.form.get("descripcion").hasError("required")&&i.form.get("descripcion").touched),j(1),Y("disabled",!i.form.valid))},dependencies:[ni,Tg,Tu,fg,pg,_w,Du,od],styles:["[_nghost-%COMP%]   .prosupuesto[_ngcontent-%COMP%]{width:400px}[_nghost-%COMP%]   .prosupuesto[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:800;margin:0 0 30px}"]})}return t})(),ote=(()=>{class t{constructor(){this.tituloHero="Calidad y eficiencia es lo que nos carcateriza",this.subtituloHero="Pintura en casas, departamentos y oficinas."}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=ut({type:t,selectors:[["app-hero"]],decls:11,vars:2,consts:[[1,"hero"],[1,"container"],[1,"row"],[1,"col-6","llamada"],[1,"col-6","d-flex","justify-content-end"]],template:function(r,i){1&r&&(D(0,"div",0),K(1,"app-header"),D(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),N(6),b(),D(7,"h6"),N(8),b()(),D(9,"div",4),K(10,"app-form-cotizar"),b()()()()),2&r&&(j(6),$n(" ",i.tituloHero," "),j(2),$n(" ",i.subtituloHero," "))},dependencies:[aF,ste],styles:["[_nghost-%COMP%]   .hero[_ngcontent-%COMP%]{background-image:url(hero.5777c30f83966827.jpg);background-position:center center;background-size:cover;padding-bottom:190px}[_nghost-%COMP%]   .hero[_ngcontent-%COMP%]   .llamada[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start}[_nghost-%COMP%]   .hero[_ngcontent-%COMP%]   .llamada[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:900;width:455px;margin:0;font-size:38px}[_nghost-%COMP%]   .hero[_ngcontent-%COMP%]   .llamada[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:25px 0 0;font-weight:600;font-size:24px}"]})}return t})();function PV(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function y(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){PV(s,r,i,o,a,"next",u)}function a(u){PV(s,r,i,o,a,"throw",u)}o(void 0)})}}const MV=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},NV={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(MV(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new lte;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class lte extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Rg=function(t){return function(t){const e=MV(t);return NV.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Pg=function(t){try{return NV.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Mg=()=>{try{return function fte(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Pg(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},OV=t=>{var e,n;return null===(n=null===(e=Mg())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},kV=t=>{const e=OV(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},FV=()=>{var t;return null===(t=Mg())||void 0===t?void 0:t.config},VV=t=>{var e;return null===(e=Mg())||void 0===e?void 0:e[`_${t}`]};class LV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function UV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Rg(JSON.stringify({alg:"none",type:"JWT"})),Rg(JSON.stringify(o)),""].join(".")}function Bt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class ui extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cd.prototype.create)}}class cd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function Cte(t,e){return t.replace(bte,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new ui(i,`${this.serviceName}: ${o} (${i}).`,r)}}const bte=/\{\$([^}]+)}/g;function xg(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if($V(s)&&$V(o)){if(!xg(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function $V(t){return null!==t&&"object"==typeof t}function ld(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function dd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function hd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class Ste{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function Rte(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Cw),void 0===i.error&&(i.error=Cw),void 0===i.complete&&(i.complete=Cw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Cw(){}function ht(t){return t&&t._delegate?t._delegate:t}class Ms{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const No="[DEFAULT]";class kte{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new LV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Vte(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:No})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=No){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return y(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=No){return this.instances.has(e)}getOptions(e=No){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===No?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=No){return this.component?this.component.multipleInstances?e:No:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Lte{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new kte(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Dw=[];var ve=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ve||{});const HV={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},Ute=ve.INFO,Bte={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},jte=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=Bte[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Aw{constructor(e){this.name=e,this._logLevel=Ute,this._logHandler=jte,this._userLogHandler=null,Dw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?HV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}const $te=(t,e)=>e.some(n=>t instanceof n);let zV,qV;const GV=new WeakMap,Sw=new WeakMap,WV=new WeakMap,Rw=new WeakMap,Pw=new WeakMap;let Mw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Sw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||WV.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ns(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Qte(t){return"function"==typeof t?function Kte(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function zte(){return qV||(qV=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Nw(this),e),Ns(GV.get(this))}:function(...e){return Ns(t.apply(Nw(this),e))}:function(e,...n){const r=t.call(Nw(this),e,...n);return WV.set(r,e.sort?e.sort():[e]),Ns(r)}}(t):(t instanceof IDBTransaction&&function Gte(t){if(Sw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Sw.set(t,e)}(t),$te(t,function Hte(){return zV||(zV=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Mw):t)}function Ns(t){if(t instanceof IDBRequest)return function qte(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ns(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&GV.set(n,t)}).catch(()=>{}),Pw.set(e,t),e}(t);if(Rw.has(t))return Rw.get(t);const e=Qte(t);return e!==t&&(Rw.set(t,e),Pw.set(e,t)),e}const Nw=t=>Pw.get(t),Xte=["get","getKey","getAll","getAllKeys","count"],Jte=["put","add","delete","clear"],xw=new Map;function KV(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(xw.get(e))return xw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Jte.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Xte.includes(n))return;const s=function(){var o=y(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return xw.set(e,s),s}!function Wte(t){Mw=t(Mw)}(t=>({...t,get:(e,n,r)=>KV(e,n)||t.get(e,n,r),has:(e,n)=>!!KV(e,n)||t.has(e,n)}));class Zte{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function ene(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Ow="@firebase/app",xo=new Aw("@firebase/app"),Og="[DEFAULT]",Dne={[Ow]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Oo=new Map,kg=new Map;function Ane(t,e){try{t.container.addComponent(e)}catch(n){xo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ko(t){const e=t.name;if(kg.has(e))return xo.debug(`There were multiple attempts to register component ${e}.`),!1;kg.set(e,t);for(const n of Oo.values())Ane(n,t);return!0}function fd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const qi=new cd("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Rne{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qi.create("app-deleted",{appName:this._name})}}const Fo="10.6.0";function YV(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Og,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw qi.create("bad-app-name",{appName:String(i)});if(n||(n=FV()),!n)throw qi.create("no-options");const s=Oo.get(i);if(s){if(xg(n,s.options)&&xg(r,s.config))return s;throw qi.create("duplicate-app",{appName:i})}const o=new Lte(i);for(const u of kg.values())o.addComponent(u);const a=new Rne(n,r,o);return Oo.set(i,a),a}function Fg(t=Og){const e=Oo.get(t);if(!e&&t===Og&&FV())return YV();if(!e)throw qi.create("no-app",{appName:t});return e}function XV(){return Array.from(Oo.values())}function hn(t,e,n){var r;let i=null!==(r=Dne[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void xo.warn(a.join(" "))}ko(new Ms(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Pne="firebase-heartbeat-database",Mne=1,pd="firebase-heartbeat-store";let Fw=null;function JV(){return Fw||(Fw=function Yte(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ns(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ns(o.result),u.oldVersion,u.newVersion,Ns(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(Pne,Mne,{upgrade:(t,e)=>{0===e&&t.createObjectStore(pd)}}).catch(t=>{throw qi.create("idb-open",{originalErrorMessage:t.message})})),Fw}function Vw(){return(Vw=y(function*(t){try{return yield(yield JV()).transaction(pd).objectStore(pd).get(eL(t))}catch(e){if(e instanceof ui)xo.warn(e.message);else{const n=qi.create("idb-get",{originalErrorMessage:e?.message});xo.warn(n.message)}}})).apply(this,arguments)}function ZV(t,e){return Lw.apply(this,arguments)}function Lw(){return(Lw=y(function*(t,e){try{const r=(yield JV()).transaction(pd,"readwrite");yield r.objectStore(pd).put(e,eL(t)),yield r.done}catch(n){if(n instanceof ui)xo.warn(n.message);else{const r=qi.create("idb-set",{originalErrorMessage:n?.message});xo.warn(r.message)}}})).apply(this,arguments)}function eL(t){return`${t.name}!${t.options.appId}`}class kne{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Vne(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return y(function*(){var n;const i=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=tL();if(null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==s&&!e._heartbeatsCache.heartbeats.some(o=>o.date===s))return e._heartbeatsCache.heartbeats.push({date:s,agent:i}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return y(function*(){var n;if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=tL(),{heartbeatsToSend:i,unsentEntries:s}=function Fne(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),nL(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),nL(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=Rg(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(e._heartbeatsCache.heartbeats=s,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function tL(){return(new Date).toISOString().substring(0,10)}class Vne{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(function*(){return!!function Ite(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function wte(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return y(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Nne(t){return Vw.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return y(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return ZV(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return y(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return ZV(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function nL(t){return Rg(JSON.stringify({version:2,heartbeats:t})).length}!function Lne(t){ko(new Ms("platform-logger",e=>new Zte(e),"PRIVATE")),ko(new Ms("heartbeat",e=>new kne(e),"PRIVATE")),hn(Ow,"0.9.23",t),hn(Ow,"0.9.23","esm2017"),hn("fire-js","")}(""),hn("firebase","10.6.0","app");class jne extends xn{constructor(e,n){super()}schedule(e,n=0){return this}}const Vg={setInterval(t,e,...n){const{delegate:r}=Vg;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Vg;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class rL extends jne{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Vg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Vg.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ga(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const iL={now:()=>(iL.delegate||Date).now(),delegate:void 0};class gd{constructor(e,n=gd.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}gd.now=iL.now;class sL extends gd{constructor(e,n=gd.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const zne=new class Hne extends sL{}(class $ne extends rL{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),qne=new sL(rL),md=new Ga("ANGULARFIRE2_VERSION");function Uw(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}const Lg=(t,e)=>{const n=e?[e]:XV(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};class Bw{constructor(){return Lg(Gne)}}const Gne="app-check";function Ru(){}class oL{zone;delegate;constructor(e,n=zne){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class Wne{zone;task=null;constructor(e){this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ru,{},Ru,Ru)),n.pipe(tn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ug=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new oL(Zone.current)),this.insideAngular=n.run(()=>new oL(Zone.current,qne)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(O(pe))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Pu(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Vo(t){return Pu().ngZone.run(()=>t())}function Qne(t){return function Yne(t){return function(n){return(n=n.lift(new Wne(t.ngZone))).pipe(ef(t.outsideAngular),Zh(t.insideAngular))}}(Pu())(t)}const Xne=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Vo(()=>t.apply(void 0,r))},jt=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||=Vo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ru,{},Ru,Ru))),r[s]=Xne(r[s],n));const i=function Kne(t){return Pu().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Ke){const s=Pu();return i.pipe(ef(s.outsideAngular),Zh(s.insideAngular))}return Vo(()=>i)}return i instanceof Ke?i.pipe(Qne):i instanceof Promise?Vo(()=>new Promise((s,o)=>i.then(a=>Vo(()=>s(a)),a=>Vo(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Vo(()=>i)};class Mu{constructor(e){return e}}class Bg{constructor(){return XV()}}const jw=new L("angularfire2._apps"),Zne={provide:Mu,useFactory:function Jne(t){return t&&1===t.length?t[0]:new Mu(Fg())},deps:[[new en,jw]]},ere={provide:Bg,deps:[[new en,jw]]};function tre(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Mu(r)}}let nre=(()=>{class t{constructor(n){hn("angularfire",md.full,"core"),hn("angularfire",md.full,"app"),hn("angular",XP.full,n.toString())}static \u0275fac=function(r){return new(r||t)(O(ys))};static \u0275mod=Nt({type:t});static \u0275inj=bt({providers:[Zne,ere]})}return t})();function rre(t,...e){return{ngModule:nre,providers:[{provide:jw,useFactory:tre(t),multi:!0,deps:[pe,Dt,Ug,...e]}]}}const ire=jt(YV,!0);const sre=function aL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},uL=new cd("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),jg=new Aw("@firebase/auth");function $g(t,...e){jg.logLevel<=ve.ERROR&&jg.error(`Auth (${Fo}): ${t}`,...e)}function qn(t,...e){throw $w(t,...e)}function ar(t,...e){return $w(t,...e)}function cL(t,e,n){const r=Object.assign(Object.assign({},sre()),{[e]:n});return new cd("auth","Firebase",r).create(e,{appName:t.name})}function $w(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return uL.create(t,...e)}function x(t,e,...n){if(!t)throw $w(e,...n)}function ci(t){const e="INTERNAL ASSERTION FAILED: "+t;throw $g(e),new Error(e)}function Gi(t,e){t||ci(e)}function _d(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function lL(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}function are(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Hw(){return"http:"===lL()||"https:"===lL()}()||function yte(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()||"connection"in navigator))||navigator.onLine}class yd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Gi(n>e,"Short delay should be less than long delay!"),this.isMobile=function _te(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}()||function vte(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return are()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function zw(t,e){Gi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class dL{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const cre={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},lre=new yd(3e4,6e4);function Qe(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ye(t,e,n,r){return qw.apply(this,arguments)}function qw(){return(qw=y(function*(t,e,n,r,i={}){return hL(t,i,y(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=ld(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),dL.fetch()(fL(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function hL(t,e,n){return Gw.apply(this,arguments)}function Gw(){return(Gw=y(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},cre),e);try{const i=new hre(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw vd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw vd(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw vd(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw vd(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw cL(t,l,c);qn(t,l)}}catch(i){if(i instanceof ui)throw i;qn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Wi(t,e,n,r){return Ww.apply(this,arguments)}function Ww(){return(Ww=y(function*(t,e,n,r,i={}){const s=yield Ye(t,e,n,r,i);return"mfaPendingCredential"in s&&qn(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function fL(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?zw(t.config,i):`${t.config.apiScheme}://${i}`}function dre(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hre{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ar(this.auth,"network-request-failed")),lre.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ar(t,e,r);return i.customData._tokenResponse=n,i}function gL(t){return void 0!==t&&void 0!==t.enterprise}class mL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return dre(n.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function _L(t,e){return Qw.apply(this,arguments)}function Qw(){return(Qw=y(function*(t,e){return Ye(t,"GET","/v2/recaptchaConfig",Qe(t,e))})).apply(this,arguments)}function Yw(){return(Yw=y(function*(t,e){return Ye(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Jw(){return(Jw=y(function*(t,e){return Ye(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Ed(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Zw(){return(Zw=y(function*(t,e=!1){const n=ht(t),r=yield n.getIdToken(e),i=Hg(r);x(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ed(eT(i.auth_time)),issuedAtTime:Ed(eT(i.iat)),expirationTime:Ed(eT(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function eT(t){return 1e3*Number(t)}function Hg(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return $g("JWT malformed, contained fewer than 3 sections"),null;try{const i=Pg(n);return i?JSON.parse(i):($g("Failed to decode base64 JWT payload"),null)}catch(i){return $g("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Ki(t,e){return tT.apply(this,arguments)}function tT(){return(tT=y(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof ui&&function vre({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Ere{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(y(function*(){yield n.iteration()}),r)}iteration(){var e=this;return y(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class yL{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ed(this.lastLoginAt),this.creationTime=Ed(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Id(t){return nT.apply(this,arguments)}function nT(){return nT=y(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Ki(t,function mre(t,e){return Jw.apply(this,arguments)}(n,{idToken:r}));x(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function Tre(t){return t.map(e=>{var{providerId:n}=e,r=Jh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function wre(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new yL(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),nT.apply(this,arguments)}function rT(){return(rT=y(function*(t){const e=ht(t);yield Id(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function iT(){return(iT=y(function*(t,e){const n=yield hL(t,{},y(function*(){const r=ld({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=fL(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",dL.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}function sT(){return(sT=y(function*(t,e){return Ye(t,"POST","/v2/accounts:revokeToken",Qe(t,e))})).apply(this,arguments)}class wd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){x(e.idToken,"internal-error"),x(typeof e.idToken<"u","internal-error"),x(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function yre(t){const e=Hg(t);return x(e,"internal-error"),x(typeof e.exp<"u","internal-error"),x(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return y(function*(){return x(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return y(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Cre(t,e){return iT.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new wd;return r&&(x("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(x("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(x("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wd,this.toJSON())}_performRefresh(){return ci("not implemented")}}function xs(t,e){x("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Lo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Jh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ere(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new yL(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return y(function*(){const r=yield Ki(n,n.stsTokenManager.getToken(n.auth,e));return x(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function _re(t){return Zw.apply(this,arguments)}(this,e)}reload(){return function Ire(t){return rT.apply(this,arguments)}(this)}_assign(e){this!==e&&(x(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Lo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){x(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return y(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Id(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return y(function*(){const n=yield e.getIdToken();return yield Ki(e,function pre(t,e){return Yw.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,v=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:I,emailVerified:C,isAnonymous:M,providerData:$,stsTokenManager:X}=n;x(I&&X,e,"internal-error");const ye=wd.fromJSON(this.name,X);x("string"==typeof I,e,"internal-error"),xs(d,e.name),xs(h,e.name),x("boolean"==typeof C,e,"internal-error"),x("boolean"==typeof M,e,"internal-error"),xs(f,e.name),xs(p,e.name),xs(g,e.name),xs(m,e.name),xs(v,e.name),xs(_,e.name);const ot=new Lo({uid:I,auth:e,email:h,emailVerified:C,displayName:d,isAnonymous:M,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:ye,createdAt:v,lastLoginAt:_});return $&&Array.isArray($)&&(ot.providerData=$.map(yn=>Object.assign({},yn))),m&&(ot._redirectEventId=m),ot}static _fromIdTokenResponse(e,n,r=!1){return y(function*(){const i=new wd;i.updateFromServerResponse(n);const s=new Lo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Id(s),s})()}}const vL=new Map;function Qi(t){Gi(t instanceof Function,"Expected a class definition");let e=vL.get(t);return e?(Gi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vL.set(t,e),e)}const EL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(function*(){return!0})()}_set(n,r){var i=this;return y(function*(){i.storage[n]=r})()}_get(n){var r=this;return y(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return y(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function zg(t,e,n){return`firebase:${t}:${e}:${n}`}class xu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=zg(this.userKey,i.apiKey,s),this.fullPersistenceKey=zg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return y(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Lo._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return y(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return y(function*(){if(!n.length)return new xu(Qi(EL),e,r);const i=(yield Promise.all(n.map(function(){var c=y(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Qi(EL);const o=zg(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=Lo._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=y(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new xu(s,e,r)):new xu(s,e,r)})()}}function IL(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(DL(e))return"Blackberry";if(AL(e))return"Webos";if(oT(e))return"Safari";if((e.includes("chrome/")||TL(e))&&!e.includes("edge/"))return"Chrome";if(bL(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function wL(t=Bt()){return/firefox\//i.test(t)}function oT(t=Bt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TL(t=Bt()){return/crios\//i.test(t)}function CL(t=Bt()){return/iemobile/i.test(t)}function bL(t=Bt()){return/android/i.test(t)}function DL(t=Bt()){return/blackberry/i.test(t)}function AL(t=Bt()){return/webos/i.test(t)}function qg(t=Bt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function SL(t=Bt()){return qg(t)||bL(t)||AL(t)||DL(t)||/windows phone/i.test(t)||CL(t)}function RL(t,e=[]){let n;switch(t){case"Browser":n=IL(Bt());break;case"Worker":n=`${IL(Bt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fo}/${r}`}class Rre{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return y(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function aT(){return(aT=y(function*(t,e={}){return Ye(t,"GET","/v2/passwordPolicy",Qe(t,e))})).apply(this,arguments)}class Nre{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=null===(n=u.meetsMinPasswordLength)||void 0===n||n),u.isValid&&(u.isValid=null===(r=u.meetsMaxPasswordLength)||void 0===r||r),u.isValid&&(u.isValid=null===(i=u.containsLowercaseLetter)||void 0===i||i),u.isValid&&(u.isValid=null===(s=u.containsUppercaseLetter)||void 0===s||s),u.isValid&&(u.isValid=null===(o=u.containsNumericCharacter)||void 0===o||o),u.isValid&&(u.isValid=null===(a=u.containsNonAlphanumericCharacter)||void 0===a||a),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class xre{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new PL(this),this.idTokenSubscription=new PL(this),this.beforeStateQueue=new Rre(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Qi(n)),this._initializationPromise=this.queue(y(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield xu.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return y(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return y(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return x(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return y(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return y(function*(){try{yield Id(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function ure(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return y(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return y(function*(){const r=e?ht(e):null;return r&&x(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return y(function*(){if(!r._deleted)return e&&x(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(y(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return y(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(y(function*(){yield n.assertedPersistence.setPersistence(Qi(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return y(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return y(function*(){const n=yield function Pre(t){return aT.apply(this,arguments)}(e),r=new Nre(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new cd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){var n=this;return y(function*(){if(n.currentUser){const r=yield n.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=n.tenantId&&(i.tenantId=n.tenantId),yield function bre(t,e){return sT.apply(this,arguments)}(n,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return y(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return y(function*(){if(!n.redirectPersistenceManager){const r=e&&Qi(e)||n._popupRedirectResolver;x(r,n,"argument-error"),n.redirectPersistenceManager=yield xu.create(n,[Qi(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return y(function*(){var r,i;return n._isInitialized&&(yield n.queue(y(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return y(function*(){if(e===n.currentUser)return n.queue(y(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(x(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),"function"==typeof n){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}{const u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){var n=this;return y(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return x(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return y(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return y(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function ore(t,...e){jg.logLevel<=ve.WARN&&jg.warn(`Auth (${Fo}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function yt(t){return ht(t)}class PL{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Ate(t,e){const n=new Ste(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return x(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function uT(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ar("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function Ore(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function ML(t){return`__${t}${Math.floor(1e6*Math.random())}`}class NL{constructor(e){this.type="recaptcha-enterprise",this.auth=yt(e)}verify(e="verify",n=!1){var r=this;return y(function*(){function s(){return s=y(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=y(function*(c,l){_L(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new mL(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;gL(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&gL(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));uT("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}function xL(t,e,n){return cT.apply(this,arguments)}function cT(){return(cT=y(function*(t,e,n,r=!1){const i=new NL(t);let s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}const o=Object.assign({},e);return Object.assign(o,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}function Td(t,e,n,r){return lT.apply(this,arguments)}function lT(){return lT=y(function*(t,e,n,r){var i;if(null!==(i=t._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=yield xL(t,e,n,"getOobCode"===n);return r(t,s)}return r(t,e).catch(function(){var s=y(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=yield xL(t,e,n,"getOobCode"===n);return r(t,a)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}())}),lT.apply(this,arguments)}function OL(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function kL(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class hT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ci("not implemented")}_getIdTokenResponse(e){return ci("not implemented")}_linkToIdToken(e,n){return ci("not implemented")}_getReauthenticationResolver(e){return ci("not implemented")}}function qre(t,e){return gT.apply(this,arguments)}function gT(){return(gT=y(function*(t,e){return Ye(t,"POST","/v1/accounts:signUp",e)})).apply(this,arguments)}function Wre(t,e){return _T.apply(this,arguments)}function _T(){return(_T=y(function*(t,e){return Wi(t,"POST","/v1/accounts:signInWithPassword",Qe(t,e))})).apply(this,arguments)}function TT(){return(TT=y(function*(t,e){return Wi(t,"POST","/v1/accounts:signInWithEmailLink",Qe(t,e))})).apply(this,arguments)}function CT(){return(CT=y(function*(t,e){return Wi(t,"POST","/v1/accounts:signInWithEmailLink",Qe(t,e))})).apply(this,arguments)}class Cd extends hT{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Cd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Cd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return y(function*(){switch(n.signInMethod){case"password":return Td(e,{returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Wre);case"emailLink":return function Jre(t,e){return TT.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:qn(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return y(function*(){switch(r.signInMethod){case"password":return Td(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qre);case"emailLink":return function Zre(t,e){return CT.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:qn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Yi(t,e){return bT.apply(this,arguments)}function bT(){return(bT=y(function*(t,e){return Wi(t,"POST","/v1/accounts:signInWithIdp",Qe(t,e))})).apply(this,arguments)}class Ou extends hT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ou(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Jh(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ou(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return Yi(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Yi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Yi(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ld(n)}return e}}class Dd{constructor(e){var n,r,i,s,o,a;const u=dd(hd(e)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function oie(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);x(c&&l&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=l,this.continueUrl=null!==(s=u.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function aie(t){const e=dd(hd(t)).link,n=e?dd(hd(e)).deep_link_id:null,r=dd(hd(t)).deep_link_id;return(r?dd(hd(r)).link:null)||r||n||e||t}(e);try{return new Dd(n)}catch{return null}}}let VL=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Cd._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=Dd.parseLink(r);return x(i,"argument-error"),Cd._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class Os{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class LL extends Os{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let uie=(()=>{class t extends LL{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Ou._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();class Cr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return y(function*(){const s=yield Lo._fromIdTokenResponse(e,r,i),o=BL(r);return new Cr({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return y(function*(){yield e._updateTokensIfNecessary(r,!0);const i=BL(r);return new Cr({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function BL(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Kg extends ui{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Kg.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Kg(e,n,r,i)}}function jL(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Kg._fromErrorAndOperation(t,s,e,r):s})}function kT(){return(kT=y(function*(t,e,n=!1){const r=yield Ki(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Cr._forOperation(t,"link",r)})).apply(this,arguments)}function VT(){return(VT=y(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield Ki(t,jL(r,i,e,t),n);x(s.idToken,r,"internal-error");const o=Hg(s.idToken);x(o,r,"internal-error");const{sub:a}=o;return x(t.uid===a,r,"user-mismatch"),Cr._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&qn(r,"user-mismatch"),s}})).apply(this,arguments)}function zL(t,e){return LT.apply(this,arguments)}function LT(){return(LT=y(function*(t,e,n=!1){const r="signIn",i=yield jL(t,r,e),s=yield Cr._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function BT(){return(BT=y(function*(t,e){return zL(yt(t),e)})).apply(this,arguments)}function QT(){return(QT=y(function*(t){const e=yt(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function gie(t,e,n){return function UT(t,e){return BT.apply(this,arguments)}(ht(t),VL.credential(e,n)).catch(function(){var r=y(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&function KT(t){return QT.apply(this,arguments)}(t),i});return function(i){return r.apply(this,arguments)}}())}const Xg="__sak";class GL{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xg,"1"),this.storage.removeItem(Xg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const xie=(()=>{class t extends GL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Pie(){const t=Bt();return oT(t)||qg(t)}()&&function Sre(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=SL(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function Are(){return function Ete(){const t=Bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return y(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return y(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return y(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),WL=(()=>{class t extends GL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let kie=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return y(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=y(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function Oie(t){return Promise.all(t.map(function(){var e=y(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function Jg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class Fie{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return y(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=Jg("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function St(){return window}function _C(){return typeof St().WorkerGlobalScope<"u"&&"function"==typeof St().importScripts}function yC(){return(yC=y(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const KL="firebaseLocalStorageDb",Zg="firebaseLocalStorage",QL="fbase_key";class Sd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function em(t,e){return t.transaction([Zg],e?"readwrite":"readonly").objectStore(Zg)}function vC(){const t=indexedDB.open(KL,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Zg,{keyPath:QL})}catch(i){n(i)}}),t.addEventListener("success",y(function*(){const r=t.result;r.objectStoreNames.contains(Zg)?e(r):(r.close(),yield function $ie(){const t=indexedDB.deleteDatabase(KL);return new Sd(t).toPromise()}(),e(yield vC()))}))})}function YL(t,e,n){return EC.apply(this,arguments)}function EC(){return(EC=y(function*(t,e,n){const r=em(t,!0).put({[QL]:e,value:n});return new Sd(r).toPromise()})).apply(this,arguments)}function IC(){return(IC=y(function*(t,e){const n=em(t,!1).get(e),r=yield new Sd(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function XL(t,e){const n=em(t,!0).delete(e);return new Sd(n).toPromise()}const Gie=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return y(function*(){return n.db||(n.db=yield vC()),n.db})()}_withRetries(n){var r=this;return y(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return y(function*(){return _C()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return y(function*(){n.receiver=kie._getInstance(function Bie(){return _C()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=y(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=y(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return y(function*(){var r,i;if(n.activeServiceWorker=yield function Lie(){return yC.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new Fie(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return y(function*(){if(r.sender&&r.activeServiceWorker&&function Uie(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return y(function*(){try{if(!indexedDB)return!1;const n=yield vC();return yield YL(n,Xg,"1"),yield XL(n,Xg),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return y(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return y(function*(){return i._withPendingWrite(y(function*(){return yield i._withRetries(s=>YL(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return y(function*(){const i=yield r._withRetries(s=>function Hie(t,e){return IC.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return y(function*(){return r._withPendingWrite(y(function*(){return yield r._withRetries(i=>XL(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return y(function*(){const r=yield n._withRetries(o=>{const a=em(o,!1).getAll();return new Sd(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(y(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function Bo(t,e){return e?Qi(e):(x(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}ML("rcb"),new yd(3e4,6e4);class PC extends hT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Yi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Yi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function use(t){return zL(t.auth,new PC(t),t.bypassAuthState)}function cse(t){const{auth:e,user:n}=t;return x(n,e,"internal-error"),function HL(t,e){return VT.apply(this,arguments)}(n,new PC(t),t.bypassAuthState)}function lse(t){return MC.apply(this,arguments)}function MC(){return(MC=y(function*(t){const{auth:e,user:n}=t;return x(n,e,"internal-error"),function OT(t,e){return kT.apply(this,arguments)}(n,new PC(t),t.bypassAuthState)})).apply(this,arguments)}class ZL{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=y(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return y(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return use;case"linkViaPopup":case"linkViaRedirect":return lse;case"reauthViaPopup":case"reauthViaRedirect":return cse;default:qn(this.auth,"internal-error")}}resolve(e){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const dse=new yd(2e3,1e4);function hse(t,e,n){return NC.apply(this,arguments)}function NC(){return(NC=y(function*(t,e,n){const r=yt(t);!function Nu(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&qn(t,"argument-error"),cL(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(t,e,Os);const i=Bo(r,n);return new kC(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let kC=(()=>{class t extends ZL{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return y(function*(){const r=yield n.execute();return x(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return y(function*(){Gi(1===n.filter.length,"Popup operations only handle one event");const r=Jg();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(ar(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ar(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(n,dse.get())};n()}}return t.currentPopupAction=null,t})();const fse="pendingRedirect",Rd=new Map;class pse extends ZL{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return y(function*(){let r=Rd.get(n.auth._key());if(!r){try{const s=(yield function gse(t,e){return FC.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Rd.set(n.auth._key(),r)}return n.bypassAuthState||Rd.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return y(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return y(function*(){})()}cleanUp(){}}function FC(){return(FC=y(function*(t,e){const n=function t2(t){return zg(fse,t.config.apiKey,t.name)}(e),r=function e2(t){return Qi(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function mse(t,e){Rd.set(t._key(),e)}function n2(t,e){return HC.apply(this,arguments)}function HC(){return(HC=y(function*(t,e,n=!1){const r=yt(t),i=Bo(r,e),o=yield new pse(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class Ise{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function wse(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return s2(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!s2(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(ar(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(i2(e))}saveEventToCache(e){this.cachedEventUids.add(i2(e)),this.lastProcessedEventTime=Date.now()}}function i2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function s2({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function qC(){return(qC=y(function*(t,e={}){return Ye(t,"GET","/v1/projects",e)})).apply(this,arguments)}const Cse=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bse=/^https?/;function GC(){return GC=y(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function Tse(t){return qC.apply(this,arguments)}(t);for(const n of e)try{if(Ase(n))return}catch{}qn(t,"unauthorized-domain")}),GC.apply(this,arguments)}function Ase(t){const e=_d(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!bse.test(n))return!1;if(Cse.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Sse=new yd(3e4,6e4);function o2(){const t=St().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let nm=null;const Mse=new yd(5e3,15e3),Nse="__/auth/iframe",xse="emulator/auth/iframe",Ose={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kse=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fse(t){const e=t.config;x(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?zw(e,xse):`https://${t.config.authDomain}/${Nse}`,r={apiKey:e.apiKey,appName:t.name,v:Fo},i=kse.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ld(r).slice(1)}`}function WC(){return WC=y(function*(t){const e=yield function Pse(t){return nm=nm||function Rse(t){return new Promise((e,n)=>{var r,i,s;function o(){o2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{o2(),n(ar(t,"network-request-failed"))},timeout:Sse.get()})}if(null!==(i=null===(r=St().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=St().gapi)||void 0===s||!s.load){const a=ML("iframefcb");return St()[a]=()=>{gapi.load?o():n(ar(t,"network-request-failed"))},uT(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}o()}}).catch(e=>{throw nm=null,e})}(t),nm}(t),n=St().gapi;return x(n,t,"internal-error"),e.open({where:document.body,url:Fse(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ose,dontclear:!0},r=>new Promise(function(){var i=y(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=ar(t,"network-request-failed"),u=St().setTimeout(()=>{o(a)},Mse.get());function c(){St().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),WC.apply(this,arguments)}const Lse={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class a2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const qse="__/auth/handler",Gse="emulator/auth/handler",Wse=encodeURIComponent("fac");function u2(t,e,n,r,i,s){return KC.apply(this,arguments)}function KC(){return(KC=y(function*(t,e,n,r,i,s){x(t.config.authDomain,t,"auth-domain-config-required"),x(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Fo,eventId:i};if(e instanceof Os){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function Dte(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof LL){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const u=yield t._getAppCheckToken(),c=u?`#${Wse}=${encodeURIComponent(u)}`:"";return`${function Kse({config:t}){return t.emulator?zw(t,Gse):`https://${t.authDomain}/${qse}`}(t)}?${ld(a).slice(1)}${c}`})).apply(this,arguments)}const QC="webStorageSupport",Yse=class Qse{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WL,this._completeRedirectFn=n2,this._overrideRedirectResult=mse}_openPopup(e,n,r,i){var s=this;return y(function*(){var o;Gi(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield u2(e,n,r,_d(),i);return function Hse(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Lse),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Bt().toLowerCase();n&&(a=TL(c)?"_blank":n),wL(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function Dre(t=Bt()){var e;return qg(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function zse(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new a2(null);const d=window.open(e||"",a,l);x(d,t,"popup-blocked");try{d.focus()}catch{}return new a2(d)}(e,a,Jg())})()}_openRedirect(e,n,r,i){var s=this;return y(function*(){return yield s._originValidation(e),function Vie(t){St().location.href=t}(yield u2(e,n,r,_d(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Gi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return y(function*(){const r=yield function Vse(t){return WC.apply(this,arguments)}(e),i=new Ise(e);return r.register("authEvent",s=>(x(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(QC,{type:QC},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[QC];void 0!==o&&n(!!o),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function Dse(t){return GC.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return SL()||oT()||qg()}};var d2="@firebase/auth";class Xse{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return y(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){x(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const toe=VV("authIdTokenMaxAge")||300;let f2=null;const noe=t=>function(){var e=y(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>toe)return;const s=r?.token;f2!==s&&(f2=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function roe(t=Fg()){const e=fd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function Ure(t,e){const n=fd(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(xg(n.getOptions(),e??{}))return i;qn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Yse,persistence:[Gie,xie,WL]}),r=VV("authTokenSyncURL");if(r){const s=noe(r);(function Cie(t,e,n){ht(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function Tie(t,e,n,r){ht(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=OV("auth");return i&&function jre(t,e,n){const r=yt(t);x(r._canInitEmulator,r,"emulator-config-failed"),x(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=OL(e),{host:o,port:a}=function $re(t){const e=OL(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:kL(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:kL(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Hre(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}function ioe(t){return new Ke(function(e){var n=function bie(t,e,n,r){return ht(t).onAuthStateChanged(e,n,r)}(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}!function Zse(t){ko(new Ms("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;x(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RL(t)},c=new xre(r,i,s,u);return function Bre(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Qi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ko(new Ms("auth-internal",e=>{const n=yt(e.getProvider("auth").getImmediate());return new Xse(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),hn(d2,"1.4.0",function Jse(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),hn(d2,"1.4.0","esm2017")}("Browser");class im{constructor(e){return e}}class XC{constructor(){return Lg("auth")}}const JC=new L("angularfire2.auth-instances");function aoe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new im(r)}}const uoe={provide:XC,deps:[[new en,JC]]},coe={provide:im,useFactory:function ooe(t,e){const n=Uw("auth",t,e);return n&&new im(n)},deps:[[new en,JC],Mu]};let loe=(()=>{class t{constructor(){hn("angularfire",md.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Nt({type:t});static \u0275inj=bt({providers:[coe,uoe]})}return t})();function doe(t,...e){return{ngModule:loe,providers:[{provide:JC,useFactory:aoe(t),multi:!0,deps:[pe,Dt,Ug,Bg,[new en,Bw],...e]}]}}const hoe=jt(ioe,!0),foe=jt(roe,!0),poe=jt(gie,!0),goe=jt(hse,!0);var U,moe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Lr={},ZC=ZC||{},ae=moe||self;function sm(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Pd(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var eb="closure_uid_"+(1e9*Math.random()>>>0),yoe=0;function voe(t,e,n){return t.call.apply(t.bind,arguments)}function Eoe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function fn(t,e,n){return(fn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?voe:Eoe).apply(null,arguments)}function om(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function $t(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ks(){this.s=this.s,this.o=this.o}ks.prototype.s=!1,ks.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function _oe(t){Object.prototype.hasOwnProperty.call(t,eb)&&t[eb]||(t[eb]=++yoe)}(this)},ks.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const g2=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function tb(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function m2(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(sm(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function pn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}pn.prototype.h=function(){this.defaultPrevented=!0};var woe=function(){if(!ae.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ae.addEventListener("test",()=>{},e),ae.removeEventListener("test",()=>{},e)}catch{}return t}();function Md(t){return/^[\s\xa0]*$/.test(t)}function am(){var t=ae.navigator;return t&&(t=t.userAgent)?t:""}function li(t){return-1!=am().indexOf(t)}function nb(t){return nb[" "](t),t}nb[" "]=function(){};var ib,t,Coe=li("Opera"),ku=li("Trident")||li("MSIE"),_2=li("Edge"),rb=_2||ku,y2=li("Gecko")&&!(-1!=am().toLowerCase().indexOf("webkit")&&!li("Edge"))&&!(li("Trident")||li("MSIE"))&&!li("Edge"),boe=-1!=am().toLowerCase().indexOf("webkit")&&!li("Edge");function v2(){var t=ae.document;return t?t.documentMode:void 0}e:{var sb="",ob=(t=am(),y2?/rv:([^\);]+)(\)|;)/.exec(t):_2?/Edge\/([\d\.]+)/.exec(t):ku?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):boe?/WebKit\/(\S+)/.exec(t):Coe?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(ob&&(sb=ob?ob[1]:""),ku){var ab=v2();if(null!=ab&&ab>parseFloat(sb)){ib=String(ab);break e}}ib=sb}var Doe=ae.document&&ku&&(v2()||parseInt(ib,10))||void 0;function Nd(t,e){if(pn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(y2){e:{try{nb(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Aoe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Nd.$.h.call(this)}}$t(Nd,pn);var Aoe={2:"touch",3:"pen",4:"mouse"};Nd.prototype.h=function(){Nd.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var xd="closure_listenable_"+(1e6*Math.random()|0),Soe=0;function Roe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Soe,this.fa=this.ia=!1}function um(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function cb(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function I2(t){const e={};for(const n in t)e[n]=t[n];return e}const w2="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T2(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<w2.length;s++)n=w2[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function cm(t){this.src=t,this.g={},this.h=0}function lb(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=g2(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(um(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function db(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}cm.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=db(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new Roe(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var hb="closure_lm_"+(1e6*Math.random()|0),fb={};function C2(t,e,n,r,i){if(r&&r.once)return D2(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)C2(t,e[s],n,r,i);return null}return n=_b(n),t&&t[xd]?t.O(e,n,Pd(r)?!!r.capture:!!r,i):b2(t,e,n,!1,r,i)}function b2(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Pd(i)?!!i.capture:!!i,a=gb(t);if(a||(t[hb]=a=new cm(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Moe(){const e=Noe;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)woe||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(S2(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function D2(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)D2(t,e[s],n,r,i);return null}return n=_b(n),t&&t[xd]?t.P(e,n,Pd(r)?!!r.capture:!!r,i):b2(t,e,n,!0,r,i)}function A2(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)A2(t,e[s],n,r,i);else r=Pd(r)?!!r.capture:!!r,n=_b(n),t&&t[xd]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=db(s=t.g[e],n,r,i))&&(um(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=gb(t))&&(e=t.g[e.toString()],t=-1,e&&(t=db(e,n,r,i)),(n=-1<t?e[t]:null)&&pb(n))}function pb(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[xd])lb(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(S2(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=gb(e))?(lb(n,t),0==n.h&&(n.src=null,e[hb]=null)):um(t)}}}function S2(t){return t in fb?fb[t]:fb[t]="on"+t}function Noe(t,e){if(t.fa)t=!0;else{e=new Nd(e,this);var n=t.listener,r=t.la||t.src;t.ia&&pb(t),t=n.call(r,e)}return t}function gb(t){return(t=t[hb])instanceof cm?t:null}var mb="__closure_events_fn_"+(1e9*Math.random()>>>0);function _b(t){return"function"==typeof t?t:(t[mb]||(t[mb]=function(e){return t.handleEvent(e)}),t[mb])}function Ht(){ks.call(this),this.i=new cm(this),this.S=this,this.J=null}function nn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new pn(e,t);else if(e instanceof pn)e.target=e.target||t;else{var i=e;T2(e=new pn(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=lm(o,r,!0,e)&&i}if(i=lm(o=e.g=t,r,!0,e)&&i,i=lm(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=lm(o=e.g=n[s],r,!1,e)&&i}function lm(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&lb(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}$t(Ht,ks),Ht.prototype[xd]=!0,Ht.prototype.removeEventListener=function(t,e,n,r){A2(this,t,e,n,r)},Ht.prototype.N=function(){if(Ht.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)um(n[r]);delete t.g[e],t.h--}}this.J=null},Ht.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Ht.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var yb=ae.JSON.stringify;function Ooe(){var t=vb;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var R2=new class xoe{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Foe,t=>t.reset());class Foe{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Voe(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Loe(t){ae.setTimeout(()=>{throw t},0)}let Od,kd=!1,vb=new class koe{constructor(){this.h=this.g=null}add(e,n){const r=R2.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},P2=()=>{const t=ae.Promise.resolve(void 0);Od=()=>{t.then(Uoe)}};var Uoe=()=>{for(var t;t=Ooe();){try{t.h.call(t.g)}catch(n){Loe(n)}var e=R2;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}kd=!1};function dm(t,e){Ht.call(this),this.h=t||1,this.g=e||ae,this.j=fn(this.qb,this),this.l=Date.now()}function Eb(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function Ib(t,e,n){if("function"==typeof t)n&&(t=fn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=fn(t.handleEvent,t)}return 2147483647<Number(e)?-1:ae.setTimeout(t,e||0)}function M2(t){t.g=Ib(()=>{t.g=null,t.i&&(t.i=!1,M2(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}$t(dm,Ht),(U=dm.prototype).ga=!1,U.T=null,U.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),nn(this,"tick"),this.ga&&(Eb(this),this.start()))}},U.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},U.N=function(){dm.$.N.call(this),Eb(this),delete this.g};class Boe extends ks{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:M2(this)}N(){super.N(),this.g&&(ae.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fd(t){ks.call(this),this.h=t,this.g={}}$t(Fd,ks);var N2=[];function x2(t,e,n,r){Array.isArray(n)||(n&&(N2[0]=n.toString()),n=N2);for(var i=0;i<n.length;i++){var s=C2(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function O2(t){cb(t.g,function(e,n){this.g.hasOwnProperty(n)&&pb(e)},t),t.g={}}function hm(){this.g=!0}function Fu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function zoe(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return yb(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Fd.prototype.N=function(){Fd.$.N.call(this),O2(this)},Fd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},hm.prototype.Ea=function(){this.g=!1},hm.prototype.info=function(){};var jo={},k2=null;function fm(){return k2=k2||new Ht}function F2(t){pn.call(this,jo.Ta,t)}function Vd(t){const e=fm();nn(e,new F2(e))}function V2(t,e){pn.call(this,jo.STAT_EVENT,t),this.stat=e}function Rn(t){const e=fm();nn(e,new V2(e,t))}function L2(t,e){pn.call(this,jo.Ua,t),this.size=e}function Ld(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ae.setTimeout(function(){t()},e)}jo.Ta="serverreachability",$t(F2,pn),jo.STAT_EVENT="statevent",$t(V2,pn),jo.Ua="timingevent",$t(L2,pn);var pm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},U2={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function wb(){}function j2(){}wb.prototype.h=null;var bb,Ud={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Tb(){pn.call(this,"d")}function Cb(){pn.call(this,"c")}function gm(){}function Bd(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Fd(this),this.P=qoe,this.V=new dm(t=rb?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new $2}function $2(){this.i=null,this.g="",this.h=!1}$t(Tb,pn),$t(Cb,pn),$t(gm,wb),gm.prototype.g=function(){return new XMLHttpRequest},gm.prototype.i=function(){return{}},bb=new gm;var qoe=45e3,Db={},mm={};function Ab(t,e,n){t.L=1,t.v=Em(Xi(e)),t.s=n,t.S=!0,H2(t,null)}function H2(t,e){t.G=Date.now(),jd(t),t.A=Xi(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),Z2(n.i,"t",r),t.C=0,n=t.l.J,t.h=new $2,t.g=TU(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Boe(fn(t.Pa,t,t.g),t.O)),x2(t.U,t.g,"readystatechange",t.nb),e=t.I?I2(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Vd(),function joe(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function z2(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function q2(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Goe(t,n),i==mm){4==e&&(t.o=4,Rn(14),r=!1),Fu(t.j,t.m,null,"[Incomplete Response]");break}if(i==Db){t.o=4,Rn(15),Fu(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Fu(t.j,t.m,i,null),Sb(t,i)}z2(t)&&i!=mm&&i!=Db&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Rn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),kb(e),e.M=!0,Rn(11))):(Fu(t.j,t.m,n,"[Invalid Chunked Response]"),$o(t),$d(t))}function Goe(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?mm:(n=Number(e.substring(n,r)),isNaN(n)?Db:(r+=1)+n>e.length?mm:(e=e.slice(r,r+n),t.C=r+n,e))}function jd(t){t.Y=Date.now()+t.P,G2(t,t.P)}function G2(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Ld(fn(t.lb,t),e)}function _m(t){t.B&&(ae.clearTimeout(t.B),t.B=null)}function $d(t){0==t.l.H||t.J||vU(t.l,t)}function $o(t){_m(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,Eb(t.V),O2(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Sb(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||Rb(n.i,t)))if(!t.K&&Rb(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;Dm(n),Cm(n)}Ob(n),Rn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Ld(fn(n.ib,n),6e3));if(1>=nU(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else zo(n,11)}else if((t.K||n.g==t)&&Dm(n),!Md(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Pb(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Xe(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=wU(r,r.J?r.pa:null,r.Y),o.K){rU(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(_m(a),jd(a)),r.g=o}else _U(r);0<n.j.length&&bm(n)}else"stop"!=c[0]&&"close"!=c[0]||zo(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?zo(n,7):xb(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Vd()}catch{}}function W2(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(sm(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Koe(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(sm(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Woe(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(sm(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(U=Bd.prototype).setTimeout=function(t){this.P=t},U.nb=function(t){t=t.target;const e=this.M;e&&3==di(t)?e.l():this.Pa(t)},U.Pa=function(t){try{if(t==this.g)e:{const l=di(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||rb||this.g&&(this.h.h||this.g.ja()||dU(this.g)))){this.J||4!=l||7==e||Vd(),_m(this);var n=this.g.da();this.ca=n;t:if(z2(this)){var r=dU(this.g);t="";var i=r.length,s=4==di(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){$o(this),$d(this);var o="";break t}this.h.i=new ae.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function $oe(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Md(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Rn(12),$o(this),$d(this);break e}Fu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sb(this,n)}this.S?(q2(this,l,o),rb&&this.i&&3==l&&(x2(this.U,this.V,"tick",this.mb),this.V.start())):(Fu(this.j,this.m,o,null),Sb(this,o)),4==l&&$o(this),this.i&&!this.J&&(4==l?vU(this.l,this):(this.i=!1,jd(this)))}else(function hae(t){const e={};t=(t.g&&2<=di(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Md(t[r]))continue;var n=Voe(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function Poe(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Rn(12)):(this.o=0,Rn(13)),$o(this),$d(this)}}}catch{}},U.mb=function(){if(this.g){var t=di(this.g),e=this.g.ja();this.C<e.length&&(_m(this),q2(this,t,e),this.i&&4!=t&&jd(this))}},U.cancel=function(){this.J=!0,$o(this)},U.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function Hoe(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Vd(),Rn(17)),$o(this),this.o=2,$d(this)):G2(this,this.Y-t)};var K2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ho(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ho){this.h=t.h,ym(this,t.j),this.s=t.s,this.g=t.g,vm(this,t.m),this.l=t.l;var e=t.i,n=new qd;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Q2(this,n),this.o=t.o}else t&&(e=String(t).match(K2))?(this.h=!1,ym(this,e[1]||"",!0),this.s=Hd(e[2]||""),this.g=Hd(e[3]||"",!0),vm(this,e[4]),this.l=Hd(e[5]||"",!0),Q2(this,e[6]||"",!0),this.o=Hd(e[7]||"")):(this.h=!1,this.i=new qd(null,this.h))}function Xi(t){return new Ho(t)}function ym(t,e,n){t.j=n?Hd(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function vm(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Q2(t,e,n){e instanceof qd?(t.i=e,function tae(t,e){e&&!t.j&&(Fs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(X2(this,r),Z2(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=zd(e,Zoe)),t.i=new qd(e,t.h))}function Xe(t,e,n){t.i.set(e,n)}function Em(t){return Xe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Hd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function zd(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Yoe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Yoe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ho.prototype.toString=function(){var t=[],e=this.j;e&&t.push(zd(e,Y2,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(zd(e,Y2,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(zd(n,"/"==n.charAt(0)?Joe:Xoe,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",zd(n,eae)),t.join("")};var Y2=/[#\/\?@]/g,Xoe=/[#\?:]/g,Joe=/[#\?]/g,Zoe=/[#\?@]/g,eae=/#/g;function qd(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Fs(t){t.g||(t.g=new Map,t.h=0,t.i&&function Qoe(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function X2(t,e){Fs(t),e=Vu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function J2(t,e){return Fs(t),e=Vu(t,e),t.g.has(e)}function Z2(t,e,n){X2(t,e),0<n.length&&(t.i=null,t.g.set(Vu(t,e),tb(n)),t.h+=n.length)}function Vu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function eU(t){this.l=t||rae,t=ae.PerformanceNavigationTiming?0<(t=ae.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ae.g&&ae.g.Ka&&ae.g.Ka()&&ae.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(U=qd.prototype).add=function(t,e){Fs(this),this.i=null,t=Vu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},U.forEach=function(t,e){Fs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},U.ta=function(){Fs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},U.Z=function(t){Fs(this);let e=[];if("string"==typeof t)J2(this,t)&&(e=e.concat(this.g.get(Vu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},U.set=function(t,e){return Fs(this),this.i=null,J2(this,t=Vu(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},U.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},U.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var rae=10;function tU(t){return!!t.h||!!t.g&&t.g.size>=t.j}function nU(t){return t.h?1:t.g?t.g.size:0}function Rb(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Pb(t,e){t.g?t.g.add(e):t.h=e}function rU(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function iU(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return tb(t.i)}eU.prototype.cancel=function(){if(this.i=iU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var iae=class{stringify(t){return ae.JSON.stringify(t,void 0)}parse(t){return ae.JSON.parse(t,void 0)}};function sae(){this.g=new iae}function oae(t,e,n){const r=n||"";try{W2(t,function(i,s){let o=i;Pd(i)&&(o=yb(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Im(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Gd(t){this.l=t.ec||null,this.j=t.ob||!1}function wm(t,e){Ht.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Mb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}$t(Gd,wb),Gd.prototype.g=function(){return new wm(this.l,this.j)},Gd.prototype.i=function(t){return function(){return t}}({}),$t(wm,Ht);var Mb=0;function sU(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Wd(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Kd(t)}function Kd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(U=wm.prototype).open=function(t,e){if(this.readyState!=Mb)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Kd(this)},U.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ae).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},U.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wd(this)),this.readyState=Mb},U.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Kd(this)),this.g&&(this.readyState=3,Kd(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ae.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;sU(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},U.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Wd(this):Kd(this),3==this.readyState&&sU(this)}},U.Za=function(t){this.g&&(this.response=this.responseText=t,Wd(this))},U.Ya=function(t){this.g&&(this.response=t,Wd(this))},U.ka=function(){this.g&&Wd(this)},U.setRequestHeader=function(t,e){this.v.append(t,e)},U.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},U.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(wm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var uae=ae.JSON.parse;function ft(t){Ht.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=oU,this.L=this.M=!1}$t(ft,Ht);var oU="",cae=/^https?$/i,lae=["POST","PUT"];function aU(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,uU(t),Tm(t)}function uU(t){t.F||(t.F=!0,nn(t,"complete"),nn(t,"error"))}function cU(t){if(t.h&&typeof ZC<"u"&&(!t.C[1]||4!=di(t)||2!=t.da()))if(t.v&&4==di(t))Ib(t.La,0,t);else if(nn(t,"readystatechange"),4==di(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(K2)[1]||null;!i&&ae.self&&ae.self.location&&(i=ae.self.location.protocol.slice(0,-1)),r=!cae.test(i?i.toLowerCase():"")}n=r}if(n)nn(t,"complete"),nn(t,"success");else{t.m=6;try{var s=2<di(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",uU(t)}}finally{Tm(t)}}}function Tm(t,e){if(t.g){lU(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||nn(t,"ready");try{n.onreadystatechange=r}catch{}}}function lU(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ae.clearTimeout(t.A),t.A=null)}function di(t){return t.g?t.g.readyState:0}function dU(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case oU:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function hU(t){let e="";return cb(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function Nb(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=hU(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Xe(t,e,n))}function Qd(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function fU(t){this.Ga=0,this.j=[],this.l=new hm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Qd("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Qd("baseRetryDelayMs",5e3,t),this.hb=Qd("retryDelaySeedMs",1e4,t),this.eb=Qd("forwardChannelMaxRetries",2,t),this.xa=Qd("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new eU(t&&t.concurrentRequestLimit),this.Ja=new sae,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function xb(t){if(pU(t),3==t.H){var e=t.W++,n=Xi(t.I);if(Xe(n,"SID",t.K),Xe(n,"RID",e),Xe(n,"TYPE","terminate"),Yd(t,n),(e=new Bd(t,t.l,e)).L=2,e.v=Em(Xi(n)),n=!1,ae.navigator&&ae.navigator.sendBeacon)try{n=ae.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ae.Image&&((new Image).src=e.v,n=!0),n||(e.g=TU(e.l,null),e.g.ha(e.v)),e.G=Date.now(),jd(e)}IU(t)}function Cm(t){t.g&&(kb(t),t.g.cancel(),t.g=null)}function pU(t){Cm(t),t.u&&(ae.clearTimeout(t.u),t.u=null),Dm(t),t.i.cancel(),t.m&&("number"==typeof t.m&&ae.clearTimeout(t.m),t.m=null)}function bm(t){if(!tU(t.i)&&!t.m){t.m=!0;var e=t.Na;Od||P2(),kd||(Od(),kd=!0),vb.add(e,t),t.C=0}}function gU(t,e){var n;n=e?e.m:t.W++;const r=Xi(t.I);Xe(r,"SID",t.K),Xe(r,"RID",n),Xe(r,"AID",t.V),Yd(t,r),t.o&&t.s&&Nb(r,t.o,t.s),n=new Bd(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=mU(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Pb(t.i,n),Ab(n,r,e)}function Yd(t,e){t.na&&cb(t.na,function(n,r){Xe(e,r,n)}),t.h&&W2({},function(n,r){Xe(e,r,n)})}function mU(t,e,n){n=Math.min(t.j.length,n);var r=t.h?fn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{oae(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function _U(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Od||P2(),kd||(Od(),kd=!0),vb.add(e,t),t.A=0}}function Ob(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Ld(fn(t.Ma,t),EU(t,t.A)),t.A++,0))}function kb(t){null!=t.B&&(ae.clearTimeout(t.B),t.B=null)}function yU(t){t.g=new Bd(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Xi(t.wa);Xe(e,"RID","rpc"),Xe(e,"SID",t.K),Xe(e,"AID",t.V),Xe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Xe(e,"TO",t.qa),Xe(e,"TYPE","xmlhttp"),Yd(t,e),t.o&&t.s&&Nb(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Em(Xi(e)),n.s=null,n.S=!0,H2(n,t)}function Dm(t){null!=t.v&&(ae.clearTimeout(t.v),t.v=null)}function vU(t,e){var n=null;if(t.g==e){Dm(t),kb(t),t.g=null;var r=2}else{if(!Rb(t.i,e))return;n=e.F,rU(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;nn(r=fm(),new L2(r,n)),bm(t)}else _U(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function fae(t,e){return!(nU(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Ld(fn(t.Na,t,e),EU(t,t.C)),t.C++,0)))}(t,e)||2==r&&Ob(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:zo(t,5);break;case 4:zo(t,10);break;case 3:zo(t,6);break;default:zo(t,2)}}function EU(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function zo(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=fn(t.pb,t);n||(n=new Ho("//www.google.com/images/cleardot.gif"),ae.location&&"http"==ae.location.protocol||ym(n,"https"),Em(n)),function aae(t,e){const n=new hm;if(ae.Image){const r=new Image;r.onload=om(Im,n,r,"TestLoadImage: loaded",!0,e),r.onerror=om(Im,n,r,"TestLoadImage: error",!1,e),r.onabort=om(Im,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=om(Im,n,r,"TestLoadImage: timeout",!1,e),ae.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Rn(2);t.H=0,t.h&&t.h.za(e),IU(t),pU(t)}function IU(t){if(t.H=0,t.ma=[],t.h){const e=iU(t.i);(0!=e.length||0!=t.j.length)&&(m2(t.ma,e),m2(t.ma,t.j),t.i.i.length=0,tb(t.j),t.j.length=0),t.h.ya()}}function wU(t,e,n){var r=n instanceof Ho?Xi(n):new Ho(n);if(""!=r.g)e&&(r.g=e+"."+r.g),vm(r,r.m);else{var i=ae.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ho(null);r&&ym(s,r),e&&(s.g=e),i&&vm(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Xe(r,n,e),Xe(r,"VER",t.ra),Yd(t,r),r}function TU(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ft(n&&t.Ha&&!t.va?new Gd({ob:!0}):t.va)).Oa(t.J),e}function CU(){}function Am(){if(ku&&!(10<=Number(Doe)))throw Error("Environmental error: no available transport.")}function ur(t,e){Ht.call(this),this.g=new fU(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Md(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Md(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Lu(this)}function bU(t){Tb.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function DU(){Cb.call(this),this.status=1}function Lu(t){this.g=t}function Ur(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Fb(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Oe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(U=ft.prototype).Oa=function(t){this.M=t},U.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():bb.g(),this.C=function B2(t){return t.h||(t.h=t.i())}(this.u?this.u:bb),this.g.onreadystatechange=fn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void aU(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=ae.FormData&&t instanceof ae.FormData,!(0<=g2(lae,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{lU(this),0<this.B&&((this.L=function dae(t){return ku&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=fn(this.ua,this)):this.A=Ib(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){aU(this,s)}},U.ua=function(){typeof ZC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,nn(this,"timeout"),this.abort(8))},U.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,nn(this,"complete"),nn(this,"abort"),Tm(this))},U.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Tm(this,!0)),ft.$.N.call(this)},U.La=function(){this.s||(this.G||this.v||this.l?cU(this):this.kb())},U.kb=function(){cU(this)},U.isActive=function(){return!!this.g},U.da=function(){try{return 2<di(this)?this.g.status:-1}catch{return-1}},U.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},U.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),uae(e)}},U.Ia=function(){return this.m},U.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(U=fU.prototype).ra=8,U.H=1,U.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Bd(this,this.l,t);let s=this.s;if(this.U&&(s?(s=I2(s),T2(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=mU(this,i,e),Xe(n=Xi(this.I),"RID",t),Xe(n,"CVER",22),this.F&&Xe(n,"X-HTTP-Session-Id",this.F),Yd(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(hU(s)))+"&"+e:this.o&&Nb(n,this.o,s)),Pb(this.i,i),this.bb&&Xe(n,"TYPE","init"),this.P?(Xe(n,"$req",e),Xe(n,"SID","null"),i.aa=!0,Ab(i,n,null)):Ab(i,n,e),this.H=2}}else 3==this.H&&(t?gU(this,t):0==this.j.length||tU(this.i)||gU(this))},U.Ma=function(){if(this.u=null,yU(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ld(fn(this.jb,this),t)}},U.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Rn(10),Cm(this),yU(this))},U.ib=function(){null!=this.v&&(this.v=null,Cm(this),Ob(this),Rn(19))},U.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Rn(2)):(this.l.info("Failed to ping google.com"),Rn(1))},U.isActive=function(){return!!this.h&&this.h.isActive(this)},(U=CU.prototype).Ba=function(){},U.Aa=function(){},U.za=function(){},U.ya=function(){},U.isActive=function(){return!0},U.Va=function(){},Am.prototype.g=function(t,e){return new ur(t,e)},$t(ur,Ht),ur.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Rn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=wU(t,null,t.Y),bm(t)},ur.prototype.close=function(){xb(this.g)},ur.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=yb(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&bm(e)},ur.prototype.N=function(){this.g.h=null,delete this.j,xb(this.g),delete this.g,ur.$.N.call(this)},$t(bU,Tb),$t(DU,Cb),$t(Lu,CU),Lu.prototype.Ba=function(){nn(this.g,"a")},Lu.prototype.Aa=function(t){nn(this.g,new bU(t))},Lu.prototype.za=function(t){nn(this.g,new DU)},Lu.prototype.ya=function(){nn(this.g,"b")},$t(Ur,function pae(){this.blockSize=-1}),Ur.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ur.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)Fb(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Fb(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Fb(this,r),i=0;break}}this.h=i,this.i+=e},Ur.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var gae={};function Vb(t){return-128<=t&&128>t?function Toe(t,e){var n=gae;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Oe([0|e],0>e?-1:0)}):new Oe([0|t],0>t?-1:0)}function hi(t){if(isNaN(t)||!isFinite(t))return Uu;if(0>t)return rn(hi(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Lb;return new Oe(e,0)}var Lb=4294967296,Uu=Vb(0),Ub=Vb(1),SU=Vb(16777216);function Ji(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function br(t){return-1==t.h}function rn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Oe(n,~t.h).add(Ub)}function Sm(t,e){return t.add(rn(e))}function Rm(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Xd(t,e){this.g=t,this.h=e}function Pm(t,e){if(Ji(e))throw Error("division by zero");if(Ji(t))return new Xd(Uu,Uu);if(br(t))return e=Pm(rn(t),e),new Xd(rn(e.g),rn(e.h));if(br(e))return e=Pm(t,rn(e)),new Xd(rn(e.g),e.h);if(30<t.g.length){if(br(t)||br(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ub,r=e;0>=r.X(t);)n=RU(n),r=RU(r);var i=Bu(n,1),s=Bu(r,1);for(r=Bu(r,2),n=Bu(n,2);!Ji(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Bu(r,1),n=Bu(n,1)}return e=Sm(t,i.R(e)),new Xd(i,e)}for(i=Uu;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=hi(n)).R(e);br(o)||0<o.X(t);)o=(s=hi(n-=r)).R(e);Ji(s)&&(s=Ub),i=i.add(s),t=Sm(t,o)}return new Xd(i,t)}function RU(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Oe(n,t.h)}function Bu(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Oe(i,t.h)}(U=Oe.prototype).ea=function(){if(br(this))return-rn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Lb+r)*e,e*=Lb}return t},U.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Ji(this))return"0";if(br(this))return"-"+rn(this).toString(t);for(var e=hi(Math.pow(t,6)),n=this,r="";;){var i=Pm(n,e).g,s=((0<(n=Sm(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Ji(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},U.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},U.X=function(t){return br(t=Sm(this,t))?-1:Ji(t)?0:1},U.abs=function(){return br(this)?rn(this):this},U.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new Oe(n,-2147483648&n[n.length-1]?-1:0)},U.R=function(t){if(Ji(this)||Ji(t))return Uu;if(br(this))return br(t)?rn(this).R(rn(t)):rn(rn(this).R(t));if(br(t))return rn(this.R(rn(t)));if(0>this.X(SU)&&0>t.X(SU))return hi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,Rm(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Rm(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Rm(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Rm(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Oe(n,0)},U.gb=function(t){return Pm(this,t).h},U.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Oe(n,this.h&t.h)},U.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Oe(n,this.h|t.h)},U.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Oe(n,this.h^t.h)},Am.prototype.createWebChannel=Am.prototype.g,ur.prototype.send=ur.prototype.u,ur.prototype.open=ur.prototype.m,ur.prototype.close=ur.prototype.close,pm.NO_ERROR=0,pm.TIMEOUT=8,pm.HTTP_ERROR=6,U2.COMPLETE="complete",j2.EventType=Ud,Ud.OPEN="a",Ud.CLOSE="b",Ud.ERROR="c",Ud.MESSAGE="d",Ht.prototype.listen=Ht.prototype.O,ft.prototype.listenOnce=ft.prototype.P,ft.prototype.getLastError=ft.prototype.Sa,ft.prototype.getLastErrorCode=ft.prototype.Ia,ft.prototype.getStatus=ft.prototype.da,ft.prototype.getResponseJson=ft.prototype.Wa,ft.prototype.getResponseText=ft.prototype.ja,ft.prototype.send=ft.prototype.ha,ft.prototype.setWithCredentials=ft.prototype.Oa,Ur.prototype.digest=Ur.prototype.l,Ur.prototype.reset=Ur.prototype.reset,Ur.prototype.update=Ur.prototype.j,Oe.prototype.add=Oe.prototype.add,Oe.prototype.multiply=Oe.prototype.R,Oe.prototype.modulo=Oe.prototype.gb,Oe.prototype.compare=Oe.prototype.X,Oe.prototype.toNumber=Oe.prototype.ea,Oe.prototype.toString=Oe.prototype.toString,Oe.prototype.getBits=Oe.prototype.D,Oe.fromNumber=hi,Oe.fromString=function AU(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return rn(AU(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=hi(Math.pow(e,8)),r=Uu,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=hi(Math.pow(e,s)),r=r.R(s).add(hi(o))):r=(r=r.R(n)).add(hi(o))}return r};var mae=Lr.createWebChannelTransport=function(){return new Am},_ae=Lr.getStatEventTarget=function(){return fm()},Bb=Lr.ErrorCode=pm,yae=Lr.EventType=U2,vae=Lr.Event=jo,PU=Lr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Eae=Lr.FetchXmlHttpFactory=Gd,Mm=Lr.WebChannel=j2,Iae=Lr.XhrIo=ft,wae=Lr.Md5=Ur,ju=Lr.Integer=Oe;const MU="@firebase/firestore";class zt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");let $u="10.5.2";const Vs=new Aw("@firebase/firestore");function Hu(){return Vs.logLevel}function R(t,...e){if(Vs.logLevel<=ve.DEBUG){const n=e.map(jb);Vs.debug(`Firestore (${$u}): ${t}`,...n)}}function vt(t,...e){if(Vs.logLevel<=ve.ERROR){const n=e.map(jb);Vs.error(`Firestore (${$u}): ${t}`,...n)}}function cr(t,...e){if(Vs.logLevel<=ve.WARN){const n=e.map(jb);Vs.warn(`Firestore (${$u}): ${t}`,...n)}}function jb(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function z(t="Unexpected state"){const e=`FIRESTORE (${$u}) INTERNAL ASSERTION FAILED: `+t;throw vt(e),new Error(e)}function G(t,e){t||z()}function k(t,e){return t}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class P extends ui{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ft{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class NU{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Tae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zt.UNAUTHENTICATED))}shutdown(){}}class Cae{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class bae{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new Ft;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ft,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(y(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{R("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(R("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ft)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(R("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(G("string"==typeof r.accessToken),new NU(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return G(null===e||"string"==typeof e),new zt(e)}}class Dae{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Aae{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Dae(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Sae{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{null!=s.error&&R("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,R("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{R("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):R("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(G("string"==typeof n.token),this.R=n.token,new xU(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Rae(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class OU{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Rae(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function ie(t,e){return t<e?-1:t>e?1:0}function zu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class it{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new P(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new P(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new P(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new P(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new it(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class W{constructor(e){this.timestamp=e}static fromTimestamp(e){return new W(e)}static min(){return new W(new it(0,0))}static max(){return new W(new it(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Jd{constructor(e,n,r){void 0===n?n=0:n>e.length&&z(),void 0===r?r=e.length-n:r>e.length-n&&z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Jd.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Jd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Te extends Jd{construct(e,n,r){return new Te(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new P(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Te(n)}static emptyPath(){return new Te([])}}const Pae=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class et extends Jd{construct(e,n,r){return new et(e,n,r)}static isValidIdentifier(e){return Pae.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),et.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new et(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new P(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new P(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new P(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new P(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new et(n)}static emptyPath(){return new et([])}}class V{constructor(e){this.path=e}static fromPath(e){return new V(Te.fromString(e))}static fromName(e){return new V(Te.fromString(e).popFirst(5))}static empty(){return new V(Te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Te.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Te.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new V(new Te(e.slice()))}}function VU(t){return new lr(t.readTime,t.key,-1)}class lr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new lr(W.min(),V.empty(),-1)}static max(){return new lr(W.max(),V.empty(),-1)}}function Hb(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=V.comparator(t.documentKey,e.documentKey),0!==n?n:ie(t.largestBatchId,e.largestBatchId))}const LU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xae{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ls(t){return zb.apply(this,arguments)}function zb(){return zb=y(function*(t){if(t.code!==w.FAILED_PRECONDITION||t.message!==LU)throw t;R("LocalStore","Unexpectedly lost primary lease")}),zb.apply(this,arguments)}class E{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new E((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof E?n:E.resolve(n)}catch(n){return E.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):E.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):E.reject(n)}static resolve(e){return new E((n,r)=>{n(e)})}static reject(e){return new E((n,r)=>{r(e)})}static waitFor(e){return new E((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=E.resolve(!1);for(const r of e)n=n.next(i=>i?E.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new E((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new E((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function Us(t){return"IndexedDbTransactionError"===t.name}let dr=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function eh(t){return null==t}function th(t){return 0===t&&1/t==-1/0}function WU(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function KU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Ge{constructor(e,n){this.comparator=e,this.root=n||sn.EMPTY}insert(e,n){return new Ge(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new Ge(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Om(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Om(this.root,e,this.comparator,!1)}getReverseIterator(){return new Om(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Om(this.root,e,this.comparator,!0)}}class Om{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??sn.RED,this.left=i??sn.EMPTY,this.right=s??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new sn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return sn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw z();const e=this.left.check();if(e!==this.right.check())throw z();return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1,sn.EMPTY=new class{constructor(){this.size=0}get key(){throw z()}get value(){throw z()}get color(){throw z()}get left(){throw z()}get right(){throw z()}copy(e,n,r,i,s){return this}insert(e,n,r){return new sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(e){this.comparator=e,this.data=new Ge(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new QU(this.data.getIterator())}getIteratorFrom(e){return new QU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ve)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ve(this.comparator);return n.data=e,n}}class QU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Gn{constructor(e){this.fields=e,e.sort(et.comparator)}static empty(){return new Gn([])}unionWith(e){let n=new Ve(et.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class YU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new YU("Invalid base64 string: "+s):s}}(e);return new Vt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Vt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const nue=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function js(t){if(G(!!t),"string"==typeof t){let e=0;const n=nue.exec(t);if(G(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pt(t.seconds),nanos:pt(t.nanos)}}function pt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Zi(t){return"string"==typeof t?Vt.fromBase64String(t):Vt.fromUint8Array(t)}function km(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Fm(t){const e=t.mapValue.fields.__previous_value__;return km(e)?Fm(e):e}function nh(t){const e=js(t.mapValue.fields.__local_write_time__.timestampValue);return new it(e.seconds,e.nanos)}class rue{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Ko{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ko("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ko&&e.projectId===this.projectId&&e.database===this.database}}const $s={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Hs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?km(t)?4:eB(t)?9007199254740991:10:z()}function pi(t,e){if(t===e)return!0;const n=Hs(t);if(n!==Hs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nh(t).isEqual(nh(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=js(i.timestampValue),a=js(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return s=e,Zi(t.bytesValue).isEqual(Zi(s.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return pt(i.geoPointValue.latitude)===pt(s.geoPointValue.latitude)&&pt(i.geoPointValue.longitude)===pt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return pt(i.integerValue)===pt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=pt(i.doubleValue),a=pt(s.doubleValue);return o===a?th(o)===th(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return zu(t.arrayValue.values||[],e.arrayValue.values||[],pi);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(WU(o)!==WU(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(void 0===a[u]||!pi(o[u],a[u])))return!1;return!0}(t,e);default:return z()}var s}function rh(t,e){return void 0!==(t.values||[]).find(n=>pi(n,e))}function zs(t,e){if(t===e)return 0;const n=Hs(t),r=Hs(e);if(n!==r)return ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ie(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=pt(s.integerValue||s.doubleValue),u=pt(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return XU(t.timestampValue,e.timestampValue);case 4:return XU(nh(t),nh(e));case 5:return ie(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Zi(s),u=Zi(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const l=ie(a[c],u[c]);if(0!==l)return l}return ie(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ie(pt(s.latitude),pt(o.latitude));return 0!==a?a:ie(pt(s.longitude),pt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let c=0;c<a.length&&c<u.length;++c){const l=zs(a[c],u[c]);if(l)return l}return ie(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===$s.mapValue&&o===$s.mapValue)return 0;if(s===$s.mapValue)return 1;if(o===$s.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},l=Object.keys(c);u.sort(),l.sort();for(let d=0;d<u.length&&d<l.length;++d){const h=ie(u[d],l[d]);if(0!==h)return h;const f=zs(a[u[d]],c[l[d]]);if(0!==f)return f}return ie(u.length,l.length)}(t.mapValue,e.mapValue);default:throw z()}}function XU(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ie(t,e);const n=js(t),r=js(e),i=ie(n.seconds,r.seconds);return 0!==i?i:ie(n.nanos,r.nanos)}function Ku(t){return Wb(t)}function Wb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=js(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Zi(t.bytesValue).toBase64():"referenceValue"in t?V.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Wb(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Wb(n.fields[o])}`;return i+"}"}(t.mapValue):z()}function Kb(t){return!!t&&"integerValue"in t}function ih(t){return!!t&&"arrayValue"in t}function JU(t){return!!t&&"nullValue"in t}function ZU(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Um(t){return!!t&&"mapValue"in t}function sh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Bs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=sh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=sh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function eB(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Um(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=sh(n)}setAll(e){let n=et.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=sh(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Um(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Um(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Bs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new on(sh(this.value))}}function rB(t){const e=[];return Bs(t.fields,(n,r)=>{const i=new et([n]);if(Um(r)){const s=rB(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Gn(e)}class Je{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Je(e,0,W.min(),W.min(),W.min(),on.empty(),0)}static newFoundDocument(e,n,r,i){return new Je(e,1,n,W.min(),r,i,0)}static newNoDocument(e,n){return new Je(e,2,n,W.min(),W.min(),on.empty(),0)}static newUnknownDocument(e,n){return new Je(e,3,n,W.min(),W.min(),on.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(W.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=W.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Je&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qs{constructor(e,n){this.position=e,this.inclusive=n}}function iB(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?V.comparator(V.fromName(o.referenceValue),n.key):zs(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function sB(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pi(t.position[n],e.position[n]))return!1;return!0}class oh{constructor(e,n="asc"){this.field=e,this.dir=n}}function oue(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class oB{}class me extends oB{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new aue(e,n,r):"array-contains"===n?new lue(e,r):"in"===n?new hB(e,r):"not-in"===n?new due(e,r):"array-contains-any"===n?new hue(e,r):new me(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new uue(e,r):new cue(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(zs(n,this.value)):null!==n&&Hs(this.value)===Hs(n)&&this.matchesComparison(zs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ke extends oB{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new ke(e,n)}matches(e){return Qu(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Qu(t){return"and"===t.op}function Yb(t){return function aB(t){for(const e of t.filters)if(e instanceof ke)return!1;return!0}(t)&&Qu(t)}function Xb(t){if(t instanceof me)return t.field.canonicalString()+t.op.toString()+Ku(t.value);if(Yb(t))return t.filters.map(e=>Xb(e)).join(",");{const e=t.filters.map(n=>Xb(n)).join(",");return`${t.op}(${e})`}}function uB(t,e){return t instanceof me?(r=t,(i=e)instanceof me&&r.op===i.op&&r.field.isEqual(i.field)&&pi(r.value,i.value)):t instanceof ke?function(r,i){return i instanceof ke&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&uB(o,i.filters[a]),!0)}(t,e):void z();var r,i}function lB(t){return t instanceof me?`${(n=t).field.canonicalString()} ${n.op} ${Ku(n.value)}`:t instanceof ke?function(n){return n.op.toString()+" {"+n.getFilters().map(lB).join(" ,")+"}"}(t):"Filter";var n}class aue extends me{constructor(e,n,r){super(e,n,r),this.key=V.fromName(r.referenceValue)}matches(e){const n=V.comparator(e.key,this.key);return this.matchesComparison(n)}}class uue extends me{constructor(e,n){super(e,"in",n),this.keys=dB(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class cue extends me{constructor(e,n){super(e,"not-in",n),this.keys=dB(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function dB(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>V.fromName(r.referenceValue))}class lue extends me{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ih(n)&&rh(n.arrayValue,this.value)}}class hB extends me{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&rh(this.value.arrayValue,n)}}class due extends me{constructor(e,n){super(e,"not-in",n)}matches(e){if(rh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!rh(this.value.arrayValue,n)}}class hue extends me{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ih(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>rh(this.value.arrayValue,r))}}class fue{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function Jb(t,e=null,n=[],r=[],i=null,s=null,o=null){return new fue(t,e,n,r,i,s,o)}function Yo(t){const e=k(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Xb(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),eh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ku(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ku(r)).join(",")),e.ce=n}return e.ce}function ah(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!oue(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!uB(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!sB(t.startAt,e.startAt)&&sB(t.endAt,e.endAt)}function Bm(t){return V.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class es{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null}}function Yu(t){return new es(t)}function mB(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Xu(t){const e=k(t);if(null===e.le){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ve(et.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new oh(s,r))}),n.has(et.keyField().canonicalString())||e.le.push(new oh(et.keyField(),r))}return e.le}function Pn(t){const e=k(t);return e.he||(e.he=function _B(t,e){if("F"===t.limitType)return Jb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new oh(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new qs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qs(t.startAt.position,t.startAt.inclusive):null;return Jb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,Xu(t))),e.he}function $m(t,e,n){return new es(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function uh(t,e){return ah(Pn(t),Pn(e))&&t.limitType===e.limitType}function yB(t){return`${Yo(Pn(t))}|lt:${t.limitType}`}function Ju(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>lB(i)).join(", ")}]`),eh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ku(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ku(i)).join(",")),`Target(${r})`}(Pn(t))}; limitType=${t.limitType})`}function ch(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):V.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Xu(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(o,a,u){const c=iB(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,Xu(r),i)||r.endAt&&!function(o,a,u){const c=iB(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,Xu(r),i)));var r,i}function EB(t){return(e,n)=>{let r=!1;for(const i of Xu(t)){const s=pue(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function pue(t,e,n){const r=t.field.isKeyField()?V.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return null!==u&&null!==c?zs(u,c):z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return z()}}class ts{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return KU(this.inner)}size(){return this.innerSize}}const gue=new Ge(V.comparator);function Wn(){return gue}const IB=new Ge(V.comparator);function lh(...t){let e=IB;for(const n of t)e=e.insert(n.key,n);return e}function wB(t){let e=IB;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function gi(){return dh()}function TB(){return dh()}function dh(){return new ts(t=>t.toString(),(t,e)=>t.isEqual(e))}const mue=new Ge(V.comparator),_ue=new Ve(V.comparator);function de(...t){let e=_ue;for(const n of t)e=e.add(n);return e}const yue=new Ve(ie);function CB(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:th(e)?"-0":e}}function bB(t){return{integerValue:""+t}}function DB(t,e){return function BU(t){return"number"==typeof t&&Number.isInteger(t)&&!th(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?bB(e):CB(t,e)}class Hm{constructor(){this._=void 0}}function vue(t,e,n){return t instanceof Zu?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&km(s)&&(s=Fm(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Xo?SB(t,e):t instanceof Jo?RB(t,e):function(i,s){const o=AB(i,s),a=PB(o)+PB(i.Ie);return Kb(o)&&Kb(i.Ie)?bB(a):CB(i.serializer,a)}(t,e)}function Eue(t,e,n){return t instanceof Xo?SB(t,e):t instanceof Jo?RB(t,e):n}function AB(t,e){return t instanceof ec?Kb(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class Zu extends Hm{}class Xo extends Hm{constructor(e){super(),this.elements=e}}function SB(t,e){const n=MB(e);for(const r of t.elements)n.some(i=>pi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Jo extends Hm{constructor(e){super(),this.elements=e}}function RB(t,e){let n=MB(e);for(const r of t.elements)n=n.filter(i=>!pi(i,r));return{arrayValue:{values:n}}}class ec extends Hm{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function PB(t){return pt(t.integerValue||t.doubleValue)}function MB(t){return ih(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class wue{constructor(e,n){this.version=e,this.transformResults=n}}class tt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new tt}static exists(e){return new tt(void 0,e)}static updateTime(e){return new tt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zm(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class qm{}function NB(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new nc(t.key,tt.none()):new tc(t.key,t.data,tt.none());{const n=t.data,r=on.empty();let i=new Ve(et.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new ns(t.key,r,new Gn(i.toArray()),tt.none())}}function Tue(t,e,n){t instanceof tc?function(i,s,o){const a=i.value.clone(),u=kB(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ns?function(i,s,o){if(!zm(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=kB(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(OB(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function fh(t,e,n,r){return t instanceof tc?function(s,o,a,u){if(!zm(s.precondition,o))return a;const c=s.value.clone(),l=FB(s.fieldTransforms,u,o);return c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ns?function(s,o,a,u){if(!zm(s.precondition,o))return a;const c=FB(s.fieldTransforms,u,o),l=o.data;return l.setAll(OB(s)),l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):(a=n,zm(t.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function Cue(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=AB(r.transform,i||null);null!=s&&(null===n&&(n=on.empty()),n.set(r.field,s))}return n||null}function xB(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&zu(r,i,(s,o)=>function Iue(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof Xo&&i instanceof Xo||r instanceof Jo&&i instanceof Jo?zu(r.elements,i.elements,pi):r instanceof ec&&i instanceof ec?pi(r.Ie,i.Ie):r instanceof Zu&&i instanceof Zu);var r,i}(s,o))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class tc extends qm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ns extends qm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function OB(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function kB(t,e,n){const r=new Map;G(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Eue(o,a,n[i]))}return r}function FB(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,vue(s,o,e))}return r}class nc extends qm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nD extends qm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class rD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Tue(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=fh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=fh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=TB();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=NB(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(W.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),de())}isEqual(e){return this.batchId===e.batchId&&zu(this.mutations,e.mutations,(n,r)=>xB(n,r))&&zu(this.baseMutations,e.baseMutations,(n,r)=>xB(n,r))}}class iD{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){G(e.mutations.length===r.length);let i=mue;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new iD(e,n,r,i)}}class sD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Due{constructor(e,n){this.count=e,this.unchangedNames=n}}var Rt,Ce;function LB(t){if(void 0===t)return vt("GRPC error has no .code"),w.UNKNOWN;switch(t){case Rt.OK:return w.OK;case Rt.CANCELLED:return w.CANCELLED;case Rt.UNKNOWN:return w.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return w.INTERNAL;case Rt.UNAVAILABLE:return w.UNAVAILABLE;case Rt.UNAUTHENTICATED:return w.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case Rt.NOT_FOUND:return w.NOT_FOUND;case Rt.ALREADY_EXISTS:return w.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return w.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case Rt.ABORTED:return w.ABORTED;case Rt.OUT_OF_RANGE:return w.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return w.UNIMPLEMENTED;case Rt.DATA_LOSS:return w.DATA_LOSS;default:return z()}}(Ce=Rt||(Rt={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";const Aue=new ju([4294967295,4294967295],0);function BB(t){const e=function UB(){return new TextEncoder}().encode(t),n=new wae;return n.update(e),new Uint8Array(n.digest())}function jB(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ju([n,r],0),new ju([i,s],0)]}class oD{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ph(`Invalid padding: ${n}`);if(r<0)throw new ph(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new ph(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new ph(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=ju.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(ju.fromNumber(r)));return 1===i.compare(Aue)&&(i=new ju([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=BB(e),[r,i]=jB(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new oD(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Te)return;const n=BB(e),[r,i]=jB(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class ph extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class gh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,mh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new gh(W.min(),i,new Ge(ie),Wn(),de())}}class mh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new mh(r,n,de(),de(),de())}}class Wm{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class $B{constructor(e,n){this.targetId=e,this.fe=n}}class HB{constructor(e,n,r=Vt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class zB{constructor(){this.ge=0,this.pe=GB(),this.ye=Vt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=de(),n=de(),r=de();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:z()}}),new mh(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=GB()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class Sue{constructor(e){this.Le=e,this.ke=new Map,this.qe=Wn(),this.Qe=qB(),this.Ke=new Ge(ie)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(Bm(s))if(0===r){const o=new V(s.path);this.We(n,o,Je.newNoDocument(o,W.min()))}else G(1===r);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),u=a?this.et(a,e,o):1;0!==u&&(this.He(n),this.Ke=this.Ke.insert(n,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Zi(r).toUint8Array()}catch(u){if(u instanceof YU)return cr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new oD(o,i,s)}catch(u){return cr(u instanceof ph?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===a.Te?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Bm(a.target)){const u=new V(a.target.path);null!==this.qe.get(u)||this.st(o,u)||this.We(o,u,Je.newNoDocument(u,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=de();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Ye(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new gh(e,n,this.Ke,this.qe,r);return this.qe=Wn(),this.Qe=qB(),this.Ke=new Ge(ie),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new zB,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Ve(ie),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||R("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new zB),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function qB(){return new Ge(V.comparator)}function GB(){return new Ge(V.comparator)}const Rue={asc:"ASCENDING",desc:"DESCENDING"},Pue={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mue={and:"AND",or:"OR"};class Nue{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function aD(t,e){return t.useProto3Json||eh(e)?e:{value:e}}function rc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WB(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function xue(t,e){return rc(t,e.toTimestamp())}function Et(t){return G(!!t),W.fromTimestamp(function(n){const r=js(n);return new it(r.seconds,r.nanos)}(t))}function uD(t,e){return(r=t,new Te(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function KB(t){const e=Te.fromString(t);return G(rj(e)),e}function _h(t,e){return uD(t.databaseId,e.path)}function mi(t,e){const n=KB(e);if(n.get(1)!==t.databaseId.projectId)throw new P(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new P(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new V(YB(n))}function cD(t,e){return uD(t.databaseId,e)}function yh(t){return new Te(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function YB(t){return G(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function XB(t,e,n){return{name:_h(t,e),fields:n.value.mapValue.fields}}function ZB(t,e){return{documents:[cD(t,e.path)]}}function dD(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=cD(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=cD(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return nj(ke.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:Gs((d=c).field),direction:Lue(d.dir)};var d})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=aD(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),n;var u}function ej(t){let e=function QB(t){const e=KB(t);return 4===e.length?Te.emptyPath():YB(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){G(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(d){const h=tj(d);return h instanceof ke&&Yb(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(h=>{return new oh(ic((p=h).field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;n.limit&&(a=function(d){let h;return h="object"==typeof d?d.value:d,eh(h)?null:h}(n.limit));let u=null;var d;n.startAt&&(u=new qs((d=n.startAt).values||[],!!d.before));let c=null;return n.endAt&&(c=function(d){return new qs(d.values||[],!d.before)}(n.endAt)),function gB(t,e,n,r,i,s,o,a){return new es(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function tj(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ic(n.unaryFilter.field);return me.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ic(n.unaryFilter.field);return me.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ic(n.unaryFilter.field);return me.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ic(n.unaryFilter.field);return me.create(o,"!=",{nullValue:"NULL_VALUE"});default:return z()}}(t):void 0!==t.fieldFilter?me.create(ic((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return z()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return ke.create(n.compositeFilter.filters.map(r=>tj(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return z()}}(n.compositeFilter.op))}(t):z();var n}function Lue(t){return Rue[t]}function Uue(t){return Pue[t]}function Bue(t){return Mue[t]}function Gs(t){return{fieldPath:t.canonicalString()}}function ic(t){return et.fromServerFormat(t.fieldPath)}function nj(t){return t instanceof me?function(n){if("=="===n.op){if(ZU(n.value))return{unaryFilter:{field:Gs(n.field),op:"IS_NAN"}};if(JU(n.value))return{unaryFilter:{field:Gs(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(ZU(n.value))return{unaryFilter:{field:Gs(n.field),op:"IS_NOT_NAN"}};if(JU(n.value))return{unaryFilter:{field:Gs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gs(n.field),op:Uue(n.op),value:n.value}}}(t):t instanceof ke?function(n){const r=n.getFilters().map(i=>nj(i));return 1===r.length?r[0]:{compositeFilter:{op:Bue(n.op),filters:r}}}(t):z()}function jue(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function rj(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class rs{constructor(e,n,r,i,s=W.min(),o=W.min(),a=Vt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ij{constructor(e){this.ut=e}}function hD(t){const e=ej({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?$m(e,e.limit,"L"):e}class na{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(pt(e.integerValue));else if("doubleValue"in e){const r=pt(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),th(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),"string"==typeof r?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(Zi(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?eB(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):z()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),V.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}na.St=new na;class Que{constructor(){this.on=new yD}addToCollectionParentIndex(e,n){return this.on.add(n),E.resolve()}getCollectionParents(e,n){return E.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return E.resolve()}deleteFieldIndex(e,n){return E.resolve()}deleteAllFieldIndexes(e){return E.resolve()}createTargetIndexes(e,n){return E.resolve()}getDocumentsMatchingTarget(e,n){return E.resolve(null)}getIndexType(e,n){return E.resolve(0)}getFieldIndexes(e,n){return E.resolve([])}getNextCollectionGroupToUpdate(e){return E.resolve(null)}getMinOffset(e,n){return E.resolve(lr.min())}getMinOffsetFromCollectionGroup(e,n){return E.resolve(lr.min())}updateCollectionGroup(e,n,r){return E.resolve()}updateIndexEntries(e,n){return E.resolve()}}class yD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ve(Te.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ve(Te.comparator)).toArray()}}new Uint8Array(0);class mn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(41943040,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class ia{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new ia(0)}static Nn(){return new ia(-1)}}class tce{constructor(){this.changes=new ts(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Je.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?E.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ice{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Mj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&fh(r.mutation,i,Gn.empty(),it.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,n,r=de()){const i=gi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=lh();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=gi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,de()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Wn();const o=dh(),a=dh();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof ns)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),fh(l.mutation,c,l.mutation.getFieldMask(),it.now())):o.set(c.key,Gn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new ice(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=dh();let i=new Ge((o,a)=>o-a),s=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||Gn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||de()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=TB();l.forEach(h=>{if(!s.has(h)){const f=NB(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return E.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return V.isDocumentKey((o=n).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function Zb(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var o}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):E.resolve(gi());let a=-1,u=s;return o.next(c=>E.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?E.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,de())).next(l=>({batchId:a,changes:wB(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new V(n)).next(r=>{let i=lh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=lh();return this.indexManager.getCollectionParents(e,s).next(a=>E.forEach(a,u=>{const c=(d=n,h=u.child(s),new es(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,h;return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const l=c.getKey();null===o.get(l)&&(o=o.insert(l,Je.newInvalidDocument(l)))});let a=lh();return o.forEach((u,c)=>{const l=s.get(u);void 0!==l&&fh(l.mutation,c,Gn.empty(),it.now()),ch(n,c)&&(a=a.insert(u,c))}),a})}}class sce{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return E.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(i=n).id,version:i.version,createTime:Et(i.createTime)}),E.resolve();var i}getNamedQuery(e,n){return E.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(i=n).name,query:hD(i.bundledQuery),readTime:Et(i.readTime)}),E.resolve();var i}}class oce{constructor(){this.overlays=new Ge(V.comparator),this.lr=new Map}getOverlay(e,n){return E.resolve(this.overlays.get(n))}getOverlays(e,n){const r=gi();return E.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),E.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),E.resolve()}getOverlaysForCollection(e,n,r){const i=gi(),s=n.length+1,o=new V(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return E.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ge((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=gi(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=gi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return E.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new sD(n,r));let s=this.lr.get(n);void 0===s&&(s=de(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}class vD{constructor(){this.hr=new Ve(Gt.Pr),this.Ir=new Ve(Gt.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new Gt(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Gt(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new V(new Te([])),r=new Gt(n,e),i=new Gt(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new V(new Te([])),r=new Gt(n,e),i=new Gt(n,e+1);let s=de();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Gt(e,0),r=this.hr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Gt{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return V.comparator(e.key,n.key)||ie(e.gr,n.gr)}static Tr(e,n){return ie(e.gr,n.gr)||V.comparator(e.key,n.key)}}class ace{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Ve(Gt.Pr)}checkEmpty(e){return E.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++;const o=new rD(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new Gt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return E.resolve(o)}lookupMutationBatch(e,n){return E.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Sr(n+1),s=i<0?0:i;return E.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return E.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return E.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Gt(n,0),i=new Gt(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),E.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ve(ie);return n.forEach(i=>{const s=new Gt(i,0),o=new Gt(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),E.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;V.isDocumentKey(s)||(s=s.child(""));const o=new Gt(new V(s),0);let a=new Ve(ie);return this.yr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.gr)),!0)},o),E.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){G(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return E.forEach(n.mutations,i=>{const s=new Gt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new Gt(n,0),i=this.yr.firstAfterOrEqual(r);return E.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return E.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class uce{constructor(e){this.Cr=e,this.docs=new Ge(V.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return E.resolve(r?r.document.mutableCopy():Je.newInvalidDocument(n))}getEntries(e,n){let r=Wn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Je.newInvalidDocument(i))}),E.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Wn();const o=n.path,a=new V(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Hb(VU(l),r)<=0||(i.has(l.key)||ch(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return E.resolve(s)}getAllFromCollectionGroup(e,n,r,i){z()}vr(e,n){return E.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new cce(this)}getSize(e){return E.resolve(this.size)}}class cce extends tce{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),E.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class lce{constructor(e){this.persistence=e,this.Fr=new ts(n=>Yo(n),ah),this.lastRemoteSnapshotVersion=W.min(),this.highestTargetId=0,this.Mr=0,this.Or=new vD,this.targetCount=0,this.Nr=ia.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),E.resolve()}getLastRemoteSnapshotVersion(e){return E.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return E.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),E.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),E.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new ia(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,E.resolve()}updateTargetData(e,n){return this.kn(n),E.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,E.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),E.waitFor(s).next(()=>i)}getTargetCount(e){return E.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return E.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),E.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),E.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),E.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return E.resolve(r)}containsKey(e,n){return E.resolve(this.Or.containsKey(n))}}class ED{constructor(e,n){this.Br={},this.overlays={},this.Lr=new dr(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new lce(this),this.indexManager=new Que,this.remoteDocumentCache=new uce(r=>this.referenceDelegate.Qr(r)),this.serializer=new ij(n),this.Kr=new sce(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new oce,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new ace(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){R("MemoryPersistence","Starting transaction:",e);const i=new dce(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return E.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class dce extends xae{constructor(e){super(),this.currentSequenceNumber=e}}class t_{constructor(e){this.persistence=e,this.Gr=new vD,this.zr=null}static jr(e){return new t_(e)}get Hr(){if(this.zr)return this.zr;throw z()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),E.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),E.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),E.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return E.forEach(this.Hr,r=>{const i=V.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,W.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return E.or([()=>E.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class CD{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=de(),i=de();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new CD(e,n.fromCache,r,i)}}class fce{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class xj{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new fce;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Hu()<=ve.DEBUG&&R("QueryEngine","SDK will not create cache indexes for query:",Ju(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),E.resolve()):(Hu()<=ve.DEBUG&&R("QueryEngine","Query:",Ju(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Hu()<=ve.DEBUG&&R("QueryEngine","The SDK decides to create cache indexes for query:",Ju(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pn(n))):E.resolve())}zi(e,n){if(mB(n))return E.resolve(null);let r=Pn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=$m(n,null,"F"),r=Pn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=de(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Yi(n,a);return this.Zi(n,c,o,u.readTime)?this.zi(e,$m(n,null,"F")):this.Xi(e,c,n,u)}))})))}ji(e,n,r,i){return mB(n)||i.isEqual(W.min())?E.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?E.resolve(null):(Hu()<=ve.DEBUG&&R("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ju(n)),this.Xi(e,o,n,function FU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=W.fromTimestamp(1e9===r?new it(n+1,0):new it(n,r));return new lr(i,V.empty(),e)}(i,-1)).next(a=>a))})}Yi(e,n){let r=new Ve(EB(e));return n.forEach((i,s)=>{ch(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return Hu()<=ve.DEBUG&&R("QueryEngine","Using full collection scan to execute query:",Ju(n)),this.Gi.getDocumentsMatchingQuery(e,n,lr.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class pce{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Ge(ie),this.ns=new ts(s=>Yo(s),ah),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Mj(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function kj(t,e){return bD.apply(this,arguments)}function bD(){return bD=y(function*(t,e){const n=k(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=de();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({_s:c,removedBatchIds:o,addedBatchIds:a}))})})}),bD.apply(this,arguments)}function Fj(t){const e=k(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function _ce(t,e){const n=k(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function lc(t,e,n){return DD.apply(this,arguments)}function DD(){return DD=y(function*(t,e,n){const r=k(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Us(o))throw o;R("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),DD.apply(this,arguments)}function i_(t,e,n){const r=k(t);let i=W.min(),s=de();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,l){const d=k(u),h=d.ns.get(l);return void 0!==h?E.resolve(d.ts.get(h)):d.qr.getTargetData(c,l)}(r,o,Pn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:W.min(),n?s:de())).next(a=>(function Bj(t,e,n){let r=t.rs.get(e)||W.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}(r,function vB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ls:s})))}class MD{constructor(){this.activeTargetIds=function tD(){return yue}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Hj{constructor(){this.eo=new MD,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new MD,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ece{ro(e){}shutdown(){}}class zj{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){R("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){R("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let a_=null;function xD(){return null===a_?a_=268435456+Math.round(2147483648*Math.random()):a_++,"0x"+a_.toString(16)}const Ice={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wce{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const _n="WebChannelConnection";class Tce extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=xD(),u=this.So(n,r);R("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,s,o),this.Do(n,u,c,i).then(l=>(R("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw cr("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",u,"request:",i),l})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+$u,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){return`${this.mo}/v1/${r}:${Ice[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const s=xD();return new Promise((o,a)=>{const u=new Iae;u.setWithCredentials(!0),u.listenOnce(yae.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Bb.NO_ERROR:const l=u.getResponseJson();R(_n,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case Bb.TIMEOUT:R(_n,`RPC '${e}' ${s} timed out`),a(new P(w.DEADLINE_EXCEEDED,"Request time out"));break;case Bb.HTTP_ERROR:const d=u.getStatus();if(R(_n,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const v=m.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(v)>=0?v:w.UNKNOWN}(f.status);a(new P(p,f.message))}else a(new P(w.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new P(w.UNAVAILABLE,"Connection failed."));break;default:z()}}finally{R(_n,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);R(_n,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}vo(e,n,r){const i=xD(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=mae(),a=_ae(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new Eae({})),this.bo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");R(_n,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new wce({co:m=>{f?R(_n,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(R(_n,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),R(_n,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},lo:()=>d.close()}),g=(m,v,_)=>{m.listen(v,I=>{try{_(I)}catch(C){setTimeout(()=>{throw C},0)}})};return g(d,Mm.EventType.OPEN,()=>{f||R(_n,`RPC '${e}' stream ${i} transport opened.`)}),g(d,Mm.EventType.CLOSE,()=>{f||(f=!0,R(_n,`RPC '${e}' stream ${i} transport closed`),p.Ro())}),g(d,Mm.EventType.ERROR,m=>{f||(f=!0,cr(_n,`RPC '${e}' stream ${i} transport errored:`,m),p.Ro(new P(w.UNAVAILABLE,"The operation could not be completed")))}),g(d,Mm.EventType.MESSAGE,m=>{var v;if(!f){const _=m.data[0];G(!!_);const C=_.error||(null===(v=_[0])||void 0===v?void 0:v.error);if(C){R(_n,`RPC '${e}' stream ${i} received error:`,C);const M=C.status;let $=function(ot){const yn=Rt[ot];if(void 0!==yn)return LB(yn)}(M),X=C.message;void 0===$&&($=w.INTERNAL,X="Unknown error status: "+M+" with message "+C.message),f=!0,p.Ro(new P($,X)),d.close()}else R(_n,`RPC '${e}' stream ${i} received:`,_),p.Vo(_)}}),g(a,vae.STAT_EVENT,m=>{m.stat===PU.PROXY?R(_n,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===PU.NOPROXY&&R(_n,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function u_(){return typeof document<"u"?document:null}function Ah(t){return new Nue(t,!0)}class OD{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&R("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class Gj{constructor(e,n,r,i,s,o,a,u){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new OD(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return y(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return y(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var r=this;return y(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():n&&n.code===w.RESOURCE_EXHAUSTED?(vt(n.toString()),vt("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):n&&n.code===w.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new P(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko(y(function*(){e.state=0,e.start()}))}o_(e){return R("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(R("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Cce extends Gj{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function kue(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:z(),i=e.targetChange.targetIds||[],s=function(c,l){return c.useProto3Json?(G(void 0===l||"string"==typeof l),Vt.fromBase64String(l||"")):(G(void 0===l||l instanceof Uint8Array),Vt.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const l=void 0===c.code?w.UNKNOWN:LB(c.code);return new P(l,c.message||"")}(o);n=new HB(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=mi(t,r.document.name),s=Et(r.document.updateTime),o=r.document.createTime?Et(r.document.createTime):W.min(),a=new on({mapValue:{fields:r.document.fields}}),u=Je.newFoundDocument(i,s,o,a);n=new Wm(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=mi(t,r.document),s=r.readTime?Et(r.readTime):W.min(),o=Je.newNoDocument(i,s);n=new Wm([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=mi(t,r.document);n=new Wm([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return z();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Due(i,s);n=new $B(r.targetId,o)}}var c;return n}(this.serializer,e),r=function(s){if(!("targetChange"in s))return W.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?W.min():o.readTime?Et(o.readTime):W.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=yh(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=Bm(u)?{documents:ZB(s,u)}:{query:dD(s,u)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=WB(s,o.resumeToken);const c=aD(s,o.expectedCount);null!==c&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(W.min())>0){a.readTime=rc(s,o.snapshotVersion.toTimestamp());const c=aD(s,o.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const r=function Vue(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return z()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=yh(this.serializer),n.removeTarget=e,this.e_(n)}}class bce extends Gj{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(G(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function Fue(t,e){return t&&t.length>0?(G(void 0!==e),t.map(n=>function(i,s){let o=Et(i.updateTime?i.updateTime:s);return o.isEqual(W.min())&&(o=Et(s)),new wue(o,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Et(e.commitTime);return this.listener.I_(r,n)}return G(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=yh(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function vh(t,e){let n;if(e instanceof tc)n={update:XB(t,e.key,e.value)};else if(e instanceof nc)n={delete:_h(t,e.key)};else if(e instanceof ns)n={update:XB(t,e.key,e.data),updateMask:jue(e.fieldMask)};else{if(!(e instanceof nD))return z();n={verify:_h(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Zu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Xo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Jo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ec)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw z()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:xue(t,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:z()),n;var s}(this.serializer,r))};this.e_(n)}}class Dce extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new P(w.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new P(w.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new P(w.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class Sce{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(vt(n),this.f_=!1):R("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Rce{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(a=>{r.enqueueAndForget(y(function*(){var u;Ys(o)&&(R("RemoteStore","Restarting streams for network reachability change."),yield(u=y(function*(l){const d=k(l);d.C_.add(4),yield dc(d),d.M_.set("Unknown"),d.C_.delete(4),yield Sh(d)}),function c(l){return u.apply(this,arguments)})(o))}))}),this.M_=new Sce(r,i)}}function Sh(t){return FD.apply(this,arguments)}function FD(){return FD=y(function*(t){if(Ys(t))for(const e of t.v_)yield e(!0)}),FD.apply(this,arguments)}function dc(t){return VD.apply(this,arguments)}function VD(){return VD=y(function*(t){for(const e of t.v_)yield e(!1)}),VD.apply(this,arguments)}function c_(t,e){const n=k(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),BD(n)?UD(n):fc(n).Ho()&&LD(n,e))}function Rh(t,e){const n=k(t),r=fc(n);n.D_.delete(e),r.Ho()&&Wj(n,e),0===n.D_.size&&(r.Ho()?r.Zo():Ys(n)&&n.M_.set("Unknown"))}function LD(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(W.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fc(t).u_(e)}function Wj(t,e){t.x_.Oe(e),fc(t).c_(e)}function UD(t){t.x_=new Sue({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),fc(t).start(),t.M_.g_()}function BD(t){return Ys(t)&&!fc(t).jo()&&t.D_.size>0}function Ys(t){return 0===k(t).C_.size}function Kj(t){t.x_=void 0}function Pce(t){return jD.apply(this,arguments)}function jD(){return jD=y(function*(t){t.D_.forEach((e,n)=>{LD(t,e)})}),jD.apply(this,arguments)}function Mce(t,e){return $D.apply(this,arguments)}function $D(){return $D=y(function*(t,e){Kj(t),BD(t)?(t.M_.w_(e),UD(t)):t.M_.set("Unknown")}),$D.apply(this,arguments)}function Nce(t,e,n){return HD.apply(this,arguments)}function HD(){return HD=y(function*(t,e,n){if(t.M_.set("Online"),e instanceof HB&&2===e.state&&e.cause)try{yield(r=y(function*(s,o){const a=o.cause;for(const u of o.targetIds)s.D_.has(u)&&(yield s.remoteSyncer.rejectListen(u,a),s.D_.delete(u),s.x_.removeTarget(u))}),function i(s,o){return r.apply(this,arguments)})(t,e)}catch(r){R("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield l_(t,r)}else if(e instanceof Wm?t.x_.$e(e):e instanceof $B?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(W.min()))try{const r=yield Fj(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const l=s.D_.get(c);l&&s.D_.set(c,l.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const l=s.D_.get(u);if(!l)return;s.D_.set(u,l.withResumeToken(Vt.EMPTY_BYTE_STRING,l.snapshotVersion)),Wj(s,u);const d=new rs(l.target,u,c,l.sequenceNumber);LD(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){R("RemoteStore","Failed to raise snapshot:",r),yield l_(t,r)}var r}),HD.apply(this,arguments)}function l_(t,e,n){return zD.apply(this,arguments)}function zD(){return zD=y(function*(t,e,n){if(!Us(e))throw e;t.C_.add(1),yield dc(t),t.M_.set("Offline"),n||(n=()=>Fj(t.localStore)),t.asyncQueue.enqueueRetryable(y(function*(){R("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield Sh(t)}))}),zD.apply(this,arguments)}function Qj(t,e){return e().catch(n=>l_(t,n,e))}function hc(t){return qD.apply(this,arguments)}function qD(){return qD=y(function*(t){const e=k(t),n=Xs(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;xce(e);)try{const i=yield _ce(e.localStore,r);if(null===i){0===e.b_.length&&n.Zo();break}r=i.batchId,Oce(e,i)}catch(i){yield l_(e,i)}Yj(e)&&Xj(e)}),qD.apply(this,arguments)}function xce(t){return Ys(t)&&t.b_.length<10}function Oce(t,e){t.b_.push(e);const n=Xs(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function Yj(t){return Ys(t)&&!Xs(t).jo()&&t.b_.length>0}function Xj(t){Xs(t).start()}function kce(t){return GD.apply(this,arguments)}function GD(){return GD=y(function*(t){Xs(t).E_()}),GD.apply(this,arguments)}function Fce(t){return WD.apply(this,arguments)}function WD(){return WD=y(function*(t){const e=Xs(t);for(const n of t.b_)e.P_(n.mutations)}),WD.apply(this,arguments)}function Vce(t,e,n){return KD.apply(this,arguments)}function KD(){return KD=y(function*(t,e,n){const r=t.b_.shift(),i=iD.from(r,e,n);yield Qj(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield hc(t)}),KD.apply(this,arguments)}function Lce(t,e){return QD.apply(this,arguments)}function QD(){return QD=y(function*(t,e){var n;e&&Xs(t).h_&&(yield(n=y(function*(i,s){if(function VB(t){switch(t){default:return z();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}(a=s.code)&&a!==w.ABORTED){const o=i.b_.shift();Xs(i).Yo(),yield Qj(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield hc(i)}var a}),function r(i,s){return n.apply(this,arguments)})(t,e)),Yj(t)&&Xj(t)}),QD.apply(this,arguments)}function Jj(t,e){return YD.apply(this,arguments)}function YD(){return YD=y(function*(t,e){const n=k(t);n.asyncQueue.verifyOperationInProgress(),R("RemoteStore","RemoteStore received new credentials");const r=Ys(n);n.C_.add(3),yield dc(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield Sh(n)}),YD.apply(this,arguments)}function JD(){return JD=y(function*(t,e){const n=k(t);e?(n.C_.delete(2),yield Sh(n)):e||(n.C_.add(2),yield dc(n),n.M_.set("Unknown"))}),JD.apply(this,arguments)}function fc(t){return t.O_||(t.O_=function(n,r,i){const s=k(n);return s.A_(),new Cce(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:Pce.bind(null,t),Io:Mce.bind(null,t),a_:Nce.bind(null,t)}),t.v_.push(function(){var e=y(function*(n){n?(t.O_.Yo(),BD(t)?UD(t):t.M_.set("Unknown")):(yield t.O_.stop(),Kj(t))});return function(n){return e.apply(this,arguments)}}())),t.O_}function Xs(t){return t.N_||(t.N_=function(n,r,i){const s=k(n);return s.A_(),new bce(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:kce.bind(null,t),Io:Lce.bind(null,t),T_:Fce.bind(null,t),I_:Vce.bind(null,t)}),t.v_.push(function(){var e=y(function*(n){n?(t.N_.Yo(),yield hc(t)):(yield t.N_.stop(),t.b_.length>0&&(R("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))});return function(n){return e.apply(this,arguments)}}())),t.N_}class ZD{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ft,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new ZD(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new P(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pc(t,e){if(vt("AsyncQueue",`${e}: ${t}`),Us(t))return new P(w.UNAVAILABLE,`${e}: ${t}`);throw t}class gc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||V.comparator(n.key,r.key):(n,r)=>V.comparator(n.key,r.key),this.keyedMap=lh(),this.sortedSet=new Ge(this.comparator)}static emptySet(e){return new gc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof gc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new gc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Zj{constructor(){this.B_=new Ge(V.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(n):1===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):z():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class mc{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new mc(e,n,gc.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Uce{constructor(){this.k_=void 0,this.listeners=[]}}class Bce{constructor(){this.queries=new ts(e=>yB(e),uh),this.onlineState="Unknown",this.q_=new Set}}function eA(t,e){return tA.apply(this,arguments)}function tA(){return tA=y(function*(t,e){const n=k(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Uce),i)try{s.k_=yield n.onListen(r)}catch(o){const a=pc(o,`Initialization of query '${Ju(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&iA(n)}),tA.apply(this,arguments)}function nA(t,e){return rA.apply(this,arguments)}function rA(){return rA=y(function*(t,e){const n=k(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),rA.apply(this,arguments)}function jce(t,e){const n=k(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&iA(n)}function $ce(t,e,n){const r=k(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function iA(t){t.q_.forEach(e=>{e.next()})}class sA{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new mc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=mc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class n${constructor(e){this.key=e}}class r${constructor(e){this.key=e}}class i${constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=de(),this.mutatedKeys=de(),this._a=EB(e),this.aa=new gc(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new Zj,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=ch(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.ha(h,f)||(r.track({type:2,doc:f}),m=!0,(u&&this._a(f,u)>0||c&&this._a(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(u||c)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((c,l)=>function(h,f){const p=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return z()}};return p(h)-p(f)}(c.type,l.type)||this._a(c.doc,l.doc)),this.Pa(r);const o=n?this.Ia():[],a=0===this.oa.size&&this.current?1:0,u=a!==this.sa;return this.sa=a,0!==s.length||u?{snapshot:new mc(this.query,e.aa,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new Zj,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=de(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new r$(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new n$(r))}),n}da(e){this.ia=e.ls,this.oa=de();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return mc.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class qce{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Gce{constructor(e){this.key=e,this.Ra=!1}}class Wce{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new ts(a=>yB(a),uh),this.fa=new Map,this.ga=new Set,this.pa=new Ge(V.comparator),this.ya=new Map,this.wa=new vD,this.Sa={},this.ba=new Map,this.Da=ia.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function Kce(t,e){return oA.apply(this,arguments)}function oA(){return oA=y(function*(t,e){const n=function RA(t){const e=k(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=s$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rle.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Xce.bind(null,e),e.Va.a_=jce.bind(null,e.eventManager),e.Va.Fa=$ce.bind(null,e.eventManager),e}(t);let r,i;const s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=yield function cc(t,e){const n=k(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,E.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new rs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}(n.localStore,Pn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function aA(t,e,n,r,i){return uA.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&c_(n.remoteStore,o)}return i}),oA.apply(this,arguments)}function uA(){return uA=y(function*(t,e,n,r,i){t.va=(d,h,f)=>{return(p=y(function*(m,v,_,I){let C=v.view.ca(_);C.Zi&&(C=yield i_(m.localStore,v.query,!1).then(({documents:X})=>v.view.ca(X,C)));const M=I&&I.targetChanges.get(v.targetId),$=v.view.applyChanges(C,m.isPrimaryClient,M);return yA(m,v.targetId,$.Ta),$.snapshot}),function g(m,v,_,I){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield i_(t.localStore,e,!0),o=new i$(e,s.ls),a=o.ca(s.documents),u=mh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);yA(t,n,c.Ta);const l=new qce(e,n,o);return t.ma.set(e,l),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),c.snapshot}),uA.apply(this,arguments)}function Qce(t,e){return cA.apply(this,arguments)}function cA(){return cA=y(function*(t,e){const n=k(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!uh(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield lc(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Rh(n.remoteStore,r.targetId),_c(n,r.targetId)}).catch(Ls))):(_c(n,r.targetId),yield lc(n.localStore,r.targetId,!0))}),cA.apply(this,arguments)}function lA(){return lA=y(function*(t,e,n){const r=function PA(t){const e=k(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Jce.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Zce.bind(null,e),e}(t);try{const i=yield function(o,a){const u=k(o),c=it.now(),l=a.reduce((f,p)=>f.add(p.key),de());let d,h;return u.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=Wn(),g=de();return u.ss.getEntries(f,l).next(m=>{p=m,p.forEach((v,_)=>{_.isValidDocument()||(g=g.add(v))})}).next(()=>u.localDocuments.getOverlayedDocuments(f,p)).next(m=>{d=m;const v=[];for(const _ of a){const I=Cue(_,d.get(_.key).overlayedDocument);null!=I&&v.push(new ns(_.key,I,rB(I.value.mapValue),tt.exists(!0)))}return u.mutationQueue.addMutationBatch(f,c,v,a)}).next(m=>{h=m;const v=m.applyToLocalDocumentSet(d,g);return u.documentOverlayCache.saveOverlays(f,m.batchId,v)})}).then(()=>({batchId:h.batchId,changes:wB(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let c=o.Sa[o.currentUser.toKey()];c||(c=new Ge(ie)),c=c.insert(a,u),o.Sa[o.currentUser.toKey()]=c}(r,i.batchId,n),yield is(r,i.changes),yield hc(r.remoteStore)}catch(i){const s=pc(i,"Failed to persist write");n.reject(s)}}),lA.apply(this,arguments)}function s$(t,e){return dA.apply(this,arguments)}function dA(){return dA=y(function*(t,e){const n=k(t);try{const r=yield function mce(t,e){const n=k(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.qr.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var g,m,v;null!==e.targetMismatches.get(d)?f=f.withResumeToken(Vt.EMPTY_BYTE_STRING,W.min()).withLastLimboFreeSnapshotVersion(W.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,v=l,(0===(g=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8||v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0)&&a.push(n.qr.updateTargetData(s,f))});let u=Wn(),c=de();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function Vj(t,e,n){let r=de(),i=de();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Wn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(W.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):R("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{us:o,cs:i}})}(s,o,e.documentUpdates).next(l=>{u=l.us,c=l.cs})),!r.isEqual(W.min())){const l=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return E.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.ts=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(G(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?G(o.Ra):i.removedDocuments.size>0&&(G(o.Ra),o.Ra=!1))}),yield is(n,r,e)}catch(r){yield Ls(r)}}),dA.apply(this,arguments)}function o$(t,e,n){const r=k(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=k(o);u.onlineState=a;let c=!1;u.queries.forEach((l,d)=>{for(const h of d.listeners)h.Q_(a)&&(c=!0)}),c&&iA(u)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Xce(t,e,n){return hA.apply(this,arguments)}function hA(){return hA=y(function*(t,e,n){const r=k(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new Ge(V.comparator);o=o.insert(s,Je.newNoDocument(s,W.min()));const a=de().add(s),u=new gh(W.min(),new Map,new Ge(ie),o,a);yield s$(r,u),r.pa=r.pa.remove(s),r.ya.delete(e),vA(r)}else yield lc(r.localStore,e,!1).then(()=>_c(r,e,n)).catch(Ls)}),hA.apply(this,arguments)}function Jce(t,e){return fA.apply(this,arguments)}function fA(){return fA=y(function*(t,e){const n=k(t),r=e.batch.batchId;try{const i=yield function gce(t,e){const n=k(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,u,c,l){const d=c.batch,h=d.keys();let f=E.resolve();return h.forEach(p=>{f=f.next(()=>l.getEntry(u,p)).next(g=>{const m=c.docVersions.get(p);G(null!==m),g.version.compareTo(m)<0&&(d.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),l.addEntry(g)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(u,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=de();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);_A(n,r,null),mA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield is(n,i)}catch(i){yield Ls(i)}}),fA.apply(this,arguments)}function Zce(t,e,n){return pA.apply(this,arguments)}function pA(){return pA=y(function*(t,e,n){const r=k(t);try{const i=yield function(o,a){const u=k(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return u.mutationQueue.lookupMutationBatch(c,a).next(d=>(G(null!==d),l=d.keys(),u.mutationQueue.removeMutationBatch(c,d))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,l,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>u.localDocuments.getDocuments(c,l))})}(r.localStore,e);_A(r,e,n),mA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield is(r,i)}catch(i){yield Ls(i)}}),pA.apply(this,arguments)}function mA(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function _A(t,e,n){const r=k(t);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function _c(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||a$(t,r)})}function a$(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);null!==n&&(Rh(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),vA(t))}function yA(t,e,n){for(const r of n)r instanceof n$?(t.wa.addReference(r.key,e),tle(t,r)):r instanceof r$?(R("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||a$(t,r.key)):z()}function tle(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(R("SyncEngine","New document in limbo: "+n),t.ga.add(r),vA(t))}function vA(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new V(Te.fromString(e)),r=t.Da.next();t.ya.set(r,new Gce(n)),t.pa=t.pa.insert(n,r),c_(t.remoteStore,new rs(Pn(Yu(n.path)),r,"TargetPurposeLimboResolution",dr._e))}}function is(t,e,n){return EA.apply(this,arguments)}function EA(){return EA=y(function*(t,e,n){const r=k(t),i=[],s=[],o=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,u)=>{o.push(r.va(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=CD.Qi(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.Va.a_(i),yield(a=y(function*(c,l){const d=k(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>E.forEach(l,f=>E.forEach(f.ki,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>E.forEach(f.qi,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Us(h))throw h;R("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const f=h.targetId;if(!h.fromCache){const p=d.ts.get(f),m=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.ts=d.ts.insert(f,m)}}}),function u(c,l){return a.apply(this,arguments)})(r.localStore,s))}),EA.apply(this,arguments)}function nle(t,e){return IA.apply(this,arguments)}function IA(){return IA=y(function*(t,e){const n=k(t);if(!n.currentUser.isEqual(e)){R("SyncEngine","User change. New user:",e.toKey());const r=yield kj(n.localStore,e);n.currentUser=e,(s=n).ba.forEach(a=>{a.forEach(u=>{u.reject(new P(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield is(n,r._s)}var s}),IA.apply(this,arguments)}function rle(t,e){const n=k(t),r=n.ya.get(e);if(r&&r.Ra)return de().add(r.key);{let i=de();const s=n.fa.get(e);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}class d_{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return y(function*(){n.serializer=Ah(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function Oj(t,e,n,r){return new pce(t,e,n,r)}(this.persistence,new xj,e.initialUser,this.serializer)}createPersistence(e){return new ED(t_.jr,this.serializer)}createSharedClientState(e){return new Hj}terminate(){var e=this;return y(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class yc{initialize(e,n){var r=this;return y(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>o$(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=nle.bind(null,r.syncEngine),yield function XD(t,e){return JD.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Bce}createDatastore(e){const n=Ah(e.databaseInfo.databaseId),r=new Tce(e.databaseInfo);return new Dce(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=n=>o$(this.syncEngine,n,0),a=zj.D()?new zj:new Ece,new Rce(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,n){return function(i,s,o,a,u,c,l){const d=new Wce(i,s,o,a,u,c);return l&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=y(function*(r){const i=k(r);R("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield dc(i),i.F_.shutdown(),i.M_.set("Unknown")}),function n(r){return e.apply(this,arguments)})(this.remoteStore);var e}}class h_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):vt("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class mle{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=zt.UNAUTHENTICATED,this.clientId=OU.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=y(function*(a){R("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(R("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return y(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new P(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Ft;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(y(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=pc(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function f_(t,e){return MA.apply(this,arguments)}function MA(){return MA=y(function*(t,e){t.asyncQueue.verifyOperationInProgress(),R("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=y(function*(s){r.isEqual(s)||(yield kj(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),MA.apply(this,arguments)}function NA(t,e){return xA.apply(this,arguments)}function xA(){return xA=y(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function OA(t){return kA.apply(this,arguments)}(t);R("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>Jj(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Jj(e.remoteStore,s)),t._onlineComponents=e}),xA.apply(this,arguments)}function kA(){return kA=y(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){R("FirestoreClient","Using user provided OfflineComponentProvider");try{yield f_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function f$(t){return"FirebaseError"===t.name?t.code===w.FAILED_PRECONDITION||t.code===w.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;cr("Error using user provided cache. Falling back to memory cache: "+n),yield f_(t,new d_)}}else R("FirestoreClient","Using default OfflineComponentProvider"),yield f_(t,new d_);return t._offlineComponents}),kA.apply(this,arguments)}function p_(t){return FA.apply(this,arguments)}function FA(){return FA=y(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(R("FirestoreClient","Using user provided OnlineComponentProvider"),yield NA(t,t._uninitializedComponentsProvider._online)):(R("FirestoreClient","Using default OnlineComponentProvider"),yield NA(t,new yc))),t._onlineComponents}),FA.apply(this,arguments)}function Ec(t){return LA.apply(this,arguments)}function LA(){return LA=y(function*(t){const e=yield p_(t),n=e.eventManager;return n.onListen=Kce.bind(null,e.syncEngine),n.onUnlisten=Qce.bind(null,e.syncEngine),n}),LA.apply(this,arguments)}function v$(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const E$=new Map;function UA(t,e,n){if(!n)throw new P(w.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function I$(t){if(!V.isDocumentKey(t))throw new P(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function w$(t){if(V.isDocumentKey(t))throw new P(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function g_(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":z()}function _e(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new P(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=g_(t);throw new P(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class C${constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new P(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new P(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Ale(t,e,n,r){if(!0===e&&!0===r)throw new P(w.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=v$(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new P(w.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new P(w.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new P(w.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ph{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new C$({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new P(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new P(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new C$(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Tae;switch(r.type){case"firstParty":return new Aae(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new P(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=E$.get(n);r&&(R("ComponentProvider","Removing Datastore"),E$.delete(n),r.terminate())}(this),Promise.resolve()}}class an{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new an(this.firestore,e,this._query)}}class It{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _i(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new It(this.firestore,e,this._key)}}class _i extends an{constructor(e,n,r){super(e,n,Yu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new V(e))}withConverter(e){return new _i(this.firestore,e,this._path)}}function Rle(t,e,...n){if(t=ht(t),UA("collection","path",e),t instanceof Ph){const r=Te.fromString(e,...n);return w$(r),new _i(t,null,r)}{if(!(t instanceof It||t instanceof _i))throw new P(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Te.fromString(e,...n));return w$(r),new _i(t.firestore,null,r)}}function b$(t,e,...n){if(t=ht(t),1===arguments.length&&(e=OU.newId()),UA("doc","path",e),t instanceof Ph){const r=Te.fromString(e,...n);return I$(r),new It(t,null,new V(r))}{if(!(t instanceof It||t instanceof _i))throw new P(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Te.fromString(e,...n));return I$(r),new It(t.firestore,t instanceof _i?t.converter:null,new V(r))}}class Ple{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new OD(this,"async_queue_retry"),this.iu=()=>{const n=u_();n&&R("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=u_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=u_();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Ft;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return y(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!Us(n))throw n;R("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,vt("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=ZD.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&z()}verifyOperationInProgress(){}uu(){var e=this;return y(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function BA(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(t)}class We extends Ph{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Ple,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||A$(this),this._firestoreClient.terminate()}}function Nle(t,e){const r="string"==typeof t?t:e||"(default)",i=fd("object"==typeof t?t:Fg(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=kV("firestore");s&&function Sle(t,e,n,r={}){var i;const s=(t=_e(t,Ph))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&cr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=zt.MOCK_USER;else{a=UV(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new P(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new zt(c)}t._authCredentials=new Cae(new NU(a,u))}}(i,...s)}return i}function wt(t){return t._firestoreClient||A$(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function A$(t){var e,n,r;const i=t._freezeSettings(),s=(u=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new rue(t._databaseId,u,t._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,v$(l.experimentalLongPollingOptions),l.useFetchStreams));var u,l;t._firestoreClient=new mle(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class oa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oa(Vt.fromBase64String(e))}catch(n){throw new P(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new oa(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ic{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new P(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class jA{constructor(e){this._methodName=e}}class $A{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new P(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new P(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}}const Ole=/^__.*__$/;class kle{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new ns(e,this.data,this.fieldMask,n,this.fieldTransforms):new tc(e,this.data,n,this.fieldTransforms)}}class P${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ns(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function M$(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw z()}}class m_{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new m_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return y_(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(M$(this.Iu)&&Ole.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Fle{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ah(e)}pu(e,n,r,i=!1){return new m_({Iu:e,methodName:n,gu:r,path:et.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wc(t){const e=t._freezeSettings(),n=Ah(t._databaseId);return new Fle(t._databaseId,!!e.ignoreUndefinedProperties,n)}function HA(t,e,n,r,i,s={}){const o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);qA("Data must be an object, but it was:",o,r);const a=F$(r,o);let u,c;if(s.merge)u=new Gn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=xh(e,d,n);if(!o.contains(h))throw new P(w.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);L$(l,h)||l.push(h)}u=new Gn(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new kle(new on(a),u,c)}class Nh extends jA{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nh}}function aa(t,e){if(V$(t=ht(t)))return qA("Unsupported field value:",e,t),F$(t,e);if(t instanceof jA)return function(r,i){if(!M$(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=aa(a,i.Vu(o));null==u&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if(null===(r=ht(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return DB(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=it.fromDate(r);return{timestampValue:rc(i.serializer,s)}}if(r instanceof it){const s=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rc(i.serializer,s)}}if(r instanceof $A)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof oa)return{bytesValue:WB(i.serializer,r._byteString)};if(r instanceof It){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:uD(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${g_(r)}`)}(t,e)}function F$(t,e){const n={};return KU(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bs(t,(r,i)=>{const s=aa(i,e.Eu(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function V$(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof it||t instanceof $A||t instanceof oa||t instanceof It||t instanceof jA)}function qA(t,e,n){if(!V$(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=g_(n);throw e.mu("an object"===r?t+" a custom object":t+" "+r)}var i}function xh(t,e,n){if((e=ht(e))instanceof Ic)return e._internalPath;if("string"==typeof e)return __(t,e);throw y_("Field path arguments must be of type string or ",t,!1,void 0,n)}const Ble=new RegExp("[~\\*/\\[\\]]");function __(t,e,n){if(e.search(Ble)>=0)throw y_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ic(...e.split("."))._internalPath}catch{throw y_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function y_(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new P(w.INVALID_ARGUMENT,a+t+u)}function L$(t,e){return t.some(n=>n.isEqual(e))}class GA{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new jle(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(v_("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class jle extends GA{data(){return super.data()}}function v_(t,e){return"string"==typeof e?__(t,e):e instanceof Ic?e._internalPath:e._delegate._internalPath}class Hle{convertValue(e,n="none"){switch(Hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw z()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Bs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new $A(pt(e.latitude),pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Fm(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(nh(e));default:return null}}convertTimestamp(e){const n=js(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Te.fromString(e);G(rj(r));const i=new Ko(r.get(1),r.get(3)),s=new V(r.popFirst(5));return i.isEqual(n)||vt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class ua{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cc extends GA{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new T_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(v_("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class T_ extends Cc{data(e={}){return super.data(e)}}class bc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ua(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new T_(this._firestore,this._userDataWriter,r.key,r,new ua(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new P(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new T_(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ua(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const u=new T_(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ua(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,l=-1;return 0!==a.type&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:qle(a.type),doc:u,oldIndex:c,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function qle(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return z()}}function Gle(t){t=_e(t,It);const e=_e(t.firestore,We);return function _$(t,e,n={}){const r=new Ft;return t.asyncQueue.enqueueAndForget(y(function*(){return function(s,o,a,u,c){const l=new h_({next:h=>{o.enqueueAndForget(()=>nA(s,d));const f=h.docs.has(a);!f&&h.fromCache?c.reject(new P(w.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&u&&"server"===u.source?c.reject(new P(w.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new sA(Yu(a.path),l,{includeMetadataChanges:!0,J_:!0});return eA(s,d)}(yield Ec(t),t.asyncQueue,e,n,r)})),r.promise}(wt(e),t._key).then(n=>QA(e,t,n))}class Js extends Hle{constructor(e){super(),this.firestore=e}convertBytes(e){return new oa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,n)}}function Wle(t,e,n,...r){t=_e(t,It);const i=_e(t.firestore,We),s=wc(i);let o;return o="string"==typeof(e=ht(e))||e instanceof Ic?function O$(t,e,n,r,i,s){const o=t.pu(1,e,n),a=[xh(e,r,n)],u=[i];if(s.length%2!=0)throw new P(w.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(xh(e,s[h])),u.push(s[h+1]);const c=[],l=on.empty();for(let h=a.length-1;h>=0;--h)if(!L$(c,a[h])){const f=a[h];let p=u[h];p=ht(p);const g=o.Ru(f);if(p instanceof Nh)c.push(f);else{const m=aa(p,g);null!=m&&(c.push(f),l.set(f,m))}}const d=new Gn(c);return new P$(l,d,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function x$(t,e,n,r){const i=t.pu(1,e,n);qA("Data must be an object, but it was:",i,r);const s=[],o=on.empty();Bs(r,(u,c)=>{const l=__(e,u,n);c=ht(c);const d=i.Ru(l);if(c instanceof Nh)s.push(l);else{const h=aa(c,d);null!=h&&(s.push(l),o.set(l,h))}});const a=new Gn(s);return new P$(o,a,i.fieldTransforms)}(s,"updateDoc",t._key,e),kh(i,[o.toMutation(t._key,tt.exists(!0))])}function Kle(t){return kh(_e(t.firestore,We),[new nc(t._key,tt.none())])}function Qle(t,e){const n=_e(t.firestore,We),r=b$(t),i=function KA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return kh(n,[HA(wc(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,tt.exists(!1))]).then(()=>r)}function kh(t,e){return function(r,i){const s=new Ft;return r.asyncQueue.enqueueAndForget(y(function*(){return function Yce(t,e,n){return lA.apply(this,arguments)}(yield function VA(t){return p_(t).then(e=>e.syncEngine)}(r),i,s)})),s.promise}(wt(t),e)}function QA(t,e,n){const r=n.docs.get(e._key),i=new Js(t);return new Cc(t,i,e._key,r,new ua(n.hasPendingWrites,n.fromCache),e.converter)}!function(e,n=!0){$u=Fo,ko(new Ms("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new We(new bae(r.getProvider("auth-internal")),new Sae(r.getProvider("app-check-internal")),function(c,l){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new P(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ko(c.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),hn(MU,"4.3.2",e),hn(MU,"4.3.2","esm2017")}();var D_=function(){return D_=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++)for(var s in n=arguments[r])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},D_.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var cde={includeMetadataChanges:!1};function JA(t,e){return void 0===e&&(e=cde),new Ke(function(n){var r=function Yle(t,...e){var n,r,i;t=ht(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||BA(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(BA(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof It)c=_e(t.firestore,We),l=Yu(t._key.path),u={next:d=>{e[o]&&e[o](QA(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=_e(t,an);c=_e(d.firestore,We),l=d._query;const h=new Js(c);u={next:f=>{e[o]&&e[o](new bc(c,h,d,f))},error:e[o+1],complete:e[o+2]},function U$(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new P(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(h,f,p,g){const m=new h_(g),v=new sA(f,m,p);return h.asyncQueue.enqueueAndForget(y(function*(){return eA(yield Ec(h),v)})),()=>{m.Na(),h.asyncQueue.enqueueAndForget(y(function*(){return nA(yield Ec(h),v)}))}}(wt(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function mde(t,e){return void 0===e&&(e={}),function gde(t){return JA(t,{includeMetadataChanges:!0}).pipe(Ee(function(e){return e.docs}))}(t).pipe(Ee(function(n){return n.map(function(r){return function K$(t,e){var n;void 0===e&&(e={});var r=t.data(e);return t.exists()&&"object"==typeof r&&null!==r&&e.idField?D_(D_({},r),((n={})[e.idField]=t.id,n)):r}(r,e)})}))}class Fh{constructor(e){return e}}const J$="firestore",tS=new L("angularfire2.firestore-instances");function Ede(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Fh(r)}}const Ide={provide:class yde{constructor(){return Lg(J$)}},deps:[[new en,tS]]},wde={provide:Fh,useFactory:function vde(t,e){const n=Uw(J$,t,e);return n&&new Fh(n)},deps:[[new en,tS],Mu]};let Tde=(()=>{class t{constructor(){hn("angularfire",md.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Nt({type:t});static \u0275inj=bt({providers:[wde,Ide]})}return t})();function Cde(t,...e){return{ngModule:Tde,providers:[{provide:tS,useFactory:Ede(t),multi:!0,deps:[pe,Dt,Ug,Bg,[new en,XC],[new en,Bw],...e]}]}}const bde=jt(mde,!0),Dde=jt(Qle,!0),Ade=jt(Rle,!0),Sde=jt(Kle,!0),nS=jt(b$,!0),Rde=jt(Gle,!0),Pde=jt(Nle,!0),Mde=jt(Wle,!0);let rS=(()=>{class t{constructor(n){this.firestore=n,this.workRef=Ade(this.firestore,"works")}addWork(n){return Dde(this.workRef,n)}getWork(){return bde(this.workRef,{idField:"id"})}deleteWork(n){const r=nS(this.firestore,`works/${n.id}`);return Sde(r)}editWork(n){var r=this;return y(function*(){try{if(n.id){const i=nS(r.firestore,`works/${n.id}`),s={...n};return delete s.id,yield Mde(i,s),!0}return console.error("ID de trabajo no v\xe1lido:",n.id),!1}catch(i){return console.error("Error al guardar los cambios:",i),!1}})()}getWorkById(n){const r=nS(this.workRef,n);return Ct(Rde(r)).pipe(Ee(i=>{if(i.exists()){const s=i.data();return{id:i.id,...s}}}))}static#e=this.\u0275fac=function(r){return new(r||t)(O(Fh))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Nde=(()=>{class t{constructor(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=ut({type:t,selectors:[["app-card-work"]],inputs:{work:"work"},decls:14,vars:5,consts:[[1,"card-work"],[1,"card-work_img"],["alt","",3,"src"],[1,"card-work_description"],[1,"card-work_description-titlegroup"],[1,"card-work_description-tag"]],template:function(r,i){1&r&&(D(0,"div",0)(1,"div",1),K(2,"img",2),b(),D(3,"div",3)(4,"div",4)(5,"p"),N(6),b(),D(7,"p"),N(8),b(),D(9,"p"),N(10),b()(),D(11,"div",5)(12,"span"),N(13),b()()()()),2&r&&(j(2),Y("src",i.work.image,ho),j(4),sr(i.work.title),j(2),sr(i.work.subtitle),j(2),$n(" ",i.work.description," "),j(3),sr(i.work.type))},styles:["[_nghost-%COMP%]   .card-work[_ngcontent-%COMP%]{border-radius:10px;display:flex;align-items:center;flex-direction:column;width:298px;height:350px;background-size:cover;cursor:pointer;background-color:#fbfbfb;position:relative;transition:all .3s ease-in-out}[_nghost-%COMP%]   .card-work_img[_ngcontent-%COMP%]{width:100%;border-radius:10px 10px 0 0}[_nghost-%COMP%]   .card-work_img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:180px;object-fit:cover;border-radius:10px 10px 0 0}[_nghost-%COMP%]   .card-work_description[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;border-radius:10px;padding:10px;position:relative}[_nghost-%COMP%]   .card-work_description-titlegroup[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .card-work_description-titlegroup[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-of-type(1){font-size:16px;font-weight:700;margin:0;color:#333}[_nghost-%COMP%]   .card-work_description-titlegroup[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-of-type(1):first-letter{text-transform:uppercase}[_nghost-%COMP%]   .card-work_description-titlegroup[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-of-type(2){font-size:14px;font-weight:600;margin:0;color:#666}[_nghost-%COMP%]   .card-work_description-titlegroup[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-of-type(3){font-size:12px;display:-webkit-box;font-weight:500;width:100%;margin:20px 0 0;color:#222;line-height:22px;overflow:hidden;-webkit-line-clamp:3;-webkit-box-orient:vertical;white-space:wrap}[_nghost-%COMP%]   .card-work_description-tag[_ngcontent-%COMP%]{width:auto;height:23px;flex-shrink:0;color:#fff;border-radius:4px;background-color:#38bcd5;position:absolute;top:-170px;right:10px}[_nghost-%COMP%]   .card-work_description-tag[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;text-transform:uppercase;font-size:12px;font-weight:700;padding:4px 8px}[_nghost-%COMP%]   .card-work[_ngcontent-%COMP%]:hover{transform:translateY(-10px);transition:all .3s ease-in-out;box-shadow:0 16px 13px -15px #c8c8c8}"]})}return t})();function xde(t,e){if(1&t){const n=vs();Bn(0),D(1,"button",8),Ne("click",function(){const s=Di(n).$implicit;return Ai($e(2).filtrarPorTipo(s))}),N(2),b(),jn()}if(2&t){const n=e.$implicit;j(2),$n(" ",n," ")}}function Ode(t,e){if(1&t){const n=vs();Bn(0),D(1,"h4",4),N(2,"Trabajos"),b(),D(3,"div",2)(4,"div",5),ge(5,xde,3,1,"ng-container",6),D(6,"button",7),Ne("click",function(){return Di(n),Ai($e().mostrarTodos())}),N(7," Mostrar todos "),b()()(),jn()}if(2&t){const n=$e();j(5),Y("ngForOf",n.obtenerTiposUnicos())}}function kde(t,e){1&t&&(D(0,"div",9)(1,"div",10),K(2,"div")(3,"div")(4,"div")(5,"div")(6,"div")(7,"div")(8,"div")(9,"div"),b()()),2&t&&($e(),mo("height","400px"))}function Fde(t,e){if(1&t){const n=vs();Bn(0),D(1,"div",11),Ne("click",function(){const s=Di(n).$implicit,o=$e(2);return Ai(s.id&&o.onCardClick(s.id))}),K(2,"app-card-work",12),b(),jn()}if(2&t){const n=e.$implicit;j(2),Y("work",n)}}function Vde(t,e){if(1&t&&(Bn(0),ge(1,Fde,3,1,"ng-container",6),jn()),2&t){const n=$e();j(1),Y("ngForOf",n.works)}}let Lde=(()=>{class t{filtrarPorTipo(n){console.log("Tipo:",n),this.works=this.worksB.filter(r=>r.type===n),this.loading=!0,console.log("Trabajos filtrados:",this.works),this.loading=!1,this.cdr.detectChanges()}mostrarTodos(){this.loading=!0;const n=this.worksB;n.forEach(r=>{r.visible=!0}),this.works=n,this.tiposUnicos=[...new Set(n.map(r=>r.type))],console.log("Tipos existentes:",this.tiposUnicos),this.loading=!1}obtenerTiposUnicos(){return this.workservice.getWork().subscribe(n=>{this.tiposUnicos=[...new Set(n.map(r=>r.type))]}),this.tiposUnicos}constructor(n,r,i){this.router=n,this.workservice=r,this.cdr=i,this.works=[],this.worksB=[],this.loading=!1,this.tiposUnicos=[],this.works=[{title:"",subtitle:"",type:"",image:"",visible:!0,id:""}]}verDetalle(n){this.router.navigate(["/detalle",n])}ngOnInit(){this.workservice.getWork().subscribe(n=>{console.log(n),this.works=n,this.worksB=n})}onCardClick(n){this.router.navigate(["/detalle",n])}static#e=this.\u0275fac=function(r){return new(r||t)(A(Ut),A(rS),A(lu))};static#t=this.\u0275cmp=ut({type:t,selectors:[["app-list-works"]],decls:5,vars:3,consts:[["id","trabajos",1,"container","py-5"],[4,"ngIf"],[1,"row"],["class","d-flex justify-content-center align-items-center",3,"height",4,"ngIf"],[1,"title"],[1,"d-flex","p-3","justify-content-center"],[4,"ngFor","ngForOf"],[1,"btn","btn","btn-outline-primary","px-4","m-2","btn-filtro",3,"click"],[1,"btn","btn-primary","px-4","m-2",3,"click"],[1,"d-flex","justify-content-center","align-items-center"],[1,"lds-roller"],[1,"col-3","mb-4",3,"click"],[3,"work"]],template:function(r,i){1&r&&(D(0,"section",0),ge(1,Ode,8,1,"ng-container",1),D(2,"div",2),ge(3,kde,10,2,"div",3),ge(4,Vde,2,1,"ng-container",1),b()()),2&r&&(j(1),Y("ngIf","/admin"!=i.router.url),j(2),Y("ngIf",i.loading),j(1),Y("ngIf",!i.loading))},dependencies:[Ol,ni,Nde],styles:["[_nghost-%COMP%]   .btn-primary[_ngcontent-%COMP%]:first-letter{text-transform:uppercase}"]})}return t})(),Ude=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=ut({type:t,selectors:[["app-aboutus"]],decls:12,vars:0,consts:[[1,"container-fluid","aboutus","pb-5"],[1,"title"],[1,"row"],[1,"col-6","p-0","d-flex","align-items-center"],[1,"container",2,"padding-left","202px"],[1,"col-6","p-0"],[1,"box-img"]],template:function(r,i){1&r&&(D(0,"section",0)(1,"h4",1),N(2,"Quienes somos"),b(),D(3,"div",2)(4,"div",3)(5,"div",4)(6,"h3"),N(7,"Pintagonzalo"),b(),D(8,"p"),N(9," Lorem ipsum dolor sit amet, consectetur adipiscing elit. In quis purus risus. Praesent dignissim, leo sit amet mattis euismod, augue orci venenatis urna, ac molestie nulla risus id lacus. Sed finibus est ac nunc dictum rhoncus. "),b()()(),D(10,"div",5),K(11,"div",6),b()()())},styles:["[_nghost-%COMP%]   .box-img[_ngcontent-%COMP%]{background-image:url(aboutus.882e451af2ff6d1d.jpg);background-position:center center;background-size:cover;height:540px;width:100%}[_nghost-%COMP%]   .aboutus[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#555;font-size:16px;font-weight:500;line-height:37px;margin:23px 0 0;max-width:450px;width:100%}"]})}return t})(),Bde=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=ut({type:t,selectors:[["app-valores"]],decls:21,vars:0,consts:[[1,"container","valores","pb-5","mb-5"],[1,"row"],[1,"title","my-5"],[1,"row","mt-5"],[1,"col-3","d-flex","flex-column","justify-content-center","align-items-center"],["src","../../../assets/img/verified.svg","alt",""],["src","../../../assets/img/dolar.svg","alt",""],["src","../../../assets/img/alarm.svg","alt",""],["src","../../../assets/img/happy-face.svg","alt",""]],template:function(r,i){1&r&&(D(0,"section",0)(1,"div",1)(2,"h4",2),N(3,"Valores que nos caracterizan"),b()(),D(4,"div",3)(5,"div",4),K(6,"img",5),D(7,"h3"),N(8,"Calidad del trabajo"),b()(),D(9,"div",4),K(10,"img",6),D(11,"h3"),N(12,"Eficiencia en costos"),b()(),D(13,"div",4),K(14,"img",7),D(15,"h3"),N(16,"Cumplimiento de plazos"),b()(),D(17,"div",4),K(18,"img",8),D(19,"h3"),N(20,"Clientes Felices"),b()()()())},styles:["[_nghost-%COMP%]   h3[_ngcontent-%COMP%]{margin:20px 0 0;color:#555;text-align:center;font-size:16px;font-weight:800;line-height:normal}"]})}return t})(),Z$=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=ut({type:t,selectors:[["app-footer"]],decls:48,vars:0,consts:[[1,"container-fluid"],[1,"container","pt-5","d-flex","flex-column","justify-content-between"],[1,"row"],[1,"col-2"],["src","../../../assets/img/logo-footer.png","alt",""],[1,"col-10","d-flex","justify-content-end","align-items-center"],[1,"box"],[1,"list-unstyled"],["href","#trabajos"],["href","#aboutus"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-primary"],["href","tel:+56945888215"],["href",""],["src","../../../assets/img/ico-inst-footer.svg","alt",""],["src","../../../assets/img/ico-wsp-footer.svg","alt",""],[1,"row","text-center","py-2","bajada"],[1,"col-12"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary"]],template:function(r,i){1&r&&(D(0,"footer")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3),K(5,"img",4),b(),D(6,"div",5)(7,"div",6)(8,"ul",7)(9,"li")(10,"a",8),N(11,"Trabajos"),b()(),D(12,"li")(13,"a",9),N(14,"Quienes somos"),b()(),D(15,"li")(16,"a",10),N(17,"Contacto"),b()()()(),D(18,"div",6)(19,"ul",7)(20,"li")(21,"a",8),N(22,"contacto@pintagonzalo.cl"),b()(),D(23,"li")(24,"a",11),N(25,"T: +56 94588 8215"),b()(),D(26,"li")(27,"a",12),K(28,"img",13),b(),D(29,"a",12),K(30,"img",14),b()()()()()(),D(31,"div",15)(32,"div",16),N(33,"Hecho con <3 por Francisco Loyola"),b()()()()(),D(34,"div",17)(35,"div",18)(36,"div",19)(37,"div",20)(38,"h5",21),N(39,"Modal title"),b(),K(40,"button",22),b(),D(41,"div",23),N(42,"..."),b(),D(43,"div",24)(44,"button",25),N(45," Close "),b(),D(46,"button",26),N(47,"Save changes"),b()()()()())},styles:["[_nghost-%COMP%]   footer[_ngcontent-%COMP%]{background-color:#524c9a}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{margin:0 100px 0 0}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 0 20px}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:14px}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:nth-of-type(2){margin:0}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:nth-of-type(2)   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-of-type(3){display:flex}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:nth-of-type(2)   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-of-type(3) a{margin:0 20px 0 0;text-decoration:none}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bajada[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:#fff;font-size:12px;letter-spacing:1px;opacity:.5}"]})}return t})(),jde=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=ut({type:t,selectors:[["app-main"]],decls:6,vars:0,consts:[[1,"container-fluid","p-0"]],template:function(r,i){1&r&&(D(0,"div",0),K(1,"app-hero")(2,"app-list-works")(3,"app-aboutus")(4,"app-valores")(5,"app-footer"),b())},dependencies:[ote,Lde,Ude,Bde,Z$]})}return t})(),iS=(()=>{class t{constructor(n,r,i){this.auth=n,this.router=r,this.ngZone=i,hoe(this.auth).subscribe(s=>{s?localStorage.setItem("user",JSON.stringify(s)):localStorage.setItem("user","null")})}login({email:n,password:r}){return poe(this.auth,n,r)}observerUserState(){this.auth.onAuthStateChanged(n=>{n&&this.ngZone.run(()=>this.router.navigate(["admin"]))})}loginWithGoogle(){return goe(this.auth,new uie)}logout(){return this.auth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate(["login"])})}get isLoggedIn(){return null!==JSON.parse(localStorage.getItem("user"))}static#e=this.\u0275fac=function(r){return new(r||t)(O(im),O(Ut),O(pe))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function $de(t,e){1&t&&(D(0,"h6"),N(1,"Administrador de contenidos"),b())}function Hde(t,e){1&t&&(D(0,"h6"),N(1,"Registrarse"),b())}function zde(t,e){if(1&t){const n=vs();D(0,"button",3),Ne("click",function(){return Di(n),Ai($e().onClick())}),N(1," Cerrar sesion "),b()}}let qde=(()=>{class t{constructor(n,r){this.userService=n,this.router=r}ngOnInit(){console.log(this.userService.isLoggedIn)}onClick(){this.userService.logout().then(()=>{this.router.navigate(["/login"])}).catch(n=>console.log(n))}isLoggedIn(){return this.userService.isLoggedIn}static#e=this.\u0275fac=function(r){return new(r||t)(A(iS),A(Ut))};static#t=this.\u0275cmp=ut({type:t,selectors:[["app-header-admin"]],decls:5,vars:3,consts:[[1,"box","d-flex","align-items-center","w-100","justify-content-between"],[4,"ngIf"],["class","btn btn-outline-danger",3,"click",4,"ngIf"],[1,"btn","btn-outline-danger",3,"click"]],template:function(r,i){1&r&&(D(0,"header")(1,"div",0),ge(2,$de,2,0,"h6",1),ge(3,Hde,2,0,"h6",1),ge(4,zde,2,0,"button",2),b()()),2&r&&(j(2),Y("ngIf","/admin"===i.router.url),j(1),Y("ngIf","/registrarse"===i.router.url),j(1),Y("ngIf",i.isLoggedIn))},dependencies:[ni],styles:["header[_ngcontent-%COMP%]{background-color:#524c9a;height:122px;width:calc(100% - 425px);position:fixed;z-index:1000}header[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{height:100%;padding:0 20px}header[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#fff;font-weight:700}header[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .btn-outline-danger[_ngcontent-%COMP%]{background-color:#fff;border:0px;color:#524c9a}header[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .btn-outline-danger[_ngcontent-%COMP%]:hover{color:#524c9a;border:0px}"]})}return t})();const eH="firebasestorage.googleapis.com",tH="storageBucket";class st extends ui{constructor(e,n,r=0){super(sS(e),`Firebase Storage: ${n} (${sS(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,st.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return sS(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var nt=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(nt||{});function sS(t){return"storage/"+t}function oS(){return new st(nt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function aS(t){return new st(nt.INVALID_ARGUMENT,t)}function sH(){return new st(nt.APP_DELETED,"The Firebase app was deleted.")}function Vh(t,e){return new st(nt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Lh(t){throw new st(nt.INTERNAL_ERROR,"Internal error: "+t)}class Mn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Mn.makeFromUrl(e,n)}catch{return new Mn(e,"")}if(""===r.path)return r;throw function the(t){return new st(nt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function c(C){C.path_=decodeURIComponent(C.path)}const d=n.replace(/[.]/g,"\\."),I=[{regex:a,indices:{bucket:1,path:3},postModify:function s(C){"/"===C.path.charAt(C.path.length-1)&&(C.path_=C.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${n===eH?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let C=0;C<I.length;C++){const M=I[C],$=M.regex.exec(e);if($){let ye=$[M.indices.path];ye||(ye=""),r=new Mn($[M.indices.bucket],ye),M.postModify(r);break}}if(null==r)throw function ehe(t){return new st(nt.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return r}}class ahe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function A_(t){return"string"==typeof t||t instanceof String}function oH(t){return uS()&&t instanceof Blob}function uS(){return typeof Blob<"u"&&!function BV(){var t;const e=null===(t=Mg())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()}function cS(t,e,n,r){if(r<e)throw aS(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw aS(`Invalid value for '${t}'. Expected ${n} or less.`)}function ss(t,e,n){let r=e;return null==n&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function aH(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}var Dc=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(Dc||{});class fhe{constructor(e,n,r,i,s,o,a,u,c,l,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());!function lhe(t){return void 0!==t}(u)?s():s(u)}catch(u){o(u)}else if(null!==a){const u=oS();u.serverResponse=a.getErrorText(),o(this.errorCallback_?this.errorCallback_(a,u):u)}else o(i.canceled?this.appDelete_?sH():function rH(){return new st(nt.CANCELED,"User canceled the upload/download.")}():function nH(){return new st(nt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?n(0,new S_(!1,null,!0)):this.backoffId_=function uhe(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return 2===a}let c=!1;function l(...m){c||(c=!0,e.apply(null,m))}function d(m){i=setTimeout(()=>{i=null,t(f,u())},m)}function h(){s&&clearTimeout(s)}function f(m,...v){if(c)return void h();if(m)return h(),void l.call(null,m,...v);if(u()||o)return h(),void l.call(null,m,...v);let I;r<64&&(r*=2),1===a?(a=2,I=0):I=1e3*(r+Math.random()),d(I)}let p=!1;function g(m){p||(p=!0,h(),!c&&(null!==i?(m||(a=2),clearTimeout(i),d(0)):m||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,g(!0)},n),g}((r,i)=>{if(i)return void r(!1,new S_(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Dc.NO_ERROR,u=s.getStatus();if(!a||function uH(t,e){const n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),s=-1!==e.indexOf(t);return n||i||s}(u,this.additionalRetryCodes_)&&this.retry){const l=s.getErrorCode()===Dc.ABORT;return void r(!1,new S_(!1,null,l))}const c=-1!==this.successCodes_.indexOf(u);r(!0,new S_(c,s))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function che(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class S_{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Ehe(...t){const e=function vhe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}if(uS())return new Blob(t);throw new st(nt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const jr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class lS{constructor(e,n){this.data=e,this.contentType=n||null}}function lH(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?n<t.length-1&&56320==(64512&t.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function dH(t,e){switch(t){case jr.BASE64:{const i=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(i||s)throw Vh(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case jr.BASE64URL:{const i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw Vh(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=function whe(t){if(typeof atob>"u")throw function she(t){return new st(nt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(t)}(e)}catch(i){throw i.message.includes("polyfill")?i:Vh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class hH{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(null===n)throw Vh(jr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;null!=r&&(this.base64=function Dhe(t,e){return t.length>=e.length&&t.substring(t.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class os{constructor(e,n){let r=0,i="";oH(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(oH(this.data_)){const i=function Ihe(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===i?null:new os(i)}{const r=new Uint8Array(this.data_.buffer,e,n-e);return new os(r,!0)}}static getBlob(...e){if(uS()){const n=e.map(r=>r instanceof os?r.data_:r);return new os(Ehe.apply(null,n))}{const n=e.map(o=>A_(o)?function cH(t,e){switch(t){case jr.RAW:return new lS(lH(e));case jr.BASE64:case jr.BASE64URL:return new lS(dH(t,e));case jr.DATA_URL:return new lS(function Che(t){const e=new hH(t);return e.base64?dH(jr.BASE64,e.rest):function The(t){let e;try{e=decodeURIComponent(t)}catch{throw Vh(jr.DATA_URL,"Malformed data URL.")}return lH(e)}(e.rest)}(e),function bhe(t){return new hH(t).contentType}(e))}throw oS()}(jr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new os(i,!0)}}uploadData(){return this.data_}}function dS(t){let e;try{e=JSON.parse(t)}catch{return null}return function hhe(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function fH(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function Rhe(t,e){return e}class Nn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Rhe}}let R_=null;function Uh(){if(R_)return R_;const t=[];t.push(new Nn("bucket")),t.push(new Nn("generation")),t.push(new Nn("metageneration")),t.push(new Nn("name","fullPath",!0));const n=new Nn("name");n.xform=function e(s,o){return function Phe(t){return!A_(t)||t.length<2?t:fH(t)}(o)},t.push(n);const i=new Nn("size");return i.xform=function r(s,o){return void 0!==o?Number(o):o},t.push(i),t.push(new Nn("timeCreated")),t.push(new Nn("updated")),t.push(new Nn("md5Hash",null,!0)),t.push(new Nn("cacheControl",null,!0)),t.push(new Nn("contentDisposition",null,!0)),t.push(new Nn("contentEncoding",null,!0)),t.push(new Nn("contentLanguage",null,!0)),t.push(new Nn("contentType",null,!0)),t.push(new Nn("metadata","customMetadata",!0)),R_=t,R_}function pH(t,e,n){const r=dS(e);return null===r?null:function Nhe(t,e,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return function Mhe(t,e){Object.defineProperty(t,"ref",{get:function n(){const s=new Mn(t.bucket,t.fullPath);return e._makeStorageReference(s)}})}(r,t),r}(t,r,n)}const gH="prefixes",mH="items";class yi{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function vi(t){if(!t)throw oS()}function Ac(t){return function e(n,r){let i;return i=401===n.getStatus()?n.getErrorText().includes("Firebase App Check token is invalid")?function Jde(){return new st(nt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Xde(){return new st(nt.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===n.getStatus()?function Yde(t){return new st(nt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(t.bucket):403===n.getStatus()?function Zde(t){return new st(nt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}(t.path):r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}}function Lhe(t,e,n,r,i){const s={};s.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const a=ss(e.bucketOnlyServerUrl(),t.host,t._protocol),c=t.maxOperationRetryTime,l=new yi(a,"GET",function Fhe(t,e){return function n(r,i){const s=function khe(t,e,n){const r=dS(n);return null===r?null:function Ohe(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[gH])for(const i of n[gH]){const s=i.replace(/\/$/,""),o=t._makeStorageReference(new Mn(e,s));r.prefixes.push(o)}if(n[mH])for(const i of n[mH]){const s=t._makeStorageReference(new Mn(e,i.name));r.items.push(s)}return r}(t,e,r)}(t,e,i);return vi(null!==s),s}}(t,e.bucket),c);return l.urlParams=s,l.errorHandler=Ac(e),l}function EH(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},u=function a(){let I="";for(let C=0;C<2;C++)I+=Math.random().toString().slice(2);return I}();o["Content-Type"]="multipart/related; boundary="+u;const c=function vH(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function $he(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}(e,r,i),l=function hS(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}(c,n),f=os.getBlob("--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+l+"\r\n--"+u+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",r,"\r\n--"+u+"--");if(null===f)throw function iH(){return new st(nt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const p={name:c.fullPath},g=ss(s,t.host,t._protocol),v=t.maxUploadRetryTime,_=new yi(g,"POST",function P_(t,e){return function n(r,i){const s=pH(t,i,e);return vi(null!==s),s}}(t,n),v);return _.urlParams=p,_.headers=o,_.body=f.uploadData(),_.errorHandler=Ac(e),_}let wH=null;class Whe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Dc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Dc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Dc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Lh("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),void 0!==i)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Lh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Lh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Lh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Lh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Khe extends Whe{initXhr(){this.xhr_.responseType="text"}}function $r(){return wH?wH():new Khe}class ca{constructor(e,n){this._service=e,this._location=n instanceof Mn?n:Mn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ca(e,n)}get root(){const e=new Mn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return fH(this._location.path)}get storage(){return this._service}get parent(){const e=function Ahe(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new Mn(this._location.bucket,e);return new ca(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw function ohe(t){return new st(nt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function CH(t,e,n){return gS.apply(this,arguments)}function gS(){return gS=y(function*(t,e,n){const i=yield function bH(t,e){null!=e&&"number"==typeof e.maxResults&&cS("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=Lhe(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,$r)}(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield CH(t,e,i.nextPageToken))}),gS.apply(this,arguments)}function afe(t){t._throwIfRoot("getDownloadURL");const e=function Uhe(t,e,n){const i=ss(e.fullServerUrl(),t.host,t._protocol),o=t.maxOperationRetryTime,a=new yi(i,"GET",function Vhe(t,e){return function n(r,i){const s=pH(t,i,e);return vi(null!==s),function xhe(t,e,n,r){const i=dS(e);if(null===i||!A_(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const d=t.fullPath;return ss("/b/"+o(t.bucket)+"/o/"+o(d),n,r)+aH({alt:"media",token:c})})[0]}(s,i,t.host,t._protocol)}}(t,n),o);return a.errorHandler=function Bh(t){const e=Ac(t);return function n(r,i){let s=e(r,i);return 404===r.getStatus()&&(s=function Qde(t){return new st(nt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}(t.path)),s.serverResponse=i.serverResponse,s}}(e),a}(t.storage,t._location,Uh());return t.storage.makeRequestWithTokens(e,$r).then(n=>{if(null===n)throw function ihe(){return new st(nt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return n})}function AH(t,e){if(t instanceof mS){const n=t;if(null==n._bucket)throw function nhe(){return new st(nt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+tH+"' property when initializing the app?")}();const r=new ca(n,n._bucket);return null!=e?AH(r,e):r}return void 0!==e?function DH(t,e){const n=function She(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new Mn(t._location.bucket,n);return new ca(t.storage,r)}(t,e):t}function SH(t,e){const n=e?.[tH];return null==n?null:Mn.makeFromBucketSpec(n,t)}class mS{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=eH,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Mn.makeFromBucketSpec(i,this._host):SH(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Mn.makeFromBucketSpec(this._url,e):SH(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){cS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){cS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return y(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return y(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ca(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new ahe(sH());{const o=function yhe(t,e,n,r,i,s,o=!0){const a=aH(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return function mhe(t,e){e&&(t["X-Firebase-GMPID"]=e)}(c,e),function phe(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(c,n),function ghe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(c,s),function _he(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(c,r),new fhe(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){var r=this;return y(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,i,s).getPromise()})()}}const RH="@firebase/storage",MH="storage";function ffe(t,e,n){return function TH(t,e,n){t._throwIfRoot("uploadBytes");const r=EH(t.storage,t._location,Uh(),new os(e,!0),n);return t.storage.makeRequestWithTokens(r,$r).then(i=>({metadata:i,ref:t}))}(t=ht(t),e,n)}function pfe(t){return function ife(t){const e={prefixes:[],items:[]};return CH(t,e).then(()=>e)}(t=ht(t))}function gfe(t){return afe(t=ht(t))}function mfe(t,e){return function dfe(t,e){if(e&&function cfe(t){return/^[A-Za-z]+:\/\//.test(t)}(e)){if(t instanceof mS)return function lfe(t,e){return new ca(t,e)}(t,e);throw aS("To use ref(service, url), the first argument must be a Storage instance.")}return AH(t,e)}(t=ht(t),e)}function _fe(t=Fg(),e){const r=fd(t=ht(t),MH).getImmediate({identifier:e}),i=kV("storage");return i&&function yfe(t,e,n,r={}){!function hfe(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"==typeof i?i:UV(i,t.app.options.projectId))}(t,e,n,r)}(r,...i),r}function vfe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new mS(n,r,i,e,Fo)}!function Efe(){ko(new Ms(MH,vfe,"PUBLIC").setMultipleInstances(!0)),hn(RH,"0.11.2",""),hn(RH,"0.11.2","esm2017")}();class N_{constructor(e){return e}}const NH="storage",_S=new L("angularfire2.storage-instances");function Tfe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new N_(r)}}const Cfe={provide:class Ife{constructor(){return Lg(NH)}},deps:[[new en,_S]]},bfe={provide:N_,useFactory:function wfe(t,e){const n=Uw(NH,t,e);return n&&new N_(n)},deps:[[new en,_S],Mu]};let Dfe=(()=>{class t{constructor(){hn("angularfire",md.full,"gcs")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Nt({type:t});static \u0275inj=bt({providers:[bfe,Cfe]})}return t})();function Afe(t,...e){return{ngModule:Dfe,providers:[{provide:_S,useFactory:Tfe(t),multi:!0,deps:[pe,Dt,Ug,Bg,[new en,XC],[new en,Bw],...e]}]}}const xH=jt(gfe,!0),Sfe=jt(_fe,!0),Rfe=jt(pfe,!0),OH=jt(mfe,!0),Pfe=jt(ffe,!0);class kH{}class Mfe{}const as="*";function Nfe(t,e){return{type:7,name:t,definitions:e,options:{}}}function FH(t,e=null){return{type:4,styles:e,timings:t}}function VH(t,e=null){return{type:2,steps:t,options:e}}function jh(t){return{type:6,styles:t,offset:null}}function yS(t,e,n){return{type:0,name:t,styles:e,options:n}}function LH(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}class $h{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class UH{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const n=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((n,r)=>null===n||r.totalTime>n.totalTime?r:n,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}const BH=["toast-component",""];function xfe(t,e){if(1&t){const n=vs();D(0,"button",5),Ne("click",function(){return Di(n),Ai($e().remove())}),D(1,"span",6),N(2,"\xd7"),b()()}}function Ofe(t,e){if(1&t&&(Bn(0),N(1),jn()),2&t){const n=$e(2);j(1),$n("[",n.duplicatesCount+1,"]")}}function kfe(t,e){if(1&t&&(D(0,"div"),N(1),ge(2,Ofe,2,1,"ng-container",4),b()),2&t){const n=$e();ki(n.options.titleClass),Un("aria-label",n.title),j(1),$n(" ",n.title," "),j(1),Y("ngIf",n.duplicatesCount)}}function Ffe(t,e){if(1&t&&K(0,"div",7),2&t){const n=$e();ki(n.options.messageClass),Y("innerHTML",n.message,_v)}}function Vfe(t,e){if(1&t&&(D(0,"div",8),N(1),b()),2&t){const n=$e();ki(n.options.messageClass),Un("aria-label",n.message),j(1),$n(" ",n.message," ")}}function Lfe(t,e){if(1&t&&(D(0,"div"),K(1,"div",9),b()),2&t){const n=$e();j(1),mo("width",n.width+"%")}}class qfe{_attachedHost;component;viewContainerRef;injector;constructor(e,n){this.component=e,this.injector=n}attach(e,n){return this._attachedHost=e,e.attach(this,n)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Gfe{_attachedPortal;_disposeFn;attach(e,n){return this._attachedPortal=e,this.attachComponentPortal(e,n)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}class Wfe{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Lt;_activate=new Lt;_manualClose=new Lt;_resetTimeout=new Lt;_countDuplicate=new Lt;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,n){e&&this._resetTimeout.next(),n&&this._countDuplicate.next(++this.duplicatesCount)}}class x_{toastId;config;message;title;toastType;toastRef;_onTap=new Lt;_onAction=new Lt;constructor(e,n,r,i,s,o){this.toastId=e,this.config=n,this.message=r,this.title=i,this.toastType=s,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const $H=new L("ToastConfig");class Kfe extends Gfe{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,n,r){super(),this._hostDomElement=e,this._componentFactoryResolver=n,this._appRef=r}attachComponentPortal(e,n){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),n?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Qfe=(()=>{class t{_document=F(kt);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const n=this._document.createElement("div");n.classList.add("overlay-container"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),this._containerElement=n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Yfe{_portalHost;constructor(e){this._portalHost=e}attach(e,n=!0){return this._portalHost.attach(e,n)}detach(){return this._portalHost.detach()}}let Xfe=(()=>{class t{_overlayContainer=F(Qfe);_componentFactoryResolver=F(cl);_appRef=F(Li);_document=F(kt);_paneElements=new Map;create(n,r){return this._createOverlayRef(this.getPaneElement(n,r))}getPaneElement(n="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[n]||(this._paneElements.get(r)[n]=this._createPaneElement(n,r)),this._paneElements.get(r)[n]}_createPaneElement(n,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(n),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(n){return new Kfe(n,this._componentFactoryResolver,this._appRef)}_createOverlayRef(n){return new Yfe(this._createPortalHost(n))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Rc=(()=>{class t{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(n,r,i,s,o){this.overlay=r,this._injector=i,this.sanitizer=s,this.ngZone=o,this.toastrConfig={...n.default,...n.config},n.config.iconClasses&&(this.toastrConfig.iconClasses={...n.default.iconClasses,...n.config.iconClasses})}show(n,r,i={},s=""){return this._preBuildNotification(s,n,r,this.applyConfig(i))}success(n,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",n,r,this.applyConfig(i))}error(n,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",n,r,this.applyConfig(i))}info(n,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",n,r,this.applyConfig(i))}warning(n,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",n,r,this.applyConfig(i))}clear(n){for(const r of this.toasts)if(void 0!==n){if(r.toastId===n)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(n){const r=this._findToast(n);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(n="",r="",i,s){const{includeTitleDuplicates:o}=this.toastrConfig;for(const a of this.toasts)if((!o||o&&a.title===n)&&a.message===r)return a.toastRef.onDuplicate(i,s),a;return null}applyConfig(n={}){return{...this.toastrConfig,...n}}_findToast(n){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===n)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(n,r,i,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(n,r,i,s)):this._buildNotification(n,r,i,s)}_buildNotification(n,r,i,s){if(!s.toastComponent)throw new Error("toastComponent required");const o=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==o)return o;this.previousToastMessage=r;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const u=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let c=r;r&&s.enableHtml&&(c=this.sanitizer.sanitize(tr.HTML,r));const l=new Wfe(u),d=new x_(this.index,s,c,i,n,l),f=Dt.create({providers:[{provide:x_,useValue:d}],parent:this._injector}),p=new qfe(s.toastComponent,f),g=u.attach(p,s.newestOnTop);l.componentInstance=g.instance;const m={toastId:this.index,title:i||"",message:r||"",toastRef:l,onShown:l.afterActivate(),onHidden:l.afterClosed(),onTap:d.onTap(),onAction:d.onAction(),portal:g};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{m.toastRef.activate()})),this.toasts.push(m),m}static \u0275fac=function(r){return new(r||t)(O($H),O(Xfe),O(Dt),O(QO),O(pe))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Jfe={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class t{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if("inactive"===this.state.value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,r,i){this.toastrService=n,this.toastPackage=r,this.ngZone=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const n=(new Date).getTime();this.width=(this.hideTime-n)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(n,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(n),r)):this.timeout=setTimeout(()=>n(),r)}outsideInterval(n,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(n),r)):this.intervalId=setInterval(()=>n(),r)}runInsideAngular(n){this.ngZone?this.ngZone.run(()=>n()):n()}static \u0275fac=function(r){return new(r||t)(A(Rc),A(x_),A(pe))};static \u0275cmp=ut({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(r,i){1&r&&Ne("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&r&&(hE("@flyInOut",i.state),ki(i.toastClasses),mo("display",i.displayStyle))},standalone:!0,features:[wp],attrs:BH,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){1&r&&(ge(0,xfe,3,0,"button",0),ge(1,kfe,3,5,"div",1),ge(2,Ffe,1,3,"div",2),ge(3,Vfe,2,4,"div",3),ge(4,Lfe,2,2,"div",4)),2&r&&(Y("ngIf",i.options.closeButton),j(1),Y("ngIf",i.title),j(1),Y("ngIf",i.message&&i.options.enableHtml),j(1),Y("ngIf",i.message&&!i.options.enableHtml),j(1),Y("ngIf",i.options.progressBar))},dependencies:[ni],encapsulation:2,data:{animation:[Nfe("flyInOut",[yS("inactive",jh({opacity:0})),yS("active",jh({opacity:1})),yS("removed",jh({opacity:0})),LH("inactive => active",FH("{{ easeTime }}ms {{ easing }}")),LH("active => removed",FH("{{ easeTime }}ms {{ easing }}"))])]}})}return t})()},Zfe=(t={})=>Gf([{provide:$H,useValue:{default:Jfe,config:t}}]);let epe=(()=>{class t{static forRoot(n={}){return{ngModule:t,providers:[Zfe(n)]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Nt({type:t});static \u0275inj=bt({})}return t})();const tpe=["exampleModal"];function npe(t,e){1&t&&K(0,"img",37),2&t&&Y("src",$e().$implicit.image,ho)}function rpe(t,e){if(1&t){const n=vs();Bn(0),D(1,"div",27)(2,"div",28),ge(3,npe,1,1,"img",29),b(),D(4,"div",30)(5,"div",31)(6,"div",32)(7,"p"),N(8),b(),D(9,"p"),N(10),b()(),D(11,"div",33)(12,"span"),N(13),b()()(),D(14,"div",34)(15,"button",35),Ne("click",function(){const s=Di(n).$implicit;return Ai($e().deleteWork(s))}),N(16," Borrar "),b(),D(17,"button",36),Ne("click",function(){const s=Di(n).$implicit;return Ai($e().editWork(s))}),N(18," Editar "),b()()()(),jn()}if(2&t){const n=e.$implicit;j(3),Y("ngIf",n.image),j(5),sr(n.title),j(2),sr(n.subtitle),j(3),sr(n.type)}}let ipe=(()=>{class t{constructor(n,r,i,s,o){this.fb=n,this.storage=r,this.workService=i,this.cdr=s,this.toastr=o,this.works=[{image:"",title:"",subtitle:"",type:"",visible:!0,id:"",description:""}],this.images=[],this.trabajoEnEdicion={image:"",title:"",subtitle:"",type:"",visible:!0,id:"",description:""},this.imageUrl="",this.formulario=this.fb.group({title:["",oi.required],subtitle:["",oi.required],type:["",oi.required],image:["",oi.required],description:["",oi.required],id:[""]})}onSubmit(){var n=this;return y(function*(){try{if(n.formulario.valid){const r=(new Date).getTime().toString();n.formulario.patchValue({id:r});const i={...n.formulario.value,image:n.imageUrl};yield n.workService.addWork(i),n.resetForm(),n.imageUrl=""}else console.error("Por favor, complete todos los campos requeridos.")}catch(r){console.error("Error al agregar el trabajo",r)}})()}resetForm(){this.formulario.reset()}uploadImage(n){var r=this;return y(function*(){const i=n.target.files[0],s=OH(r.storage,`images/${i.name}`);try{yield Pfe(s,i),r.imageUrl=yield xH(s),r.cdr.detectChanges()}catch(o){console.log("Error al subir la imagen:",o)}})()}ngOnInit(){this.workService.getWork().subscribe(n=>{console.log(n),this.works=n}),this.getImages()}getImages(){var n=this;const r=OH(this.storage,"images");Rfe(r).then(function(){var i=y(function*(s){console.log(s),n.images=[];for(let o of s.items){const a=yield xH(o);n.images.push(a)}});return function(s){return i.apply(this,arguments)}}()).catch(i=>console.log(i))}deleteWork(n){var r=this;return y(function*(){const i=yield r.workService.deleteWork(n);console.log(i)})()}editWork(n){this.trabajoEnEdicion={...n},this.formulario.patchValue({title:this.trabajoEnEdicion.title,subtitle:this.trabajoEnEdicion.subtitle,type:this.trabajoEnEdicion.type,image:this.trabajoEnEdicion.image,description:this.trabajoEnEdicion.description,id:this.trabajoEnEdicion.id})}guardarCambios(){const n=this.trabajoEnEdicion?.id;if(console.log("este es el id:"+n),n){const r={...this.formulario.value,image:this.imageUrl};this.workService.editWork({...r,id:n}).then(()=>{this.toastr.success("Cambios guardados con \xe9xito"),this.exampleModal.nativeElement.click()}).catch(i=>{console.error("Error al guardar los cambios:",i),this.toastr.error("Error al guardar los cambios")})}else console.error("ID de trabajo no v\xe1lido:",n)}static#e=this.\u0275fac=function(r){return new(r||t)(A(yw),A(N_),A(rS),A(lu),A(Rc))};static#t=this.\u0275cmp=ut({type:t,selectors:[["app-form-add-work"]],viewQuery:function(r,i){if(1&r&&r1(tpe,5),2&r){let s;NE(s=function xE(){return function G8(t,e){return t[Gr].queries[e].queryList}(S(),vR())}())&&(i.exampleModal=s.first)}},features:[ze([Rc])],decls:66,vars:3,consts:[[1,"container-fluid"],[1,"row"],[1,"col-6"],[3,"formGroup","ngSubmit"],[1,"form-group","mb-4"],["type","hidden","formControlName","id"],["type","text","placeholder","titulo de ejemplo","formControlName","title","required","",1,"form-control"],["type","text","placeholder","subtitulo","formControlName","subtitle","required","",1,"form-control"],["type","text","placeholder","Tipo de trabajo","formControlName","type","required","",1,"form-control"],["type","file","formControlName","image","required","",1,"form-control",3,"change"],["name","","id","","cols","30","rows","10","formControlName","description","required","",1,"form-control"],["type","submit",1,"btn","btn-primary"],[4,"ngFor","ngForOf"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["exampleModal",""],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"formGroup"],["type","file","accept","image/png, image/gif, image/jpeg, image/webp","formControlName","image","required","",1,"form-control",3,"change"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],["closeModal",""],[1,"card-work","col-12","mb-4"],[1,"images"],["width","200",3,"src",4,"ngIf"],[1,"card-work_description"],[1,"d-flex"],[1,"card-work_description-titlegroup"],[1,"ms-4","card-work_description-tag"],[1,"d-flex","btn-group"],["type","button",1,"btn","btn-primary",3,"click"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-secondary","mr-1",3,"click"],["width","200",3,"src"]],template:function(r,i){1&r&&(D(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3),Ne("ngSubmit",function(){return i.onSubmit()}),D(4,"div",4)(5,"label"),N(6,"Titulo"),b(),K(7,"input",5)(8,"input",6),b(),D(9,"div",4)(10,"label"),N(11,"Subtitulo"),b(),K(12,"input",7),b(),D(13,"div",4)(14,"label"),N(15,"Tipo"),b(),K(16,"input",8),b(),D(17,"div",4)(18,"label"),N(19,"Imagen"),b(),D(20,"input",9),Ne("change",function(o){return i.uploadImage(o)}),b()(),D(21,"div",4)(22,"label"),N(23,"Descripcion"),b(),K(24,"textarea",10),b(),D(25,"button",11),N(26,"Agregar"),b()()(),D(27,"div",2),ge(28,rpe,19,4,"ng-container",12),b()()(),D(29,"div",13,14)(31,"div",15)(32,"div",16)(33,"div",17)(34,"h1",18),N(35,"Editar"),b(),K(36,"button",19),b(),D(37,"div",20)(38,"form",21)(39,"div",4)(40,"label"),N(41,"Titulo"),b(),K(42,"input",5)(43,"input",6),b(),D(44,"div",4)(45,"label"),N(46,"Subtitulo"),b(),K(47,"input",7),b(),D(48,"div",4)(49,"label"),N(50,"Tipo"),b(),K(51,"input",8),b(),D(52,"div",4)(53,"label"),N(54,"Imagen"),b(),D(55,"input",22),Ne("change",function(o){return i.uploadImage(o)}),b()(),D(56,"div",4)(57,"label"),N(58,"Descripcion"),b(),K(59,"textarea",10),b()()(),D(60,"div",23)(61,"button",24),N(62," cancelar "),b(),D(63,"button",25,26),Ne("click",function(){return i.guardarCambios()}),N(65," Guardar cambios "),b()()()()()),2&r&&(j(3),Y("formGroup",i.formulario),j(25),Y("ngForOf",i.works),j(10),Y("formGroup",i.formulario))},dependencies:[Ol,ni,Tg,Tu,fg,pg,Cg,Du,od],styles:["[_nghost-%COMP%]   .card-work[_ngcontent-%COMP%]{border-radius:10px;padding:20px;display:flex;flex-direction:column;align-items:flex-end;width:100%;height:294px;background-size:cover;cursor:pointer;border:1px solid #000000}[_nghost-%COMP%]   .card-work[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .card-work[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:180px;object-fit:cover}[_nghost-%COMP%]   .card-work_description[_ngcontent-%COMP%]{background-color:#fff;display:flex;justify-content:space-between;width:100%;border-radius:10px;padding:10px}[_nghost-%COMP%]   .card-work_description-titlegroup[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .card-work_description-titlegroup[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-of-type(1){font-size:16px;font-weight:700;margin:0 0 10px;color:#333}[_nghost-%COMP%]   .card-work_description-titlegroup[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-of-type(1):first-letter{text-transform:uppercase}[_nghost-%COMP%]   .card-work_description-titlegroup[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-of-type(2){font-size:14px;font-weight:500;margin:0}[_nghost-%COMP%]   .card-work_description-tag[_ngcontent-%COMP%]{width:auto;height:23px;flex-shrink:0;color:#fff;border-radius:4px;background-color:#38bcd5}[_nghost-%COMP%]   .card-work_description-tag[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;text-transform:uppercase;font-size:12px;font-weight:700;padding:4px 8px}"]})}return t})();const spe=function(){return["/admin"]},ope=function(){return["/admin/works"]};let ape=(()=>{class t{constructor(){this.addWork=!1}showAddwork(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=ut({type:t,selectors:[["app-menu-admin"]],decls:14,vars:4,consts:[[1,"menu"],[1,"logo","d-flex","justify-content-center","p-2"],["href",""],["src","../../../../../assets/img/logo.png","alt",""],[1,"list-unstyled"],[3,"routerLink"]],template:function(r,i){1&r&&(D(0,"aside",0)(1,"div",1)(2,"a",2),K(3,"img",3),b()(),D(4,"ul",4)(5,"li")(6,"a",5),N(7,"Agregar trabajo"),b()(),D(8,"li")(9,"a",5),N(10,"Trabajos"),b()(),D(11,"li")(12,"a"),N(13,"Informacion de Contacto"),b()()()()),2&r&&(j(6),Y("routerLink",TE(2,spe)),j(3),Y("routerLink",TE(3,ope)))},dependencies:[ed],styles:["[_nghost-%COMP%]   .menu[_ngcontent-%COMP%]{background-color:#fffbfb;height:100vh;box-shadow:1px 1px 11px 5px #e6e4e463;z-index:9999;position:fixed;width:423px}[_nghost-%COMP%]   .menu[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{border-bottom:1px solid #f1f1f1}[_nghost-%COMP%]   .menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:20px;display:flex;border-bottom:1px solid #f1f1f1;cursor:pointer;font-weight:700}[_nghost-%COMP%]   .menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ededed;transition:all ease-in-out .3s}"]})}return t})();function upe(t,e){1&t&&(Bn(0),K(1,"app-form-add-work"),jn())}function cpe(t,e){1&t&&(Bn(0),K(1,"div",6),jn())}let ES=(()=>{class t{constructor(n,r){this.router=n,this.fb=r}ngOnInit(){}generateUniqueId(){return Math.floor(1e3*Math.random())}static#e=this.\u0275fac=function(r){return new(r||t)(A(Ut),A(yw))};static#t=this.\u0275cmp=ut({type:t,selectors:[["app-admin"]],decls:10,vars:2,consts:[[1,"container-fluid"],[1,"row","p-0"],[1,"col-3","p-0"],[1,"col-9","p-0"],[1,"content"],[4,"ngIf"],[1,"row","me-0"]],template:function(r,i){1&r&&(D(0,"div",0)(1,"div",1)(2,"div",2),K(3,"app-menu-admin"),b(),D(4,"div",3),K(5,"app-header-admin"),D(6,"div",4),ge(7,upe,2,0,"ng-container",5),ge(8,cpe,2,0,"ng-container",5),b()()()(),K(9,"router-outlet")),2&r&&(j(7),Y("ngIf","/admin"===i.router.url),j(1),Y("ngIf","/admin/add-work"!=i.router.url&&"/admin/works"===i.router.url))},dependencies:[ni,Do,qde,ipe,ape],styles:["[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{padding-top:190px!important}"]})}return t})();function lpe(t,e){if(1&t&&(D(0,"div",3),K(1,"img",4),D(2,"div",5)(3,"div",6)(4,"h2"),N(5),b(),D(6,"p"),N(7),b()(),D(8,"div",7)(9,"p",8)(10,"span"),N(11),b()()()(),D(12,"div",9)(13,"div",6)(14,"p",10),N(15),b()()()()),2&t){const n=$e();j(1),pp("alt",n.detalle.title),Y("src",n.detalle.image,ho),j(4),sr(n.detalle.title),j(2),sr(n.detalle.subtitle),j(4),sr(n.detalle.type),j(4),$n(" ",n.detalle.description," ")}}const dpe=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:jde,pathMatch:"full"},{path:"admin",component:ES,pathMatch:"full",canActivate:[(t,e)=>{const n=F(iS),r=F(Ut);return n.isLoggedIn||r.navigate(["login"]),!0}]},{path:"admin/add-work",component:ES,pathMatch:"full"},{path:"admin/works",component:ES,pathMatch:"full"},{path:"detalle/:id",component:(()=>{class t{constructor(n,r,i){this.route=n,this.workService=r,this.firestore=i,this.id=""}ngOnInit(){this.route.params.subscribe(n=>{this.id=n.id,console.log("ID:",this.id),this.workService.getWorkById(this.id).subscribe(r=>{this.detalle=r})})}static#e=this.\u0275fac=function(r){return new(r||t)(A(bo),A(rS),A(Fh))};static#t=this.\u0275cmp=ut({type:t,selectors:[["app-work-detail"]],decls:5,vars:1,consts:[[1,"container"],["class","detalle",4,"ngIf"],[1,"container-fluid","px-0"],[1,"detalle"],[3,"src","alt"],[1,"row","mt-5"],[1,"col"],[1,"col","d-flex","justify-content-end"],[1,"tag"],[1,"row","py-5"],[1,"description"]],template:function(r,i){1&r&&(D(0,"div",0),K(1,"app-header"),ge(2,lpe,16,6,"div",1),b(),D(3,"div",2),K(4,"app-footer"),b()),2&r&&(j(2),Y("ngIf",i.detalle))},dependencies:[ni,aF,Z$],styles:["[_nghost-%COMP%]   .detalle[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:300px;object-fit:cover}[_nghost-%COMP%]   .detalle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:800}[_nghost-%COMP%]   .detalle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:first-letter{text-transform:uppercase}[_nghost-%COMP%]   .detalle[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{line-height:40px}"]})}return t})(),pathMatch:"full"},{path:"login",component:(()=>{class t{constructor(n,r,i){this.userService=n,this.router=r,this.toastr=i,this.formLogin=new bu({email:new Ro,password:new Ro})}ngOnInit(){}onSubmit(){this.userService.login(this.formLogin.value).then(n=>{this.router.navigate(["/admin"])}).catch(n=>{this.toastr.error("Error al intentar ingresar")})}onClick(){this.userService.loginWithGoogle().then(n=>{console.log(n),this.router.navigate(["/admin"])}).catch(n=>console.log(n))}static#e=this.\u0275fac=function(r){return new(r||t)(A(iS),A(Ut),A(Rc))};static#t=this.\u0275cmp=ut({type:t,selectors:[["app-login"]],features:[ze([Rc])],decls:19,vars:1,consts:[[1,"container-fluid"],[1,"row","p-0"],[1,"col-12","p-0"],[1,"content","mx-auto",2,"width","600px"],[1,"mb-6","text-center"],[1,"mt-5",3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"form-label"],["type","text","formControlName","email",1,"form-control"],["type","password","formControlName","password",1,"form-control"],["type","submit","value","Entrar",1,"btn","btn-primary","w-100"],[1,"btn","btn-primary","w-100","mt-3",3,"click"]],template:function(r,i){1&r&&(D(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),N(5,"Ingresar al administrador"),b(),D(6,"form",5),Ne("ngSubmit",function(){return i.onSubmit()}),D(7,"div",6)(8,"label",7),N(9,"Email"),b(),K(10,"input",8),b(),D(11,"div",6)(12,"label",7),N(13,"Contrase\xf1as"),b(),K(14,"input",9),b(),K(15,"input",10),b(),D(16,"button",11),Ne("click",function(){return i.onClick()}),N(17," Entrar con Google "),b()()()()(),K(18,"router-outlet")),2&r&&(j(6),Y("formGroup",i.formLogin))},dependencies:[Tg,Tu,fg,pg,Du,od,Do],styles:["[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{padding-top:190px!important}"]})}return t})(),pathMatch:"full"}];let HH=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Nt({type:t});static#n=this.\u0275inj=bt({imports:[sF.forRoot(dpe),sF]})}return t})(),hpe=(()=>{class t{constructor(){this.title="pintagonzalo"}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=ut({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&K(0,"router-outlet")},dependencies:[Do]})}return t})();function zH(t){return new T(3e3,!1)}function Zs(t){switch(t.length){case 0:return new $h;case 1:return t[0];default:return new UH(t)}}function qH(t,e,n=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(e.forEach(u=>{const c=u.get("offset"),l=c==o,d=l&&a||new Map;u.forEach((h,f)=>{let p=f,g=h;if("offset"!==f)switch(p=t.normalizePropertyName(p,i),g){case"!":g=n.get(f);break;case as:g=r.get(f);break;default:g=t.normalizeStyleValue(f,p,g,i)}d.set(p,g)}),l||s.push(d),a=d,o=c}),i.length)throw function kpe(t){return new T(3502,!1)}();return s}function IS(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&wS(n,"start",t)));break;case"done":t.onDone(()=>r(n&&wS(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&wS(n,"destroy",t)))}}function wS(t,e,n){const s=TS(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,n.totalTime??t.totalTime,!!n.disabled),o=t._data;return null!=o&&(s._data=o),s}function TS(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function hr(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function GH(t){const e=t.indexOf(":");return[t.substring(1,e),t.slice(e+1)]}const Wpe=(()=>typeof document>"u"?null:document.documentElement)();function CS(t){const e=t.parentNode||t.host||null;return e===Wpe?null:e}let la=null,WH=!1;function KH(t,e){for(;e;){if(e===t)return!0;e=CS(e)}return!1}function QH(t,e,n){if(n)return Array.from(t.querySelectorAll(e));const r=t.querySelector(e);return r?[r]:[]}let YH=(()=>{class t{validateStyleProperty(n){return function Qpe(t){la||(la=function Ype(){return typeof document<"u"?document.body:null}()||{},WH=!!la.style&&"WebkitAppearance"in la.style);let e=!0;return la.style&&!function Kpe(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in la.style,!e&&WH&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in la.style)),e}(n)}matchesElement(n,r){return!1}containsElement(n,r){return KH(n,r)}getParentElement(n){return CS(n)}query(n,r,i){return QH(n,r,i)}computeStyle(n,r,i){return i||""}animate(n,r,i,s,o,a=[],u){return new $h(i,s)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),bS=(()=>{class t{static#e=this.NOOP=new YH}return t})();const Xpe=1e3,DS="ng-enter",O_="ng-leave",k_="ng-trigger",F_=".ng-trigger",JH="ng-animating",AS=".ng-animating";function us(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:SS(parseFloat(e[1]),e[2])}function SS(t,e){return"s"===e?t*Xpe:t}function V_(t,e,n){return t.hasOwnProperty("duration")?t:function Zpe(t,e,n){let i,s=0,o="";if("string"==typeof t){const a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(zH()),{duration:0,delay:0,easing:""};i=SS(parseFloat(a[1]),a[2]);const u=a[3];null!=u&&(s=SS(parseFloat(u),a[4]));const c=a[5];c&&(o=c)}else i=t;if(!n){let a=!1,u=e.length;i<0&&(e.push(function fpe(){return new T(3100,!1)}()),a=!0),s<0&&(e.push(function ppe(){return new T(3101,!1)}()),a=!0),a&&e.splice(u,0,zH())}return{duration:i,delay:s,easing:o}}(t,e,n)}function Hh(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function ZH(t){const e=new Map;return Object.keys(t).forEach(n=>{e.set(n,t[n])}),e}function eo(t,e=new Map,n){if(n)for(let[r,i]of n)e.set(r,i);for(let[r,i]of t)e.set(r,i);return e}function Ei(t,e,n){e.forEach((r,i)=>{const s=PS(i);n&&!n.has(i)&&n.set(i,t.style[s]),t.style[s]=r})}function da(t,e){e.forEach((n,r)=>{const i=PS(r);t.style[i]=""})}function zh(t){return Array.isArray(t)?1==t.length?t[0]:VH(t):t}const RS=new RegExp("{{\\s*(.+?)\\s*}}","g");function tz(t){let e=[];if("string"==typeof t){let n;for(;n=RS.exec(t);)e.push(n[1]);RS.lastIndex=0}return e}function qh(t,e,n){const r=t.toString(),i=r.replace(RS,(s,o)=>{let a=e[o];return null==a&&(n.push(function mpe(t){return new T(3003,!1)}()),a=""),a.toString()});return i==r?t:i}function L_(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const nge=/-+([a-z0-9])/g;function PS(t){return t.replace(nge,(...e)=>e[1].toUpperCase())}function fr(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw function _pe(t){return new T(3004,!1)}()}}function nz(t,e){return window.getComputedStyle(t)[e]}const U_="*";function sge(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function oge(t,e,n){if(":"==t[0]){const u=function age(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(function Mpe(t){return new T(3016,!1)}()),"* => *"}}(t,n);if("function"==typeof u)return void e.push(u);t=u}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(function Ppe(t){return new T(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(rz(i,o));"<"==s[0]&&!(i==U_&&o==U_)&&e.push(rz(o,i))}(r,n,e)):n.push(t),n}const B_=new Set(["true","1"]),j_=new Set(["false","0"]);function rz(t,e){const n=B_.has(t)||j_.has(t),r=B_.has(e)||j_.has(e);return(i,s)=>{let o=t==U_||t==i,a=e==U_||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?B_.has(t):j_.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?B_.has(e):j_.has(e)),o&&a}}const uge=new RegExp("s*:selfs*,?","g");function MS(t,e,n,r){return new cge(t).build(e,n,r)}class cge{constructor(e){this._driver=e}build(e,n,r){const i=new hge(n);return this._resetContextStyleTimingState(i),fr(this,zh(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&n.errors.push(function vpe(){return new T(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),0==a.type){const u=a,c=u.name;c.toString().split(/\s*,\s*/).forEach(l=>{u.name=l,s.push(this.visitState(u,n))}),u.name=c}else if(1==a.type){const u=this.visitTransition(a,n);r+=u.queryCount,i+=u.depCount,o.push(u)}else n.errors.push(function Epe(){return new T(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,n){const r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(u=>{tz(u).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(L_(s.values()),n.errors.push(function Ipe(t,e){return new T(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;const r=fr(this,zh(e.animation),n);return{type:1,matchers:sge(e.expr,n.errors),animation:r,queryCount:n.queryCount,depCount:n.depCount,options:ha(e.options)}}visitSequence(e,n){return{type:2,steps:e.steps.map(r=>fr(this,r,n)),options:ha(e.options)}}visitGroup(e,n){const r=n.currentTime;let i=0;const s=e.steps.map(o=>{n.currentTime=r;const a=fr(this,o,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:3,steps:s,options:ha(e.options)}}visitAnimate(e,n){const r=function pge(t,e){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return NS(V_(t,e).duration,0,"");const n=t;if(n.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=NS(0,0,"");return s.dynamic=!0,s.strValue=n,s}const i=V_(n,e);return NS(i.duration,i.delay,i.easing)}(e.timings,n.errors);n.currentAnimateTimings=r;let i,s=e.styles?e.styles:jh({});if(5==s.type)i=this.visitKeyframes(s,n);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=jh(c)}n.currentTime+=r.duration+r.delay;const u=this.visitStyle(o,n);u.isEmptyStep=a,i=u}return n.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,n){const r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===as?r.push(a):n.errors.push(new T(3002,!1)):r.push(ZH(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let u of a.values())if(u.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){const r=n.currentAnimateTimings;let i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,u)=>{const c=n.collectedStyles.get(n.currentQuerySelector),l=c.get(u);let d=!0;l&&(s!=i&&s>=l.startTime&&i<=l.endTime&&(n.errors.push(function Tpe(t,e,n,r,i){return new T(3010,!1)}()),d=!1),s=l.startTime),d&&c.set(u,{startTime:s,endTime:i}),n.options&&function tge(t,e,n){const r=e.params||{},i=tz(t);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(function gpe(t){return new T(3001,!1)}())})}(a,n.options,n.errors)})})}visitKeyframes(e,n){const r={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function Cpe(){return new T(3011,!1)}()),r;let s=0;const o=[];let a=!1,u=!1,c=0;const l=e.steps.map(v=>{const _=this._makeStyleAst(v,n);let I=null!=_.offset?_.offset:function fge(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){const r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}(_.styles),C=0;return null!=I&&(s++,C=_.offset=I),u=u||C<0||C>1,a=a||C<c,c=C,o.push(C),_});u&&n.errors.push(function bpe(){return new T(3012,!1)}()),a&&n.errors.push(function Dpe(){return new T(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?n.errors.push(function Ape(){return new T(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=n.currentTime,g=n.currentAnimateTimings,m=g.duration;return l.forEach((v,_)=>{const I=h>0?_==f?1:h*_:o[_],C=I*m;n.currentTime=p+g.delay+C,g.duration=C,this._validateStyleAst(v,n),v.offset=I,r.styles.push(v)}),r}visitReference(e,n){return{type:8,animation:fr(this,zh(e.animation),n),options:ha(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:9,options:ha(e.options)}}visitAnimateRef(e,n){return{type:10,animation:this.visitReference(e.animation,n),options:ha(e.options)}}visitQuery(e,n){const r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;const[s,o]=function lge(t){const e=!!t.split(/\s*,\s*/).find(n=>":self"==n);return e&&(t=t.replace(uge,"")),t=t.replace(/@\*/g,F_).replace(/@\w+/g,n=>F_+"-"+n.slice(1)).replace(/:animating/g,AS),[t,e]}(e.selector);n.currentQuerySelector=r.length?r+" "+s:s,hr(n.collectedStyles,n.currentQuerySelector,new Map);const a=fr(this,zh(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:ha(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(function Spe(){return new T(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:V_(e.timings,n.errors,!0);return{type:12,animation:fr(this,zh(e.animation),n),timings:r,options:null}}}class hge{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ha(t){return t?(t=Hh(t)).params&&(t.params=function dge(t){return t?Hh(t):null}(t.params)):t={},t}function NS(t,e,n){return{duration:t,delay:e,easing:n}}function xS(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class $_{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const _ge=new RegExp(":enter","g"),vge=new RegExp(":leave","g");function OS(t,e,n,r,i,s=new Map,o=new Map,a,u,c=[]){return(new Ege).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class Ege{buildKeyframes(e,n,r,i,s,o,a,u,c,l=[]){c=c||new $_;const d=new kS(e,n,c,i,s,l,[]);d.options=u;const h=u.delay?us(u.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,u),fr(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let g=f.length-1;g>=0;g--){const m=f[g];if(m.element===n){p=m;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,u)}return f.length?f.map(p=>p.buildKeyframes()):[xS(n,[],[],[],0,h,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){const r=n.subInstructions.get(n.element);if(r){const i=n.createSubContext(e.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){const r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:us(qh(s,i?.params??{},n.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,n,r){let s=n.currentTimeline.currentTime;const o=null!=r.duration?us(r.duration):null,a=null!=r.delay?us(r.delay):null;return 0!==o&&e.forEach(u=>{const c=n.appendInstructionToTimeline(u,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),fr(this,e.animation,n),n.previousNode=e}visitSequence(e,n){const r=n.subContextCount;let i=n;const s=e.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=H_);const o=us(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>fr(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){const r=[];let i=n.currentTimeline.currentTime;const s=e.options&&e.options.delay?us(e.options.delay):0;e.steps.forEach(o=>{const a=n.createSubContext(e.options);s&&a.delayNextStep(s),fr(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){const r=e.strValue;return V_(n.params?qh(r,n.params,n.errors):r,n.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){const r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){const r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){const r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(u=>{a.forwardTime((u.offset||0)*s),a.setStyles(u.styles,u.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+s),n.previousNode=e}visitQuery(e,n){const r=n.currentTimeline.currentTime,i=e.options||{},s=i.delay?us(i.delay):0;s&&(6===n.previousNode.type||0==r&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=H_);let o=r;const a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let u=null;a.forEach((c,l)=>{n.currentQueryIndex=l;const d=n.createSubContext(e.options,c);s&&d.delayNextStep(s),c===n.element&&(u=d.currentTimeline),fr(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),u&&(n.currentTimeline.mergeTimelineCollectedStyles(u),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){const r=n.parentContext,i=n.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1);let u=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=a-u;break;case"full":u=r.currentStaggerTime}const l=n.currentTimeline;u&&l.delayNextStep(u);const d=l.currentTime;fr(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const H_={};class kS{constructor(e,n,r,i,s,o,a,u){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=H_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new z_(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=us(r.duration)),null!=r.delay&&(i.delay=us(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=qh(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const n=this.options.params;if(n){const r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){const i=n||this.element,s=new kS(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=H_,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){const i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new Ige(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(_ge,"."+this._enterClassName)).replace(vge,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(function Rpe(t){return new T(3014,!1)}()),a}}class z_{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new z_(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||as),this._currentKeyframe.set(n,as);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);const s=i&&i.params||{},o=function wge(t,e){const n=new Map;let r;return t.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)n.set(s,as)}else eo(i,n)}),n}(e,this._globalTimelineStyles);for(let[a,u]of o){const c=qh(u,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??as),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{const i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,u)=>{const c=eo(a,new Map,this._backFill);c.forEach((l,d)=>{"!"===l?e.add(d):l===as&&n.add(d)}),r||c.set("offset",u/this.duration),i.push(c)});const s=e.size?L_(e.values()):[],o=n.size?L_(n.values()):[];if(r){const a=i[0],u=new Map(a);a.set("offset",0),u.set("offset",1),i=[a,u]}return xS(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class Ige extends z_{constructor(e,n,r,i,s,o,a=!1){super(e,n,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){const s=[],o=r+n,a=n/o,u=eo(e[0]);u.set("offset",0),s.push(u);const c=eo(e[0]);c.set("offset",oz(a)),s.push(c);const l=e.length-1;for(let d=1;d<=l;d++){let h=eo(e[d]);const f=h.get("offset");h.set("offset",oz((n+f*r)/o)),s.push(h)}r=o,n=0,i="",e=s}return xS(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}function oz(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class FS{}const Tge=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Cge extends FS{normalizePropertyName(e,n){return PS(e)}normalizeStyleValue(e,n,r,i){let s="";const o=r.toString().trim();if(Tge.has(n)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function ype(t,e){return new T(3005,!1)}())}return o+s}}function az(t,e,n,r,i,s,o,a,u,c,l,d,h){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:d,errors:h}}const VS={};class uz{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return function bge(t,e,n,r,i){return t.some(s=>s(e,n,r,i))}(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,s,o,a,u,c,l){const d=[],h=this.ast.options&&this.ast.options.params||VS,p=this.buildStyles(r,a&&a.params||VS,d),g=u&&u.params||VS,m=this.buildStyles(i,g,d),v=new Set,_=new Map,I=new Map,C="void"===i,M={params:Dge(g,h),delay:this.ast.options?.delay},$=l?[]:OS(e,n,this.ast.animation,s,o,p,m,M,c,d);let X=0;if($.forEach(ot=>{X=Math.max(ot.duration+ot.delay,X)}),d.length)return az(n,this._triggerName,r,i,C,p,m,[],[],_,I,X,d);$.forEach(ot=>{const yn=ot.element,K_=hr(_,yn,new Set);ot.preStyleProps.forEach(fa=>K_.add(fa));const Wh=hr(I,yn,new Set);ot.postStyleProps.forEach(fa=>Wh.add(fa)),yn!==n&&v.add(yn)});const ye=L_(v.values());return az(n,this._triggerName,r,i,C,p,m,$,ye,_,I,X)}}function Dge(t,e){const n=Hh(e);for(const r in t)t.hasOwnProperty(r)&&null!=t[r]&&(n[r]=t[r]);return n}class Age{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){const r=new Map,i=Hh(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=qh(o,i,n));const u=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,u,o,n),r.set(a,o)})}),r}}class Rge{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{this.states.set(i.name,new Age(i.style,i.options&&i.options.params||{},r))}),cz(this.states,"true","1"),cz(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new uz(e,i,this.states))}),this.fallbackTransition=function Pge(t,e,n){return new uz(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(o=>o.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}}function cz(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}const Mge=new $_;class Nge{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){const r=[],s=MS(this._driver,n,r,[]);if(r.length)throw function Fpe(t){return new T(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,n,r){const i=e.element,s=qH(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=OS(this._driver,n,s,DS,O_,new Map,new Map,r,Mge,i),o.forEach(l=>{const d=hr(a,l.element,new Map);l.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function Vpe(){return new T(3300,!1)}()),o=[]),i.length)throw function Lpe(t){return new T(3504,!1)}();a.forEach((l,d)=>{l.forEach((h,f)=>{l.set(f,this._driver.computeStyle(d,f,as))})});const c=Zs(o.map(l=>{const d=a.get(l.element);return this._buildPlayer(l,new Map,d)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);const r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){const n=this._playersById.get(e);if(!n)throw function Upe(t){return new T(3301,!1)}();return n}listen(e,n,r,i){const s=TS(n,"","","");return IS(this._getPlayer(e),r,s,i),()=>{}}command(e,n,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,n,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const lz="ng-animate-queued",LS="ng-animate-disabled",Vge=[],dz={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Lge={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Hr="__ng_removed";class US{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;const r=e&&e.hasOwnProperty("value");if(this.value=function $ge(t){return t??null}(r?e.value:e),r){const s=Hh(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const n=e.params;if(n){const r=this.options.params;Object.keys(n).forEach(i=>{null==r[i]&&(r[i]=n[i])})}}}const Gh="void",BS=new US(Gh);class Uge{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Dr(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw function Bpe(t,e){return new T(3302,!1)}();if(null==r||0==r.length)throw function jpe(t){return new T(3303,!1)}();if(!function Hge(t){return"start"==t||"done"==t}(r))throw function $pe(t,e){return new T(3400,!1)}();const s=hr(this._elementListeners,e,[]),o={name:n,phase:r,callback:i};s.push(o);const a=hr(this._engine.statesByElement,e,new Map);return a.has(n)||(Dr(e,k_),Dr(e,k_+"-"+n),a.set(n,BS)),()=>{this._engine.afterFlush(()=>{const u=s.indexOf(o);u>=0&&s.splice(u,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return!this._triggers.has(e)&&(this._triggers.set(e,n),!0)}_getTrigger(e){const n=this._triggers.get(e);if(!n)throw function Hpe(t){return new T(3401,!1)}();return n}trigger(e,n,r,i=!0){const s=this._getTrigger(n),o=new jS(this.id,n,e);let a=this._engine.statesByElement.get(e);a||(Dr(e,k_),Dr(e,k_+"-"+n),this._engine.statesByElement.set(e,a=new Map));let u=a.get(n);const c=new US(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),a.set(n,c),u||(u=BS),c.value!==Gh&&u.value===c.value){if(!function Gge(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const s=n[i];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}(u.params,c.params)){const g=[],m=s.matchStyles(u.value,u.params,g),v=s.matchStyles(c.value,c.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{da(e,m),Ei(e,v)})}return}const h=hr(this._engine.playersByElement,e,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==n&&g.queued&&g.destroy()});let f=s.matchTransition(u.value,c.value,e,c.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:f,fromState:u,toState:c,player:o,isFallbackTransition:p}),p||(Dr(e,lz),o.onStart(()=>{Pc(e,lz)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const m=this._engine.playersByElement.get(e);if(m){let v=m.indexOf(o);v>=0&&m.splice(v,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){const r=this._engine.driver.query(e,F_,!0);r.forEach(i=>{if(i[Hr])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((u,c)=>{if(o.set(c,u.value),this._triggers.has(c)){const l=this.trigger(e,c,Gh,i);l&&a.push(l)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),r&&Zs(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){const i=new Set;n.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const u=this._triggers.get(o).fallbackTransition,c=r.get(o)||BS,l=new US(Gh),d=new jS(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:u,fromState:c,toState:l,player:d,isFallbackTransition:!0})})}}removeNode(e,n){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{const s=e[Hr];(!s||s===dz)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){Dr(e,this._hostClassName)}drainQueuedTransitions(e){const n=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const u=TS(s,r.triggerName,r.fromState.value,r.toState.value);u._data=e,IS(r.player,a.phase,u,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class Bge{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r){this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){const r=new Uge(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){const u=i.get(a);if(u){const c=r.indexOf(u);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const n=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}return n}trigger(e,n,r,i){if(q_(n)){const s=this._fetchNamespace(e);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!q_(n))return;const s=n[Hr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Dr(e,LS)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Pc(e,LS))}removeNode(e,n,r){if(q_(n)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);const s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,s){this.collectedLeaveElements.push(n),n[Hr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,r,i,s){return q_(n)?this._fetchNamespace(e).listen(n,r,i,s):()=>{}}_buildInstruction(e,n,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,F_,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,AS,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Zs(this.players).onDone(()=>e());e()})}processLeaveNode(e){const n=e[Hr];if(n&&n.setForRemoval){if(e[Hr]=dz,n.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(LS)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Dr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],n.length?Zs(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function zpe(t){return new T(3402,!1)}()}_flushAnimations(e,n){const r=new $_,i=[],s=new Map,o=[],a=new Map,u=new Map,c=new Map,l=new Set;this.disabledNodes.forEach(q=>{l.add(q);const Q=this.driver.query(q,".ng-animate-queued",!0);for(let J=0;J<Q.length;J++)l.add(Q[J])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=pz(h,this.collectedEnterElements),p=new Map;let g=0;f.forEach((q,Q)=>{const J=DS+g++;p.set(Q,J),q.forEach(be=>Dr(be,J))});const m=[],v=new Set,_=new Set;for(let q=0;q<this.collectedLeaveElements.length;q++){const Q=this.collectedLeaveElements[q],J=Q[Hr];J&&J.setForRemoval&&(m.push(Q),v.add(Q),J.hasAnimation?this.driver.query(Q,".ng-star-inserted",!0).forEach(be=>v.add(be)):_.add(Q))}const I=new Map,C=pz(h,Array.from(v));C.forEach((q,Q)=>{const J=O_+g++;I.set(Q,J),q.forEach(be=>Dr(be,J))}),e.push(()=>{f.forEach((q,Q)=>{const J=p.get(Q);q.forEach(be=>Pc(be,J))}),C.forEach((q,Q)=>{const J=I.get(Q);q.forEach(be=>Pc(be,J))}),m.forEach(q=>{this.processLeaveNode(q)})});const M=[],$=[];for(let q=this._namespaceList.length-1;q>=0;q--)this._namespaceList[q].drainQueuedTransitions(n).forEach(J=>{const be=J.player,Wt=J.element;if(M.push(be),this.collectedEnterElements.length){const vn=Wt[Hr];if(vn&&vn.setForMove){if(vn.previousTriggersValues&&vn.previousTriggersValues.has(J.triggerName)){const pa=vn.previousTriggersValues.get(J.triggerName),Ar=this.statesByElement.get(J.element);if(Ar&&Ar.has(J.triggerName)){const Q_=Ar.get(J.triggerName);Q_.value=pa,Ar.set(J.triggerName,Q_)}}return void be.destroy()}}const Ii=!d||!this.driver.containsElement(d,Wt),pr=I.get(Wt),to=p.get(Wt),at=this._buildInstruction(J,r,to,pr,Ii);if(at.errors&&at.errors.length)return void $.push(at);if(Ii)return be.onStart(()=>da(Wt,at.fromStyles)),be.onDestroy(()=>Ei(Wt,at.toStyles)),void i.push(be);if(J.isFallbackTransition)return be.onStart(()=>da(Wt,at.fromStyles)),be.onDestroy(()=>Ei(Wt,at.toStyles)),void i.push(be);const bz=[];at.timelines.forEach(vn=>{vn.stretchStartingKeyframe=!0,this.disabledNodes.has(vn.element)||bz.push(vn)}),at.timelines=bz,r.append(Wt,at.timelines),o.push({instruction:at,player:be,element:Wt}),at.queriedElements.forEach(vn=>hr(a,vn,[]).push(be)),at.preStyleProps.forEach((vn,pa)=>{if(vn.size){let Ar=u.get(pa);Ar||u.set(pa,Ar=new Set),vn.forEach((Q_,zS)=>Ar.add(zS))}}),at.postStyleProps.forEach((vn,pa)=>{let Ar=c.get(pa);Ar||c.set(pa,Ar=new Set),vn.forEach((Q_,zS)=>Ar.add(zS))})});if($.length){const q=[];$.forEach(Q=>{q.push(function qpe(t,e){return new T(3505,!1)}())}),M.forEach(Q=>Q.destroy()),this.reportError(q)}const X=new Map,ye=new Map;o.forEach(q=>{const Q=q.element;r.has(Q)&&(ye.set(Q,Q),this._beforeAnimationBuild(q.player.namespaceId,q.instruction,X))}),i.forEach(q=>{const Q=q.element;this._getPreviousPlayers(Q,!1,q.namespaceId,q.triggerName,null).forEach(be=>{hr(X,Q,[]).push(be),be.destroy()})});const ot=m.filter(q=>mz(q,u,c)),yn=new Map;fz(yn,this.driver,_,c,as).forEach(q=>{mz(q,u,c)&&ot.push(q)});const Wh=new Map;f.forEach((q,Q)=>{fz(Wh,this.driver,new Set(q),u,"!")}),ot.forEach(q=>{const Q=yn.get(q),J=Wh.get(q);yn.set(q,new Map([...Q?.entries()??[],...J?.entries()??[]]))});const fa=[],Tz=[],Cz={};o.forEach(q=>{const{element:Q,player:J,instruction:be}=q;if(r.has(Q)){if(l.has(Q))return J.onDestroy(()=>Ei(Q,be.toStyles)),J.disabled=!0,J.overrideTotalTime(be.totalTime),void i.push(J);let Wt=Cz;if(ye.size>1){let pr=Q;const to=[];for(;pr=pr.parentNode;){const at=ye.get(pr);if(at){Wt=at;break}to.push(pr)}to.forEach(at=>ye.set(at,Wt))}const Ii=this._buildAnimation(J.namespaceId,be,X,s,Wh,yn);if(J.setRealPlayer(Ii),Wt===Cz)fa.push(J);else{const pr=this.playersByElement.get(Wt);pr&&pr.length&&(J.parentPlayer=Zs(pr)),i.push(J)}}else da(Q,be.fromStyles),J.onDestroy(()=>Ei(Q,be.toStyles)),Tz.push(J),l.has(Q)&&i.push(J)}),Tz.forEach(q=>{const Q=s.get(q.element);if(Q&&Q.length){const J=Zs(Q);q.setRealPlayer(J)}}),i.forEach(q=>{q.parentPlayer?q.syncPlayerEvents(q.parentPlayer):q.destroy()});for(let q=0;q<m.length;q++){const Q=m[q],J=Q[Hr];if(Pc(Q,O_),J&&J.hasAnimation)continue;let be=[];if(a.size){let Ii=a.get(Q);Ii&&Ii.length&&be.push(...Ii);let pr=this.driver.query(Q,AS,!0);for(let to=0;to<pr.length;to++){let at=a.get(pr[to]);at&&at.length&&be.push(...at)}}const Wt=be.filter(Ii=>!Ii.destroyed);Wt.length?zge(this,Q,Wt):this.processLeaveNode(Q)}return m.length=0,fa.forEach(q=>{this.players.push(q),q.onDone(()=>{q.destroy();const Q=this.players.indexOf(q);this.players.splice(Q,1)}),q.play()}),fa}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,s){let o=[];if(n){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const u=!s||s==Gh;a.forEach(c=>{c.queued||!u&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,n,r){const s=n.element,o=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:n.triggerName;for(const u of n.timelines){const c=u.element,l=c!==s,d=hr(r,c,[]);this._getPreviousPlayers(c,l,o,a,n.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}da(s,n.fromStyles)}_buildAnimation(e,n,r,i,s,o){const a=n.triggerName,u=n.element,c=[],l=new Set,d=new Set,h=n.timelines.map(p=>{const g=p.element;l.add(g);const m=g[Hr];if(m&&m.removedBeforeQueried)return new $h(p.duration,p.delay);const v=g!==u,_=function qge(t){const e=[];return gz(t,e),e}((r.get(g)||Vge).map(X=>X.getRealPlayer())).filter(X=>!!X.element&&X.element===g),I=s.get(g),C=o.get(g),M=qH(this._normalizer,p.keyframes,I,C),$=this._buildPlayer(p,M,_);if(p.subTimeline&&i&&d.add(g),v){const X=new jS(e,a,g);X.setRealPlayer($),c.push(X)}return $});c.forEach(p=>{hr(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function jge(t,e,n){let r=t.get(e);if(r){if(r.length){const i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),l.forEach(p=>Dr(p,JH));const f=Zs(h);return f.onDestroy(()=>{l.forEach(p=>Pc(p,JH)),Ei(u,n.toStyles)}),d.forEach(p=>{hr(i,p,[]).push(f)}),f}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new $h(e.duration,e.delay)}}class jS{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new $h,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>IS(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){hr(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const n=this._player;n.triggerCallback&&n.triggerCallback(e)}}function q_(t){return t&&1===t.nodeType}function hz(t,e){const n=t.style.display;return t.style.display=e??"none",n}function fz(t,e,n,r,i){const s=[];n.forEach(u=>s.push(hz(u)));const o=[];r.forEach((u,c)=>{const l=new Map;u.forEach(d=>{const h=e.computeStyle(c,d,i);l.set(d,h),(!h||0==h.length)&&(c[Hr]=Lge,o.push(c))}),t.set(c,l)});let a=0;return n.forEach(u=>hz(u,s[a++])),o}function pz(t,e){const n=new Map;if(t.forEach(a=>n.set(a,[])),0==e.length)return n;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let u=s.get(a);if(u)return u;const c=a.parentNode;return u=n.has(c)?c:i.has(c)?1:o(c),s.set(a,u),u}return e.forEach(a=>{const u=o(a);1!==u&&n.get(u).push(a)}),n}function Dr(t,e){t.classList?.add(e)}function Pc(t,e){t.classList?.remove(e)}function zge(t,e,n){Zs(n).onDone(()=>t.processLeaveNode(e))}function gz(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof UH?gz(r.players,e):e.push(r)}}function mz(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(s=>i.add(s)):e.set(t,r),n.delete(t),!0}class G_{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Bge(e,n,r),this._timelineEngine=new Nge(e,n,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,n,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const u=[],l=MS(this._driver,s,u,[]);if(u.length)throw function Ope(t,e){return new T(3404,!1)}();a=function Sge(t,e,n){return new Rge(t,e,n)}(i,l,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if("@"==r.charAt(0)){const[s,o]=GH(r);this._timelineEngine.command(s,n,o,i)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,s){if("@"==r.charAt(0)){const[o,a]=GH(r);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(e,n,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let Kge=(()=>{class t{static#e=this.initialStylesByElement=new WeakMap;constructor(n,r,i){this._element=n,this._startStyles=r,this._endStyles=i,this._state=0;let s=t.initialStylesByElement.get(n);s||t.initialStylesByElement.set(n,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Ei(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ei(this._element,this._initialStyles),this._endStyles&&(Ei(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(da(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(da(this._element,this._endStyles),this._endStyles=null),Ei(this._element,this._initialStyles),this._state=3)}}return t})();function $S(t){let e=null;return t.forEach((n,r)=>{(function Qge(t){return"display"===t||"position"===t})(r)&&(e=e||new Map,e.set(r,n))}),e}class _z{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:nz(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const n="start"===e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class Yge{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return KH(e,n)}getParentElement(e){return CS(e)}query(e,n,r){return QH(e,n,r)}computeStyle(e,n,r){return window.getComputedStyle(e)[n]}animate(e,n,r,i,s,o=[]){const u={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(u.easing=s);const c=new Map,l=o.filter(f=>f instanceof _z);(function rge(t,e){return 0===t||0===e})(r,i)&&l.forEach(f=>{f.currentSnapshot.forEach((p,g)=>c.set(g,p))});let d=function ege(t){return t.length?t[0]instanceof Map?t:t.map(e=>ZH(e)):[]}(n).map(f=>eo(f));d=function ige(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,nz(t,a)))}}return e}(e,d,c);const h=function Wge(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=$S(e[0]),e.length>1&&(r=$S(e[e.length-1]))):e instanceof Map&&(n=$S(e)),n||r?new Kge(t,n,r):null}(e,d);return new _z(e,d,u,h)}}let Xge=(()=>{class t extends kH{constructor(n,r){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(r.body,{id:"0",encapsulation:_r.None,styles:[],data:{animation:[]}})}build(n){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(n)?VH(n):n;return yz(this._renderer,null,r,"register",[i]),new Jge(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||t)(O(ll),O(kt))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac})}return t})();class Jge extends Mfe{constructor(e,n){super(),this._id=e,this._renderer=n}create(e,n){return new Zge(this._id,e,n||{},this._renderer)}}class Zge{constructor(e,n,r,i){this.id=e,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,n){return this._renderer.listen(this.element,`@@${this.id}:${e}`,n)}_command(e,...n){return yz(this._renderer,this.element,this.id,e,n)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function yz(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const vz="@.disabled";let eme=(()=>{class t{constructor(n,r,i){this.delegate=n,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(n,r){const s=this.delegate.createRenderer(n,r);if(!(n&&r&&r.data&&r.data.animation)){let l=this._rendererCache.get(s);return l||(l=new Ez("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,l)),l}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,n);const u=l=>{Array.isArray(l)?l.forEach(u):this.engine.registerTrigger(o,a,n,l.name,l)};return r.data.animation.forEach(u),new tme(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,r,i){n>=0&&n<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||t)(O(ll),O(G_),O(pe))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac})}return t})();class Ez{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){"@"==n.charAt(0)&&n==vz?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}}class tme extends Ez{constructor(e,n,r,i,s){super(n,r,i,s),this.factory=e,this.namespaceId=n}setProperty(e,n,r){"@"==n.charAt(0)?"."==n.charAt(1)&&n==vz?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if("@"==n.charAt(0)){const i=function nme(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(e);let s=n.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function rme(t){const e=t.indexOf(".");return[t.substring(0,e),t.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,n,r)}}let ime=(()=>{class t extends G_{constructor(n,r,i,s){super(n.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||t)(O(kt),O(bS),O(FS),O(Li))};static#t=this.\u0275prov=H({token:t,factory:t.\u0275fac})}return t})();const Iz=[{provide:kH,useClass:Xge},{provide:FS,useFactory:function sme(){return new Cge}},{provide:G_,useClass:ime},{provide:ll,useFactory:function ome(t,e,n){return new eme(t,e,n)},deps:[DI,G_,pe]}],HS=[{provide:bS,useFactory:()=>new Yge},{provide:zP,useValue:"BrowserAnimations"},...Iz],wz=[{provide:bS,useClass:YH},{provide:zP,useValue:"NoopAnimations"},...Iz];let ame=(()=>{class t{static withConfig(n){return{ngModule:t,providers:n.disableAnimations?wz:HS}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Nt({type:t});static#n=this.\u0275inj=bt({providers:HS,imports:[qO]})}return t})(),ume=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Nt({type:t});static#n=this.\u0275inj=bt({imports:[bO,dV,hV,HH,ame,epe.forRoot({timeOut:4e3,preventDuplicates:!0})]})}return t})(),cme=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Nt({type:t,bootstrap:[hpe]});static#n=this.\u0275inj=bt({imports:[qO,HH,dV,Wee,hV,ume,rre(()=>ire({projectId:"pinta-gonzalo",appId:"1:654289781621:web:bebc6cddce6e6dd1dc493c",storageBucket:"pinta-gonzalo.appspot.com",apiKey:"AIzaSyAvCUwO3oqiauHRY-0y99E0u7uT9o8q08c",authDomain:"pinta-gonzalo.firebaseapp.com",messagingSenderId:"654289781621"})),doe(()=>foe()),Cde(()=>Pde()),Afe(()=>Sfe())]})}return t})();FY().bootstrapModule(cme).catch(t=>console.error(t))}},Fe=>{Fe(Fe.s=743)}]);